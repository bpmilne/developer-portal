<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Dwolla API Docs</title>
    <link rel="shortcut icon" href="https://dwolla.github.io/slate/images/favicon.ico" type="image/x-icon" /> 
    <link href="https://dwolla.github.io/slate/stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="https://dwolla.github.io/slate/stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="https://dwolla.github.io/slate/javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["json","php","ruby","python","javascript"]);
        });
      </script>

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-55964336-1', 'auto');
        ga('send', 'pageview');

      </script>
  </head>

  <body class="index">
    <a href="request.html#" id="nav-button">
      <span>
        NAV
        <img src="https://dwolla.github.io/slate/images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
    <div class="notification">
    <a>API Version: &nbsp;</a>
        
        <a>
        <span>V1</span>
        </a>
        <a href="https://docsv2.dwolla.com">
        <span class="unselected">V2</span>
        </a>
    </div>

      <img class="logo" src="https://dwolla.github.io/slate/images/logo.png" />

        <div class="lang-selector">
              <a href="request.html#" data-language-name="json">json</a>
              <a href="request.html#" data-language-name="php">php</a>
              <a href="request.html#" data-language-name="ruby">ruby</a>
              <a href="request.html#" data-language-name="python">python</a>
              <a href="request.html#" data-language-name="javascript">node.js</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.dwolla.com/applications/create' target="_blank">Get API Credentials</a></li>
            <li><a href="https://discuss.dwolla.com/c/api-support" target="_blank">Get some help</a></li>
            <li><a href='../../pages/sandbox.html' target="_blank">Sandbox Environment</a></li>
            <li><a href='http://github.com/tripit/slate' target="_blank">Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id='introduction'>Introduction</h1><pre class="highlight plaintext"><code>  _          _ _             
 | |__   ___| | | ___        
 | '_ \ / _ \ | |/ _ \       
 | | | |  __/ | | (_) |      
 |_| |_|\___|_|_|\___/     _ 
 __      _____  _ __| | __| |
 \ \ /\ / / _ \| '__| |/ _` |
  \ V  V / (_) | |  | | (_| |
   \_/\_/ \___/|_|  |_|\__,_|

</code></pre>

<p>Welcome to the Dwolla API V1 documentation. Dwolla’s API enables you to send money, retrieve transaction data, request money, add bank accounts, accept payments, and a whole lot more.</p>

<p>Sample code is available in PHP, Ruby, Python, and Node.JS in the dark area to the right. </p>

<p>We’re in the process of migrating to a new API version &ndash; <a href="https://docsv2.dwolla.com/">Version 2</a>. Initially, the primary focus of the new version centers around a premium feature: White Label, and will not provide the same functionality as Version 1 does. API V1 will continue to be supported for the foreseeable future. Over time, we will add the same functionality currently available in V1 to V2. Feel free to <a href="http://eepurl.com/bhjXeP">sign up</a> for our Developer Newsletter to remain informed of our ongoing changes. </p>

<p>If you’re not sure where to start, ask a question in our <a href="https://discuss.dwolla.com/c/api-support">developer forum</a> or <a href="mailto:api@dwolla.com">get in touch</a> with our Developer Relations team. </p>
<h2 id='helper-libraries'>Helper Libraries</h2><pre class="highlight plaintext"><code>We'll show you sample code on this pane!
</code></pre>
<pre class="highlight plaintext"><code>Quote of the day:

&lt;erno&gt; hm. I've lost a machine.. literally _lost_. it responds to ping, it works completely, I just can't figure out where in my apartment it is.

</code></pre>

<p>A handful of libraries are officially maintained, and others are community maintained.</p>

<ul>
<li>PHP: <a href="https://github.com/Dwolla/dwolla-php">dwolla-php</a></li>
<li>Ruby: <a href="https://github.com/Dwolla/dwolla-ruby">dwolla-ruby</a></li>
<li>Python: <a href="https://github.com/Dwolla/dwolla-python">dwolla-python</a></li>
<li>Node.JS: <a href="https://github.com/Dwolla/dwolla-node">dwolla-node</a></li>
<li>Java: <a href="https://github.com/Dwolla/dwolla-java">dwolla-java</a></li>
<li>Clojure: <a href="https://github.com/Dwolla/dwolla-clojure">dwolla-clojure</a></li>
<li>Scala: <a href="https://github.com/Dwolla/dwolla-scala">dwolla-scala</a></li>
<li>Windows 8 SDK

<ul>
<li><a href="http://www.nuget.org/packages/Dwolla.InAppSDKWP8/">Phone</a></li>
<li><a href="http://www.nuget.org/packages/Dwolla.InAppSDK/">XAML</a></li>
<li><a href="http://www.nuget.org/packages/Dwolla.InAppSDK.JS/">JS</a></li>
</ul></li>
<li>iOS: <a href="https://github.com/Dwolla/dwolla-ios">dwolla-ios</a></li>
<li>OS X Cocoa: <a href="https://github.com/Dwolla/dwolla-cocoa">dwolla-cocoa</a></li>
<li>Perl: <a href="http://search.cpan.org/dist/WebService-Dwolla/">WebService-Dwolla</a></li>
<li>C# / .NET: <a href="http://github.com/Dwolla/dwolla.net">dwolla.net</a></li>
</ul>
<h2 id='making-requests'>Making Requests</h2><pre class="highlight shell"><code>POST https://www.dwolla.com/oauth/rest/transactions/send
Content-Type: application/json

<span class="o">{</span>
    amount: 15.23,
    destinationId: <span class="s1">'gordon@dwolla.com'</span>,
    destinationType: <span class="s1">'Email'</span>,
    pin: 1234
<span class="o">}</span>
</code></pre>
<pre class="highlight shell"><code>...

GET https://www.dwolla.com/oauth/rest/transactions?client_id<span class="o">=</span>XYZ&amp;client_secret<span class="o">=</span>JJJ&amp;limit<span class="o">=</span>10
</code></pre>

<p><code class="prettyprint">POST</code> requests must have a JSON encoded body and the 
<code class="prettyprint">Content-Type: application/json</code> header.</p>

<p><code class="prettyprint">GET</code> requests have parameters provided in the querysting.</p>

<p>All requests must be made over HTTPS.  Any HTTP requests are met with a HTTP 302 to its HTTPS equivalent.</p>
<aside class="notice"><p>Remember to <a href="http://en.wikipedia.org/wiki/Percent-encoding">url-encode</a> all GET querystring parameters!</p>
</aside><h2 id='responses'>Responses</h2>
<blockquote>
<p>Happy response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: 71332,
    <span class="s2">"_links"</span>: null
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Unsuccessful response</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">false</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Invalid access token."</span>,
    <span class="s2">"Response"</span>: null,
    <span class="s2">"_links"</span>: null
<span class="o">}</span>
</code></pre>

<p>Responses are always JSON encoded and are contained in an <em>envelope</em>.  </p>

<p>That means every API response contains: </p>

<ul>
<li><code class="prettyprint">Success</code>, a boolean indicating whether or not the call was successful, or resulted in an error</li>
<li><code class="prettyprint">Message</code>, an error message if the API call was unsuccessful, or <code class="prettyprint">&quot;Success&quot;</code> otherwise</li>
<li><code class="prettyprint">Response</code>, the actual data returned by the API call.</li>
</ul>

<p>Most API responses will contain:</p>

<ul>
<li><code class="prettyprint">_links</code>, object that contains links (to URIs). Keys within _links are the name of the link and describe the relationship between the current resource and the link.</li>
</ul>
<h2 id='facilitator-fees'>Facilitator Fees</h2>
<p>By <a href="../../pages/guides/facilitator_fee.html">enabling</a> the facilitator fee application feature, you can set your own percentage or flat fee from incoming transactions.  Transactions created via the Send endpoint and  transactions resulting from an <a href="request.html#checkouts">Off-Site Gateway</a> checkout can have a facilitator fee attached to it.  Facilitator fees can also be attached to <a href="request.html#money-requests">Money Requests</a> created by your application.  When the Money Request is fulfilled, the facilitator fee will be paid out.</p>

<p>Facilitator fees can be up to 50% of the transaction amount and must be at least $0.01.  They do not affect the original transaction amount, and exist as a separate <a href="request.html#transactions">Transaction</a> resource with a unique Transaction ID.</p>
<aside class="notice"><p><strong>Note</strong>: facilitator fee is a premium application feature. To try it out, please <a href="https://www.dwolla.com/contact">contact us</a> or call 1-888-289-8744.</p>
</aside><h2 id='metadata'>Metadata</h2>
<p>Metadata can be supplied for Send, MassPay Items, Money Requests, Refunds, and Checkouts in the metadata property. The <code class="prettyprint">metadata</code> property is a JSON object (a collection of &ldquo;key&rdquo;: &ldquo;value&rdquo; pairs). A maximum of 10 key-value pairs can be stored. Keys and values must be strings of maximum length 255 characters.</p>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Shipment ID"</span>: <span class="s2">"d289e89ej893r3r"</span>,
    <span class="s2">"TShirtSize"</span>: <span class="s2">"Small"</span>,
    <span class="s2">"DeliveryOption"</span>: <span class="s2">"Rush Shipping"</span>,
    <span class="s2">"InvoiceDate"</span>: <span class="s2">"12-06-2014"</span>,
    <span class="s2">"Priority"</span>: <span class="s2">"High"</span>,
    <span class="s2">"blah"</span>: <span class="s2">"blah"</span>
<span class="o">}</span>
</code></pre>
<h3 id='visibility--access'>Visibility / Access</h3>
<p>Metadata is intended as an expansion of the existing <code class="prettyprint">notes</code> field (a string of max length 255), in order to allow applications to store more data with resources.</p>

<p>Unlike the <code class="prettyprint">notes</code> field, which is visible to:</p>

<ol>
<li>the application that created the transaction</li>
<li>the recipient and sender of the transaction (through the Dwolla.com dashboard)</li>
<li>any future applications that view the transaction</li>
</ol>

<p><code class="prettyprint">metadata</code> is only visible to the application that created the transaction. No other application, nor the sender or receiver may access the metadata field.</p>
<h3 id='warnings'>Warnings</h3>
<p>Currently, there are 2 bugs we are aware of:</p>

<ol>
<li>If an metadata collection contains two duplicate keys, a HTTP 500 XML response will be thrown instead of a proper error response.</li>
<li>Keys which start with a number or symbol (ex. &ldquo;10&rdquo;, &ldquo;10abc&rdquo;, &ldquo;$abc&rdquo;) are rejected.</li>
</ol>
<h2 id='errors'>Errors</h2>
<p>When an API request results in an error, Dwolla <em>typically</em> responds with a HTTP status code of <code class="prettyprint">200</code> and response body containing a JSON object containing an error <code class="prettyprint">Message</code>, with <code class="prettyprint">Success</code> set to <code class="prettyprint">false</code> and <code class="prettyprint">Response</code> being <code class="prettyprint">null</code>. </p>

<p>However, in special cases, where there is an uncaught exception on our system, or when the API request is malformed (JSON syntax error, duplicated keys) Dwolla will return an HTTP <code class="prettyprint">500</code> with an XML response body.  We realize that having two different response formats for errors is far from ideal, and is something we aim to fix in future versions of the API.</p>
<pre class="highlight shell"><code>Standard HTTP 200 JSON response:
<span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">false</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Access token is empty."</span>,
    <span class="s2">"Response"</span>: null
<span class="o">}</span>
</code></pre>
<pre class="highlight shell"><code>HTTP 500 XML response:
</code></pre>
<pre class="highlight xml"><code><span class="nt">&lt;Fault&gt;</span>
    xmlns="http://schemas.microsoft.com/ws/2005/05/envelope/none"&gt;
    <span class="nt">&lt;Code&gt;</span>
        <span class="nt">&lt;Value&gt;</span>Receiver<span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;Subcode&gt;</span>
            <span class="nt">&lt;Value</span> 
                <span class="na">xmlns:a=</span><span class="s">"http://schemas.microsoft.com/net/2005/12/windowscommunicationfoundation/dispatcher"</span><span class="nt">&gt;</span>a:InternalServiceFault
            <span class="nt">&lt;/Value&gt;</span>
        <span class="nt">&lt;/Subcode&gt;</span>
    <span class="nt">&lt;/Code&gt;</span>
    <span class="nt">&lt;Reason&gt;</span>
        <span class="nt">&lt;Text</span> <span class="na">xml:lang=</span><span class="s">"en-US"</span><span class="nt">&gt;</span>The server was unable to process the request due to an internal error.  For more information about the error, either turn on IncludeExceptionDetailInFaults (either from ServiceBehaviorAttribute or from the <span class="ni">&amp;lt;</span>serviceDebug<span class="ni">&amp;gt;</span> configuration behavior) on the server in order to send the exception information back to the client, or turn on tracing as per the Microsoft .NET Framework 3.0 SDK documentation and inspect the server trace logs.<span class="nt">&lt;/Text&gt;</span>
    <span class="nt">&lt;/Reason&gt;</span>
<span class="nt">&lt;/Fault&gt;</span>
</code></pre>

<table><thead>
<tr>
<th>HTTP Status</th>
<th>Response Type</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>JSON</td>
<td>Normal errors</td>
</tr>
<tr>
<td>500</td>
<td>XML</td>
<td>Results from an invalid request or uncaught server exception</td>
</tr>
</tbody></table>
<h3 id='general-errors'>General Errors</h3>
<p>The following errors are common across all API endpoints.</p>

<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Access token is empty.</td>
<td>No OAuth access token has been supplied.</td>
</tr>
<tr>
<td>Invalid access token.</td>
<td>No OAuth access token has been supplied.</td>
</tr>
<tr>
<td>Token does not have access to requested resource. Token must have {&hellip;} scope access.</td>
<td>The given OAuth token does not have access to the requested scope used. Please review the scopes list.</td>
</tr>
<tr>
<td>Invalid account status for user of this access token.</td>
<td>The account associated with the given OAuth token is in an invalid status.</td>
</tr>
<tr>
<td>Application is either not verified or suspended.</td>
<td>The application used to generate the OAuth token has been unverified or suspended.</td>
</tr>
<tr>
<td>Account temporarily locked</td>
<td>Too many failed attempts have been made to access this account. The account has been temporarily locked for 30 minutes.</td>
</tr>
<tr>
<td>Unexpected error has occurred.</td>
<td>Something unexpected happened. It has been logged on our end and will be reviewed shortly.</td>
</tr>
</tbody></table>

          <h1 id='authentication'>Authentication</h1>
<blockquote>
<p>You&rsquo;ll need to provide your Application key and secret when you initialize our libraries.</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">Dwolla</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'dwolla'</span><span class="p">)(</span><span class="s2">"key here"</span><span class="p">,</span> <span class="s2">"secret here"</span><span class="p">);</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">setToken</span><span class="p">(</span><span class="s2">"token goes here"</span><span class="p">);</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'dwolla'</span>

<span class="c1"># set API keys</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="n">api_key</span> <span class="o">=</span> <span class="s2">"blahblahblah"</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="n">api_secret</span> <span class="o">=</span> <span class="s2">"shhhhhh"</span>

<span class="c1"># set an OAuth access token</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="n">token</span> <span class="o">=</span> <span class="s2">"JRRTolkien"</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="c1">// Any dwolla-php subclass can be configured in the following manner
</span><span class="k">require</span> <span class="s1">'../vendor/autoload.php'</span><span class="p">;</span>
<span class="nv">$Account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Account</span><span class="p">();</span>

<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">sandbox</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">debug</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="s2">"Key"</span><span class="p">;</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="s2">"Secret"</span><span class="p">;</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"OAuth token"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">from</span> <span class="nn">dwolla</span> <span class="kn">import</span> <span class="n">accounts</span><span class="p">,</span> <span class="n">constants</span>

<span class="c"># Configure the library (change these)</span>
<span class="n">constants</span><span class="o">.</span><span class="n">sandbox</span><span class="o">=</span><span class="bp">False</span>

<span class="n">constants</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="s">"zbDwIC0dWCVU7cQtfvGwVwVjvxwQfjaTgkVi+FZOmKqPBzK5JG"</span>
<span class="n">constants</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="s">"ckmgwJz9h/fZ09unyXxpupCyrmAMe0bnUiMHF/0+SDaR9RHe99"</span>
<span class="n">constants</span><span class="o">.</span><span class="n">access_token</span> <span class="o">=</span> <span class="s">"aK6DdCVlIsR1hKvTbp8VCwnvci8cwaTLlW9edtbHJVmKoopnoe"</span>

<span class="c"># Use the endpoints under accounts()</span>
<span class="k">print</span> <span class="n">accounts</span><span class="o">.</span><span class="n">basic</span><span class="p">(</span><span class="s">'some ID'</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Invalid or Expired Access Token Response:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"Success"</span>: <span class="nb">false</span>,
  <span class="s2">"Message"</span>: <span class="s2">"Invalid access token."</span>,
  <span class="s2">"Response"</span>: null
<span class="o">}</span>
<span class="o">{</span>
  <span class="s2">"Success"</span>: <span class="nb">false</span>,
  <span class="s2">"Message"</span>: <span class="s2">"Expired access token."</span>,
  <span class="s2">"Response"</span>: null
<span class="o">}</span>
</code></pre>

<p>To interact with the API, you will need API keys.  <a href="https://www.dwolla.com/applications/create">Create a consumer application</a> in order to get an Application <code class="prettyprint">key</code> and <code class="prettyprint">secret</code>.</p>

<p>Some API endpoints only require your application <code class="prettyprint">key</code> and <code class="prettyprint">secret</code> (for instance, <a href="request.html#create-a-checkout">creating a checkout</a> or <a href="request.html#lookup-user">looking up a user</a>), but most require an OAuth <code class="prettyprint">access_token</code>.</p>

<p>For endpoints that require an OAuth access token, it should be included in the Authorization HTTP header like so:</p>

<p><code class="prettyprint">Authorization: Bearer &lt;T0K3N_H3R3&gt;</code></p>
<aside class="notice"><p>Needless to say, you should replace <code>&lt;T0K3N_H3R3&gt;</code> with an OAuth <code>access_token</code>!</p>
</aside>
          <h1 id='oauth'>OAuth</h1><pre class="highlight plaintext"><code>  /$$$$$$   /$$$$$$              /$$     /$$      
 /$$__  $$ /$$__  $$            | $$    | $$      
| $$  \ $$| $$  \ $$ /$$   /$$ /$$$$$$  | $$$$$$$ 
| $$  | $$| $$$$$$$$| $$  | $$|_  $$_/  | $$__  $$
| $$  | $$| $$__  $$| $$  | $$  | $$    | $$  \ $$
| $$  | $$| $$  | $$| $$  | $$  | $$ /$$| $$  | $$
|  $$$$$$/| $$  | $$|  $$$$$$/  |  $$$$/| $$  | $$
 \______/ |__/  |__/ \______/    \___/  |__/  |__/                                                          

</code></pre>

<p>Dwolla&rsquo;s API lets you interact with a user&rsquo;s Dwolla account and act on its behalf to send money, request money, and more.  To do so, your application first needs to request authorization from users.  </p>

<p>Dwolla implements the <a href="http://oauth.net/2/">OAuth 2.0 standard</a> to facilitate this authorization. Similar to Facebook and Twitter&rsquo;s authentication flow, the user is first presented with a permission dialog for your application, at which point the user can either approve the permissions requested, or reject them. Once the user approves, an <code class="prettyprint">authorization_code</code> is sent to your application, which will then <a href="request.html#finish-authorization">be exchanged</a> for an <code class="prettyprint">access_token</code> and a <code class="prettyprint">refresh_token</code> pair. </p>

<p>The <code class="prettyprint">access_token</code> can then be used to make API calls which require user authentication like <a href="request.html#send-money">Send</a> or <a href="request.html#list-a-user's-transactions">List Transactions</a>. </p>
<h3 id='token-lifetimes'>Token lifetimes</h3>
<p><strong>Access tokens</strong> are <em>short lived</em>: 1 hour.</p>

<p><strong>Refresh tokens</strong> are <em>long lived</em>: 60 days.</p>

<p>A refresh token can be used within 60 days to generate a new access_token and refresh_token pair.  So long as you <a href="request.html#refresh-authorization">refresh your authorization</a> at least every 60 days, your application can maintain authorization indefinitely without requiring the user to re-authorize.</p>
<h2 id='request-authorization'>Request Authorization</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$OAuth</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\OAuth</span><span class="p">();</span>
<span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$url</span> <span class="o">=</span> <span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">genAuthUrl</span><span class="p">(</span><span class="s2">"https://myredirect.com/redirect"</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Generate OAuth URL with redirect to requestb.in</span>
<span class="k">print</span><span class="p">(</span><span class="n">oauth</span><span class="o">.</span><span class="n">genauthurl</span><span class="p">(</span><span class="s">"http://requestb.in/122rdhc1"</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// where to send the user after they grant permission:</span>
<span class="kd">var</span> <span class="nx">redirect_uri</span> <span class="o">=</span> <span class="s2">"https://www.myredirect.com/redirect"</span><span class="p">;</span>  

<span class="c1">// generate OAuth initiation URL</span>
<span class="kd">var</span> <span class="nx">authUrl</span> <span class="o">=</span> <span class="nx">Dwolla</span><span class="p">.</span><span class="nx">authUrl</span><span class="p">(</span><span class="nx">redirect_uri</span><span class="p">);</span>
</code></pre>
<pre class="highlight ruby"><code><span class="n">redirect_uri</span> <span class="o">=</span> <span class="s2">"https://www.myredirect.com/redirect"</span>
<span class="n">authUrl</span> <span class="o">=</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">OAuth</span><span class="p">.</span><span class="nf">get_auth_url</span><span class="p">(</span><span class="n">redirect_uri</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Example initiation URL:</p>
</blockquote>
<pre class="highlight shell"><code>https://www.dwolla.com/oauth/v2/authenticate?client_id<span class="o">=</span>abcdefg&amp;response_type<span class="o">=</span>code&amp;redirect_uri<span class="o">=</span>https%3A%2F%2Fwww.myredirect.com%2Fredirect&amp;scope<span class="o">=</span>send|transactions
</code></pre>

<p>To start the OAuth process, construct the initiation URL which the user will visit in order to grant permission to your application.  It describes the permissions your application requires (<code class="prettyprint">scope</code>), who the client application is (<code class="prettyprint">client_id</code>), and where the user should be redirected to after they grant or deny permissions to your application (<code class="prettyprint">redirect_uri</code>).</p>
<h3 id='url-format'>URL Format:</h3>
<p><code class="prettyprint">
https://www.dwolla.com/oauth/v2/authenticate?client_id={client_id}&amp;response_type=code&amp;redirect_uri={redirect_uri}&amp;scope={scope}
</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td></td>
<td>Application key</td>
</tr>
<tr>
<td>response_type</td>
<td></td>
<td>This must always be set to <code class="prettyprint">code</code></td>
</tr>
<tr>
<td>redirect_uri</td>
<td></td>
<td>URL where the user will be redirected to afterwards. The value of this parameter must match one of the values that appear in your <a href="https://www.dwolla.com/applications">application details</a> page. (We compare: protocol, subdomain, domain, tld, and file path. Querystring parameters are ignored)</td>
</tr>
<tr>
<td>scope</td>
<td></td>
<td>Permissions you are requesting.  See <a href="request.html#oauth-scopes">below</a> for list of available scopes.  Scopes are delimited by a pipe (&ldquo;&#124;&rdquo;)</td>
</tr>
<tr>
<td>verified_account</td>
<td>yes</td>
<td>Require new users opting to register for Dwolla to create a fully-verified Dwolla account instead of a default lightweight Direct account. <code class="prettyprint">true</code> or <code class="prettyprint">false</code></td>
</tr>
<tr>
<td>dwolla_landing</td>
<td>yes</td>
<td>An optional override that force displays either the login or create an account screen. Valid values are: <code class="prettyprint">login</code>, <code class="prettyprint">register</code>, or <code class="prettyprint">null</code>.</td>
</tr>
</tbody></table>
<aside class="notice"><p>Remember to url-encode all querystring parameters!</p>
</aside><h3 id='oauth-scopes'>OAuth Scopes</h3>
<p>Applications may request the following permission scopes when generating an access token:</p>

<table><thead>
<tr>
<th>Scope Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>AccountInfoFull</td>
<td>Access detailed account profile</td>
</tr>
<tr>
<td>Contacts</td>
<td>Access the user&rsquo;s contacts</td>
</tr>
<tr>
<td>Transactions</td>
<td>Access the user&rsquo;s transaction data</td>
</tr>
<tr>
<td>Balance</td>
<td>Access the user&rsquo;s Dwolla account balance</td>
</tr>
<tr>
<td>Send</td>
<td>Send money on the user&rsquo;s behalf</td>
</tr>
<tr>
<td>Request</td>
<td>Send money requests, list them, fulfill them</td>
</tr>
<tr>
<td>Funding</td>
<td>Access names of funding sources the user has connected to Dwolla, access available balance information for Dwolla Balance and Dwolla Credit (if applicable), add new funding sources, verify funding sources, initiate transfers to and from funding sources.</td>
</tr>
<tr>
<td>ManageAccount</td>
<td>Manage the user&rsquo;s account settings</td>
</tr>
<tr>
<td>Scheduled</td>
<td>Allow scheduling one-time and recurring payments.</td>
</tr>
</tbody></table>
<h2 id='finish-authorization'>Finish Authorization</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$OAuth</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\OAuth</span><span class="p">();</span>
<span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$authorizationCode</span> <span class="o">=</span> <span class="s2">"J9kkk2JbX7Yjl4L28fM13il46QI="</span><span class="p">;</span>
<span class="nv">$redirect_uri</span> <span class="o">=</span> <span class="s2">"https://www.myredirect.com/redirect"</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="nv">$authorizationCode</span><span class="p">,</span> <span class="nv">$redirect_uri</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get access key and refresh token pair</span>
<span class="n">access_set</span> <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"Z/KHDIyWO/LboIGn3wGGs1+sRWg="</span><span class="p">,</span> <span class="s">"http://requestb.in/122rdhc1"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">access_set</span><span class="p">)</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"h6TvQZH+5BsV//O43uOJ0uRkBLk="</span><span class="p">,</span><span class="w">
  </span><span class="nt">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.myredirect.com/redirect"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code><span class="nx">Dwolla</span><span class="p">.</span><span class="nx">finishAuth</span><span class="p">(</span><span class="nx">authorizationCode</span><span class="p">,</span> <span class="nx">redirect_uri</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">auth</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">access_token</span> <span class="o">=</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">access_token</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">refresh_token</span> <span class="o">=</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">refresh_token</span><span class="p">;</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="n">info</span> <span class="o">=</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">OAuth</span><span class="p">.</span><span class="nf">get_token</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">redirect_uri</span><span class="p">)</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">'access_token'</span><span class="p">]</span>
<span class="n">refresh_token</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">'refresh_token'</span><span class="p">]</span>
</code></pre>

<blockquote>
<p>Successful Response:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"access_token"</span>: <span class="s2">"YLAZSreh165CAD2tPhAEzFCYYIrVyFomLWUDMGFBZIw9KtIg4q"</span>,
    <span class="s2">"expires_in"</span>: 3600,
    <span class="s2">"refresh_token"</span>: <span class="s2">"Pgk+l9okjwTCfsvIvEDPrsomE1er1txeyoaAkTIBAuXza8WvZY"</span>,
    <span class="s2">"refresh_expires_in"</span>: 5184000,
    <span class="s2">"token_type"</span>: <span class="s2">"bearer"</span>
<span class="o">}</span>
</code></pre>

<p>Once the user returns to your application via the <code class="prettyprint">redirect_uri</code> you specified, there will be a <code class="prettyprint">code</code> querystring parameter appended to that URL.  Exchange the authorization <code class="prettyprint">code</code> for an <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/v2/token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>client_secret</td>
<td>Application secret</td>
</tr>
<tr>
<td>code</td>
<td>The authorization code included in the redirect URL</td>
</tr>
<tr>
<td>grant_type</td>
<td>This must be set to <code class="prettyprint">authorization_code</code></td>
</tr>
<tr>
<td>redirect_uri</td>
<td>The same redirect_uri specified in the intiation step</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>refresh_expires_in</td>
<td>The lifetime of the refresh token, in seconds.  Default is 5184000.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
</tbody></table>
<h2 id='refresh-authorization'>Refresh Authorization</h2><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pgk+l9okjwTCfsvIvEDPrsomE1er1txeyoaAkTIBAuXza8WvZY"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"grant_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"refresh_token"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="c"># Exchange your expiring refresh token in "access_set" for another</span>
<span class="c"># access/refresh token pair</span>

<span class="k">print</span><span class="p">(</span><span class="n">oauth</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">access_set</span><span class="p">[</span><span class="s">'refresh_token'</span><span class="p">]))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">Dwolla</span><span class="p">.</span><span class="nx">refreshAuth</span><span class="p">(</span><span class="nx">refreshToken</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">auth</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">new_access_token</span> <span class="o">=</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">access_token</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">new_refresh_token</span> <span class="o">=</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">refresh_token</span><span class="p">;</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="n">info</span> <span class="o">=</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">OAuth</span><span class="p">.</span><span class="nf">refresh_auth</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">)</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">'access_token'</span><span class="p">]</span>
<span class="n">refresh_token</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">'refresh_token'</span><span class="p">]</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$OAuth</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\OAuth</span><span class="p">();</span>
<span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$refreshToken</span> <span class="o">=</span> <span class="s2">"Cr72k48ogBXh+PLwZ/gq2hAtRYSTQl+NW9W0fTxYjaYKRdEsKI"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$OAuth</span><span class="o">-&gt;</span><span class="na">refresh</span><span class="p">(</span><span class="nv">$refreshToken</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Successful Response:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"access_token"</span>: <span class="s2">"hr1tSJk23tOv9RxR8cQuDpUD/kpUgf0cb9WfKtRoPxTw8ymbVt"</span>,
    <span class="s2">"expires_in"</span>: 3600,
    <span class="s2">"refresh_token"</span>: <span class="s2">"lqopeyjq5AJln5fpMedElUULz+XBNNw9nAkIinxE0g4aEzxmDc"</span>,
    <span class="s2">"refresh_expires_in"</span>: 5184000,
    <span class="s2">"token_type"</span>: <span class="s2">"bearer"</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Invalid or Expired Refresh Token Response:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"error"</span>: <span class="s2">"access_denied"</span>,
  <span class="s2">"error_description"</span>: <span class="s2">"Invalid refresh token."</span>
<span class="o">}</span>
<span class="o">{</span>
  <span class="s2">"error"</span>: <span class="s2">"access_denied"</span>,
  <span class="s2">"error_description"</span>: <span class="s2">"Expired refresh token."</span>
<span class="o">}</span>
</code></pre>

<p>Use a valid <code class="prettyprint">refresh_token</code> to generate a new <code class="prettyprint">access_token</code> and <code class="prettyprint">refresh_token</code> pair.</p>

<p><strong>NOTE:</strong> The <code class="prettyprint">refresh_token</code> you receive will <em>change</em> every time you exchange either an <code class="prettyprint">authorization_code</code> or <code class="prettyprint">refresh_token</code> for a new token pair. Only the most recently issued <code class="prettyprint">refresh_token</code> will allow you to receive a new pair.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/v2/token</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>client_secret</td>
<td>Application secret</td>
</tr>
<tr>
<td>refresh_token</td>
<td>A valid refresh token</td>
</tr>
<tr>
<td>grant_type</td>
<td>This must be set to <code class="prettyprint">refresh_token</code></td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token with requested scopes</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>refresh_token</td>
<td>New refresh token</td>
</tr>
<tr>
<td>refresh_expires_in</td>
<td>The lifetime of the refresh token, in seconds.  Default is 5184000.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
</tbody></table>

          <h1 id='catalog'>Catalog</h1><pre class="highlight plaintext"><code>      __...--~~~~~-._   _.-~~~~~--...__
    //               `V'               \\ 
   //                 |                 \\ 
  //__...--~~~~~~-._  |  _.-~~~~~~--...__\\ 
 //__.....----~~~~._\ | /_.~~~~----.....__\\
====================\\|//====================
                    `---`  
</code></pre>
<pre class="highlight php"><code>/**
 * Retrieve the catalog of endpoints that 
 * are available to the OAuth token which you just 
 * retrieved.
 */
print_r($OAuth-&gt;catalog("Your Access Token"));
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Retrieve the catalog of endpoints that are </span>
<span class="c1"># available to the OAuth token passed in</span>
<span class="p">[</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">OAuth</span><span class="p">.</span><span class="nf">catalog</span><span class="p">(</span><span class="s2">"Another access token"</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Retrieve the catalog of endpoints that</span>
<span class="c"># are available to the current OAuth token!</span>

<span class="k">print</span><span class="p">(</span><span class="n">oauth</span><span class="o">.</span><span class="n">catalog</span><span class="p">())</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// Get links to the endpoints elligible for use with</span>
<span class="c1">// the passed OAuth token</span>
<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">catalog</span><span class="p">(</span><span class="s2">"Access token here!"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">links</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">links</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Response: Full user with token that contains Send, Scheduled, and Requests.</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: <span class="o">{}</span>,
    <span class="s2">"_links"</span>: <span class="o">{</span>
        <span class="s2">"self"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/catalog"</span>
        <span class="o">}</span>,
        <span class="s2">"send"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/transactions/send"</span>
        <span class="o">}</span>,
        <span class="s2">"createScheduled"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/transactions/scheduled"</span>
        <span class="o">}</span>,
        <span class="s2">"fulfill"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/requests/{request_id}/fulfill"</span>,
            <span class="s2">"templated"</span>: <span class="nb">true</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Response: Direct user with token that contains Send, Scheduled, and Requests.</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: <span class="o">{}</span>,
    <span class="s2">"_links"</span>: <span class="o">{</span>
        <span class="s2">"self"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/catalog"</span>
        <span class="o">}</span>,
        <span class="s2">"sendWithoutPin"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/transactions/send"</span>
        <span class="o">}</span>,
        <span class="s2">"createScheduledWithoutPin"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/transactions/scheduled"</span>
        <span class="o">}</span>,
        <span class="s2">"fulfillWithoutPin"</span>: <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"http://uat.dwolla.com/oauth/rest/requests/{request_id}/fulfill"</span>,
            <span class="s2">"templated"</span>: <span class="nb">true</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Fetch a list of endpoints available to the user. The Catalog endpoint is an initial step toward supporting <a href="http://stateless.co/hal_specification.html">HAL</a>.  </p>

<p>Currently, it only includes links to the Send, Create Scheduled, and Fulfill Request endpoints.  In the future, it will be extended to include all endpoints available to a user.</p>

<p>Use this endpoint to determine whether or not the user needs to provide a PIN in order to use the Send, Create Scheduled, or Fulfill Request endpoints.  Since Direct users do not have a PIN, for instance, the <code class="prettyprint">sendWithoutPin</code> key will be included in <code class="prettyprint">_links</code> instead of the regular <code class="prettyprint">send</code> which you would see for Full users.  The URI remains the same in either case, but for any link with &ldquo;WithoutPin&rdquo; appended to it, you will not need to ask the user for their PIN and may omit the <code class="prettyprint">pin</code> parameter when calling the endpoint.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token but does not require a particular scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/catalog</code></p>

          <h1 id='webhooks'>Webhooks</h1>
<p><a href="../../pages/guides/using_webhooks.html">Webhook notifications</a> are used to notify your application when particular events occur relating to Transactions or Requests that your application facilitated / created.  There are four kinds of webhook notifications:</p>

<ul>
<li>TransactionStatus</li>
<li>TransactionReturned</li>
<li>RequestFulfilled</li>
<li>RequestCancelled</li>
</ul>

<p>Webhook notifications are JSON-encoded POST requests, and will contain the <code class="prettyprint">Content-Type: application/json</code> header.  There is currently no way to retrieve past Webhook notifications.</p>
<h3 id='security'>Security</h3><pre class="highlight javascript"><code>
<span class="kd">function</span> <span class="nx">validate_webhook_signature</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="nx">secret</span><span class="p">,</span> <span class="nx">signature</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>

  <span class="nx">hash</span> <span class="o">=</span> <span class="nx">crypto</span>
    <span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha1'</span><span class="p">,</span> <span class="nx">secret</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span><span class="nx">hash</span> <span class="o">==</span> <span class="nx">signature</span><span class="p">);</span>
<span class="p">}</span>

</code></pre>

<p>All webhook notifications include the <code class="prettyprint">X-Dwolla-Signature</code> header so that you can verify that it originated from Dwolla.  The signature is a SHA-1 HMAC hash of the request body, with the secret key being the application secret (<code class="prettyprint">client_secret</code>). </p>
<h2 id='transactionstatus'>TransactionStatus</h2><pre class="highlight shell"><code>POST https://www.example.com/payments/webhook
Content-Type: application/json
X-Dwolla-Signature: d0a74b17a31334edc4e6698c59e460c61bb7f21a

<span class="o">{</span>
    <span class="s2">"Id"</span>: <span class="s2">"4444962"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"Transaction"</span>,
    <span class="s2">"Subtype"</span>: <span class="s2">"Status"</span>,
    <span class="s2">"Created"</span>: <span class="s2">"2014-01-22T16:55:04Z"</span>,
    <span class="s2">"Triggered"</span>: <span class="s2">"2014-01-22T16:55:04Z"</span>,
    <span class="s2">"Value"</span>: <span class="s2">"processed"</span>,
    <span class="s2">"Transaction"</span>: <span class="o">{</span>
        <span class="s2">"Type"</span>: <span class="s2">"money_sent"</span>,
        <span class="s2">"Notes"</span>: <span class="s2">""</span>,
        <span class="s2">"Id"</span>: 4444962,
        <span class="s2">"Source"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-687-7049"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Gordon Zheng"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
        <span class="o">}</span>,
        <span class="s2">"Destination"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-713-9234"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Reflector by Dwolla"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
        <span class="o">}</span>,
        <span class="s2">"Amount"</span>: 0.01,
        <span class="s2">"SentDate"</span>: <span class="s2">"2014-01-22T16:55:04Z"</span>,
        <span class="s2">"ClearingDate"</span>: <span class="s2">"2014-01-22T16:55:04Z"</span>,
        <span class="s2">"Status"</span>: <span class="s2">"processed"</span>
    <span class="o">}</span>,
    <span class="s2">"Metadata"</span>: <span class="o">{</span>
        <span class="s2">"InvoiceDate"</span>: <span class="s2">"12-06-2014"</span>,
        <span class="s2">"Priority"</span>: <span class="s2">"High"</span>,
        <span class="s2">"TShirtSize"</span>: <span class="s2">"Small"</span>,
        <span class="s2">"blah"</span>: <span class="s2">"blah"</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre>

<p>When the status of a Transaction that your application facilitated changes (e.g. transaction clears successfully, or fails, or is cancelled), Dwolla will send a TransactionStatus webhook.</p>
<h2 id='transactionreturned'>TransactionReturned</h2><pre class="highlight shell"><code>POST https://www.example.com/payments/webhook
Content-Type: application/json
X-Dwolla-Signature: d0a74b17a31334edc4e6698c59e460c61bb7f21a

<span class="o">{</span>
    <span class="s2">"Type"</span>: <span class="s2">"Transaction"</span>,
    <span class="s2">"Subtype"</span>: <span class="s2">"Returned"</span>,
    <span class="s2">"SenderTransactionId"</span>: <span class="s2">"489977"</span>,
    <span class="s2">"ReceiverTransactionId"</span>: <span class="s2">"489978"</span>,
    <span class="s2">"ReturnCode"</span>: <span class="s2">"01"</span>,
    <span class="s2">"ReturnDescription"</span>: <span class="s2">"Insufficient Funds"</span>
<span class="o">}</span>
</code></pre>

<p>Notifies your application when a bank-funded transaction facilitated by your application is returned by the financial institution.</p>
<h2 id='requestfulfilled'>RequestFulfilled</h2><pre class="highlight shell"><code>POST https://www.example.com/requests/callback
Content-Type: application/json
X-Dwolla-Signature: f71c2f49a87b6d0a662f449b7dbb83a5c918e237

<span class="o">{</span>
    <span class="s2">"Id"</span>: 2254043,
    <span class="s2">"Source"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-552-5953"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Gordon Zheng"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
    <span class="o">}</span>,
    <span class="s2">"Destination"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-687-7049"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Gordon Zheng"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
    <span class="o">}</span>,
    <span class="s2">"Amount"</span>: 0.0100,
    <span class="s2">"Notes"</span>: <span class="s2">""</span>,
    <span class="s2">"DateRequested"</span>: <span class="s2">"2014-01-21T19:07:12Z"</span>,
    <span class="s2">"Status"</span>: <span class="s2">"Paid"</span>,
    <span class="s2">"Transaction"</span>: <span class="o">{</span>
        <span class="s2">"RequestId"</span>: 2254043,
        <span class="s2">"Id"</span>: 4439897,
        <span class="s2">"Source"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-687-7049"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Gordon Zheng"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
        <span class="o">}</span>,
        <span class="s2">"Destination"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-552-5953"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Ben Milne"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
        <span class="o">}</span>,
        <span class="s2">"Amount"</span>: 0.01,
        <span class="s2">"SentDate"</span>: <span class="s2">"2014-01-21T19:07:44Z"</span>,
        <span class="s2">"ClearingDate"</span>: <span class="s2">"2014-01-21T19:07:44Z"</span>,
        <span class="s2">"Status"</span>: <span class="s2">"processed"</span>
    <span class="o">}</span>,
    <span class="s2">"DateCancelled"</span>: <span class="s2">""</span>,
    <span class="s2">"SenderAssumeAdditionalFees"</span>: <span class="nb">false</span>,
    <span class="s2">"AdditionalFees"</span>: <span class="o">[]</span>,
    <span class="s2">"Metadata"</span>: <span class="o">{</span>
        <span class="s2">"InvoiceDate"</span>: <span class="s2">"12-06-2014"</span>,
        <span class="s2">"Priority"</span>: <span class="s2">"High"</span>,
        <span class="s2">"TShirtSize"</span>: <span class="s2">"Small"</span>,
        <span class="s2">"blah"</span>: <span class="s2">"blah"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Notifies your application when a Money Request created by your application is fulfilled.</p>
<h2 id='requestcancelled'>RequestCancelled</h2>
<p>Notifies your application when a Money Request created by your application is cancelled.</p>
<pre class="highlight shell"><code>POST https://www.example.com/requests/callback
Content-Type: application/json
X-Dwolla-Signature: f71c2f49a87b6d0a662f449b7dbb83a5c918e237

<span class="o">{</span>
    <span class="s2">"Id"</span>: 2254042,
    <span class="s2">"Source"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-552-5953"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Gordon Zheng"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
    <span class="o">}</span>,
    <span class="s2">"Destination"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-687-7049"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Ben Milne"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>
    <span class="o">}</span>,
    <span class="s2">"Amount"</span>: 0.0100,
    <span class="s2">"Notes"</span>: <span class="s2">""</span>,
    <span class="s2">"DateRequested"</span>: <span class="s2">"2014-01-21T19:06:51Z"</span>,
    <span class="s2">"Status"</span>: <span class="s2">"Cancelled"</span>,
    <span class="s2">"CancelledBy"</span>: <span class="s2">"812-687-7049"</span>,
    <span class="s2">"DateCancelled"</span>: <span class="s2">"2014-01-21T19:07:30Z"</span>,
    <span class="s2">"SenderAssumeAdditionalFees"</span>: <span class="nb">false</span>,
    <span class="s2">"AdditionalFees"</span>: <span class="o">[]</span>,
    <span class="s2">"Metadata"</span>: <span class="o">{</span>
        <span class="s2">"InvoiceDate"</span>: <span class="s2">"12-06-2014"</span>,
        <span class="s2">"Priority"</span>: <span class="s2">"High"</span>,
        <span class="s2">"TShirtSize"</span>: <span class="s2">"Small"</span>,
        <span class="s2">"blah"</span>: <span class="s2">"blah"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

          <h1 id='send-money'>Send Money</h1><pre class="highlight plaintext"><code>  __                      ___    ___               
 /\ \                    /\_ \  /\_ \              
 \_\ \  __  __  __    ___\//\ \ \//\ \      __     
 /'_` \/\ \/\ \/\ \  / __`\\ \ \  \ \ \   /'__`\   
/\ \L\ \ \ \_/ \_/ \/\ \L\ \\_\ \_ \_\ \_/\ \L\.\_ 
\ \___,_\ \___x___/'\ \____//\____\/\____\ \__/.\_\
 \/__,_ /\/__//__/   \/___/ \/____/\/____/\/__/\/_/


</code></pre>
<pre class="highlight php"><code>/**
 *   Send money ($5.50) to email address gordon@dwolla.com
 **/

<span class="cp">&lt;?php</span>
<span class="nv">$Transactions</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Transactions</span><span class="p">();</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">pin</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="s1">'gordon@dwolla.com'</span><span class="p">,</span> <span class="mf">5.50</span><span class="p">,</span> <span class="p">[</span>
  <span class="s1">'destinationType'</span> <span class="o">=&gt;</span> <span class="s1">'Email'</span>
<span class="p">]);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Send money ($1.00) to a Dwolla ID 812-626-8794</span>

<span class="n">transactionId</span> <span class="o">=</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">send</span><span class="p">({</span>
  <span class="ss">:destinationId</span> <span class="o">=&gt;</span> <span class="s1">'812-626-8794'</span><span class="p">,</span> 
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span> 
  <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="s2">"9999"</span><span class="p">})</span>

<span class="nb">puts</span> <span class="n">transactionId</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Send $5.50 to a Dwolla ID and print the transaction ID</span>
<span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s">'812-197-4121'</span><span class="p">,</span> <span class="mf">5.50</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 *   Send money ($1.00) to an email address, with a note
 **/</span>

<span class="c1">// optional params:</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">destinationType</span><span class="p">:</span> <span class="s1">'Email'</span><span class="p">,</span> 
  <span class="na">notes</span><span class="p">:</span> <span class="s1">'Thanks for the coffee!'</span>
<span class="p">};</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">pin</span><span class="p">,</span> <span class="s1">'gordon@dwolla.com'</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">,</span> <span class="nx">params</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
  </span><span class="nt">"destinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gordon@dwolla.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"destinationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pin"</span><span class="p">:</span><span class="w"> </span><span class="mi">4321</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>343947    // resulting Transacton ID
</code></pre>
<pre class="highlight python"><code><span class="mi">113533</span> <span class="c"># Sender transaction ID</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight ruby"><code><span class="mi">341523</span>   <span class="c1"># resulting transaction ID</span>
</code></pre>
<pre class="highlight javascript"><code><span class="mi">341523</span>   <span class="c1">// resulting transaction ID</span>
</code></pre>

<p>Send money from an authorized user&rsquo;s account to any Dwolla account ID, phone number, or e-mail address. You can send money to any phone number or email address &ndash; if the recipient doesn&rsquo;t yet have a Dwolla account, they&rsquo;ll be sent an SMS or email notifying them of the payment and prompting them to sign up to claim the funds.</p>

<p>Facilitator fees allow you, as the application facilitating a payment, to take a cut up to 50% of the payment amount.  By default, the facilitator fee is sent to the application owner&rsquo;s account, but you can have them sent to other recipients by declaring additional facilitator fees in the optional <code class="prettyprint">additionalFees</code> array.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/transactions/send</code></p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Send</code> scope.</p>
</aside>
<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>destinationId</td>
<td>no</td>
<td>Email, Dwolla ID, or phone number of recipient.</td>
</tr>
<tr>
<td>pin</td>
<td>no</td>
<td>The PIN associated with the sender&rsquo;s account.</td>
</tr>
<tr>
<td>amount</td>
<td>no</td>
<td>Amount of funds to transfer to destination user.</td>
</tr>
<tr>
<td>destinationType</td>
<td>yes</td>
<td>Type of destination user. Defaults to &lsquo;Dwolla&rsquo;. Possible values are <code class="prettyprint">Dwolla</code>, <code class="prettyprint">Email</code>, and <code class="prettyprint">Phone</code>.</td>
</tr>
<tr>
<td>fundsSource</td>
<td>yes</td>
<td>ID of <a href="request.html#funding-sources">funding source</a> to use for transaction (defaults to <code class="prettyprint">Balance</code>).</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Note to attach to the resulting transaction.  Will be visible from dwolla.com dashboard to both sender and recipient.  Max 250 characters.</td>
</tr>
<tr>
<td>additionalFees</td>
<td>yes</td>
<td>Array of additional facilitator fee objects.  <code class="prettyprint">[{&quot;destinationId&quot;: &quot;&quot;, &quot;amount&quot;: 0.01}, ...]</code></td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>Optional JSON object of a maximum of 10 key-value pairs (each key and value must be less than 255 characters).  <a href="request.html#metadata">Read more</a></td>
</tr>
<tr>
<td>assumeAdditionalFees</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> if the sending user will assume all additional facilitator fees, <code class="prettyprint">false</code> if the destination user will assume the fees. Defaults to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td>facilitatorAmount</td>
<td>yes</td>
<td>Amount of the facilitator fee to override. Only applicable if the facilitator fee feature is enabled. If set to 0, facilitator fee is disabled for transaction. Cannot exceed 50% of the <code class="prettyprint">amount</code>.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>If successful, the response is simply the <a href="request.html#how-transactions-work">Sender&rsquo;s Transaction ID</a> for the resulting payment.  Read more about <a href="request.html#transactions">Transactions</a>.</p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Insufficient balance.</td>
<td>The source account does not have sufficient balance in the selected funding source.</td>
</tr>
<tr>
<td>The account is limited to $x per transaction. on:</td>
<td>The source account has exceeded it&rsquo;s sending transaction limit</td>
</tr>
<tr>
<td>Amount must be at least $0.01. on:</td>
<td>The amount to send must be greater than $0.01</td>
</tr>
<tr>
<td>Invalid account PIN</td>
<td>The supplied PIN is invalid or incorrect.</td>
</tr>
<tr>
<td>Invalid SSN for this account.</td>
<td>The source account is pending SSN validation.</td>
</tr>
<tr>
<td>Invalid funding source provided: {&hellip;}</td>
<td>The specified funding source doesn&rsquo;t exist or is invalid.</td>
</tr>
</tbody></table>

          <h1 id='checkouts'>Checkouts</h1><pre class="highlight shell"><code> _        ,
<span class="o">(</span>_<span class="se">\_</span>_____/________
   <span class="se">\-</span>|-|/|-|-|-|-|/
    <span class="se">\=</span><span class="o">=</span>/-|-|-|-|-/
     <span class="se">\/</span>|-|-|-|,-<span class="s1">'
      \--|-'''</span>
       <span class="se">\_</span>j________
       <span class="o">(</span>_<span class="o">)</span>     <span class="o">(</span>_<span class="o">)</span>

<span class="s2">"Shopping Trolley"</span> - hjw
</code></pre>

<p>Create a checkout on our <a href="../../pages/gateway.html">Off-Site Gateway</a>. </p>

<p>Checkout sessions must be completed by the user within <strong>15 minutes</strong> of their creation. </p>

<p>There are two types of checkouts:</p>
<h3 id='standard-checkout'>Standard Checkout</h3>
<p>A standard checkout means the payment is placed automatically and immediately after the user clicks the <em>Submit</em> button on the confirmation screen.</p>
<h3 id='paylater-checkout'>PayLater Checkout</h3>
<p>A PayLater checkout means the user is redirected back to your site after clicking <em>Continue</em> on the confirmation screen.  No payment is created yet.  </p>

<p>You will have 15 minutes to <a href="request.html#complete-a-paylater-checkout">complete the Checkout</a> in order to place the payment.</p>

<p>To create a PayLater Checkout, set <code class="prettyprint">checkoutWithApi</code> to <code class="prettyprint">true</code>.</p>
<h2 id='create-a-checkout'>Create a Checkout</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$Checkouts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Checkouts</span><span class="p">();</span>
<span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$purchaseOrder</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'destinationId'</span> <span class="o">=&gt;</span> <span class="s1">'812-742-3301'</span><span class="p">,</span>
  <span class="s1">'total'</span> <span class="o">=&gt;</span> <span class="s1">'33.99'</span>
<span class="p">];</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$purchaseOrder</span><span class="p">,</span> <span class="p">[</span>
  <span class="s1">'redirect'</span> <span class="o">=&gt;</span> <span class="s1">'https://myredirect.com/redirect'</span>
<span class="p">]);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"callback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.something.com/callback"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"redirect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.something.com/return"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowGuestCheckout"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkoutWithApi"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allowFundingSources"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"additionalFundingSources"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"purchaseOrder"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"orderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prime Rib Sandwich"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A somewhat tasty non-vegetarian sandwich"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> 
                </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
    </span><span class="nt">"destinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-740-4294"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.00</span><span class="p">,</span><span class="w">
    </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blahhh"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"something"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"key2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"another thing"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">purchaseOrder</span> <span class="o">=</span> <span class="p">{</span>
 <span class="na">destinationId</span><span class="p">:</span> <span class="s1">'812-740-4294'</span><span class="p">,</span>
 <span class="na">total</span><span class="p">:</span> <span class="s1">'5.00'</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
 <span class="na">allowFundingSources</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
 <span class="na">orderId</span><span class="p">:</span> <span class="s1">'blah'</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">createCheckout</span><span class="p">(</span><span class="nx">redirect_uri</span><span class="p">,</span> <span class="nx">purchaseOrder</span><span class="p">,</span> <span class="nx">params</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">checkout</span><span class="p">)</span> <span class="p">{</span>
 <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>

 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">checkout</span><span class="p">.</span><span class="nx">checkoutURL</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Create checkout session with items from</span>
<span class="c"># http://docs.dwolla.com/#checkouts</span>

<span class="n">test</span> <span class="o">=</span> <span class="n">checkouts</span><span class="o">.</span><span class="n">create</span><span class="p">({</span>
    <span class="s">'orderItems'</span><span class="p">:</span> <span class="p">{</span>
        <span class="nb">frozenset</span><span class="p">({</span>
            <span class="s">'name'</span><span class="p">:</span> <span class="s">'Prime Rib Sandwich'</span><span class="p">,</span>
            <span class="s">'description'</span><span class="p">:</span> <span class="s">'A somewhat tasty non-vegetarian sandwich'</span><span class="p">,</span>
            <span class="s">'quantity'</span><span class="p">:</span> <span class="s">'1'</span><span class="p">,</span>
            <span class="s">'price'</span><span class="p">:</span> <span class="s">'15.00'</span>
        <span class="p">})</span>
    <span class="p">},</span>
    <span class="s">'destinationId'</span><span class="p">:</span> <span class="s">'812-740-4294'</span><span class="p">,</span>
    <span class="s">'total'</span><span class="p">:</span> <span class="mf">15.00</span><span class="p">,</span>
    <span class="s">'notes'</span><span class="p">:</span> <span class="s">'blahhh'</span><span class="p">,</span>
    <span class="s">'metadata'</span><span class="p">:</span> <span class="nb">frozenset</span><span class="p">({</span>
        <span class="s">'key1'</span><span class="p">:</span> <span class="s">'something'</span><span class="p">,</span>
        <span class="s">'key2'</span><span class="p">:</span> <span class="s">'another thing'</span>
    <span class="p">})})</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Set redirect URL, callback URL</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="no">OffsiteGateway</span><span class="p">.</span><span class="nf">redirect</span> <span class="o">=</span> <span class="s1">'http://dwolla.com/payment_redirect'</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="no">OffsiteGateway</span><span class="p">.</span><span class="nf">callback</span> <span class="o">=</span> <span class="s1">'http://dwolla.com/payment_callback'</span>

<span class="c1"># Add products</span>
<span class="no">Dwolla</span><span class="o">::</span><span class="no">OffsiteGateway</span><span class="p">.</span><span class="nf">add_product</span><span class="p">(</span><span class="s1">'Macbook Air'</span><span class="p">,</span> <span class="s1">'13" Macbook Air; Model #0001'</span><span class="p">,</span> <span class="mi">499</span><span class="o">.</span><span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Generate a checkout sesssion</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">OffsiteGateway</span><span class="p">.</span><span class="nf">get_checkout_url</span><span class="p">(</span><span class="s1">'812-734-7288'</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll get this back:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"CheckoutId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"684862bc-8d94-4e53-9c41-26398b4b7fac"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="p">{</span><span class="s">u'URL'</span><span class="p">:</span> <span class="s">u'https://www.dwolla.com/payment/checkout/684862bc-8d94-4e53-9c41-26398b4b7fac'</span><span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">https</span><span class="err">:</span><span class="c1">//www.dwolla.com/payment/checkout/684862bc-8d94-4e53-9c41-26398b4b7fac</span>
</code></pre>
<pre class="highlight php"><code>array (
  'CheckoutId' =&gt; 'f3f454bd-89a9-422f-8fef-5eb9f82ccc8f',
  'URL' =&gt; 'https://uat.dwolla.com/payment/checkout/f3f454bd-89a9-422f-8fef-5eb9f82ccc8f',
)
</code></pre>
<pre class="highlight ruby"><code><span class="n">https</span><span class="ss">:/</span><span class="o">/</span><span class="n">www</span><span class="p">.</span><span class="nf">dwolla</span><span class="p">.</span><span class="nf">com</span><span class="o">/</span><span class="n">payment</span><span class="o">/</span><span class="n">checkout</span><span class="o">/</span><span class="mi">684862</span><span class="n">bc</span><span class="o">-</span><span class="mi">8</span><span class="n">d94</span><span class="o">-</span><span class="mi">4</span><span class="n">e53</span><span class="o">-</span><span class="mi">9</span><span class="n">c41</span><span class="o">-</span><span class="mi">26398</span><span class="n">b4b7fac</span>
</code></pre>

<blockquote>
<p>Simply append the resulting <code class="prettyprint">CheckoutId</code> to this URI: <code class="prettyprint">https://www.dwolla.com/payment/checkout/</code></p>
</blockquote>
<pre class="highlight plaintext"><code>https://www.dwolla.com/payment/checkout/684862bc-8d94-4e53-9c41-26398b4b7fac
</code></pre>

<blockquote>
<p>Then send your user there!</p>
</blockquote>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/offsitegateway/checkouts</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td></td>
<td>Your Application Key</td>
</tr>
<tr>
<td>client_secret</td>
<td></td>
<td>Your Application Secret</td>
</tr>
<tr>
<td>callback</td>
<td></td>
<td>Dwolla will POST a Callback containing results of the checkout when it is completed.</td>
</tr>
<tr>
<td>redirect</td>
<td></td>
<td>User will be redirected to this URL after successfully checking out, or cancelling.</td>
</tr>
<tr>
<td>purchaseOrder</td>
<td></td>
<td>A purchaseOrder JSON object. See below.</td>
</tr>
<tr>
<td>checkoutWithApi</td>
<td>yes</td>
<td>Create a <em>PayLater</em> checkout.  Defaults to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td>allowGuestCheckout</td>
<td>yes</td>
<td>Enable <a href="../gateway/direct.html">Dwolla Direct</a> experience for users without a Dwolla account</td>
</tr>
<tr>
<td>orderId</td>
<td>yes</td>
<td>Custom string to identify the checkout.  Not persisted in resulting transaction.</td>
</tr>
<tr>
<td>allowFundingSources</td>
<td>yes</td>
<td>Allow the user to pay with a funding source other than their account Balance.  Defaults to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td>additionalFundingSources</td>
<td>yes</td>
<td>If <code class="prettyprint">allowFundingSources</code> enabled, use this to filter the types of funding sources allowed. <br> <code class="prettyprint">credit</code>: Only allow Dwolla Credit, if both the merchant and user support it <br> <code class="prettyprint">banks</code>: Only allow bank (ACH) funding sources <br> <code class="prettyprint">fisync</code>: Only allow FiSync-enabled bank funding sources <br> <code class="prettyprint">realtime</code>: Only allow <code class="prettyprint">credit</code> and <code class="prettyprint">fisync</code> sources <br> <code class="prettyprint">true</code>: Allow all funding source types <br> <code class="prettyprint">false</code>: Do not allow any funding sources</td>
</tr>
<tr>
<td>profileId</td>
<td>yes</td>
<td>This feature allows a recipient to display a different avatar and name, to collect money on a different person/entity&rsquo;s behalf. Requires special permission to use. Contact us if you&rsquo;re interested!</td>
</tr>
</tbody></table>
<h3 id='purchaseorder-object'>PurchaseOrder Object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>destinationId</td>
<td></td>
<td>Dwolla ID of the user who will receive the payment in this checkout.</td>
</tr>
<tr>
<td>total</td>
<td></td>
<td>Total checkout amount.</td>
</tr>
<tr>
<td>tax</td>
<td>yes</td>
<td>Order tax total.  For order display purposes only, not persisted.</td>
</tr>
<tr>
<td>discount</td>
<td>yes</td>
<td>Order discount (must be negative).  For order display purposes only, not persisted.</td>
</tr>
<tr>
<td>shipping</td>
<td>yes</td>
<td>Order shipping total.  For order display purposes only, not persisted.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>A note of max 250 chars. to attach to the resulting payment.</td>
</tr>
<tr>
<td>facilitatorAmount</td>
<td>yes</td>
<td>Amount of the facilitator fee to override. Only applicable if the facilitator fee feature is enabled. If set to <code class="prettyprint">0</code>, facilitator fee is disabled for transaction.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>An object containing up to 10 key-value pairs of your choice which is persisted with the resulting transaction.  <a href="request.html#metadata">Learn about Metadata</a></td>
</tr>
<tr>
<td>orderItems</td>
<td>yes</td>
<td>An array of JSON object(s) which contain a <code class="prettyprint">name</code>, <code class="prettyprint">description</code>, <code class="prettyprint">quantity</code>, and <code class="prettyprint">price</code>.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Shipping rate cannot be less than $0.</td>
<td>Specified shipping must be greater than $0</td>
</tr>
<tr>
<td>Tax cannot be less than $0.</td>
<td>Specified tax must be greater than $0</td>
</tr>
<tr>
<td>Discount cannot be greater than $0.</td>
<td>Specified discount must be less than $0</td>
</tr>
<tr>
<td>Total cannot be less than $.01.</td>
<td>Total amount of PO must be greater than $0.01</td>
</tr>
<tr>
<td>Invalid total.</td>
<td>Invalid total in reference to the orderItems in the PO</td>
</tr>
<tr>
<td>Notes length is too long. Maximum of 250 character is allowed.</td>
<td>Specified notes is greater than the allowed 250 character limit</td>
</tr>
<tr>
<td>Price on all order items cannot be less than $0.</td>
<td></td>
</tr>
<tr>
<td>Quantity on all order items cannot be less than 1.</td>
<td>OrderItems specified must contain a quantity greater than 1</td>
</tr>
<tr>
<td>Order item name length must be between 1 and 100 characters.</td>
<td>Order item name must be greater than 1 &amp; less than 100 characters</td>
</tr>
<tr>
<td>Order item description length must not exceed 200 characters.</td>
<td>Order item description must be greater than 1 &amp; less than 200 characters</td>
</tr>
</tbody></table>
<h2 id='retrieve-a-checkout'>Retrieve a Checkout</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Checkouts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Checkouts</span><span class="p">();</span>
<span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"19bca7f7-d92a-4a98-b685-7f0e4a372994"</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get information about the checkout with ID abdflkjdf34443</span>

<span class="n">checkouts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"abdflkjdf34443"</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">checkoutId</span> <span class="o">=</span> <span class="s1">'a9d7c86a-0d0d-4466-b228-e15584a1315a'</span><span class="p">;</span>
<span class="nx">dwolla</span><span class="p">.</span><span class="nx">getCheckout</span><span class="p">(</span><span class="nx">checkoutId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="no">This</span> <span class="nb">method</span> <span class="n">is</span> <span class="n">not</span> <span class="n">yet</span> <span class="n">supported</span> <span class="k">in</span> <span class="n">dwolla</span><span class="o">-</span><span class="n">ruby</span><span class="o">.</span>
</code></pre>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"CheckoutId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"684862bc-8d94-4e53-9c41-26398b4b7fac"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Shipping"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Total"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FundingSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69960</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ProfileId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DestinationTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69959</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OrderItems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A somewhat tasty non-vegetarian sandwich"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prime Rib Sandwich"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Price"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">CheckoutId</span><span class="p">:</span> <span class="s1">'d0429a55-c338-4139-b273-48d2f8c45693'</span><span class="p">,</span>
  <span class="nx">Discount</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">Shipping</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">Tax</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">Total</span><span class="err">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">Status</span><span class="err">:</span> <span class="s1">'Completed'</span><span class="p">,</span>
  <span class="nx">FundingSource</span><span class="err">:</span> <span class="s1">'Balance'</span><span class="p">,</span>
  <span class="nx">TransactionId</span><span class="err">:</span> <span class="mi">290142</span><span class="p">,</span>
  <span class="nx">ProfileId</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">DestinationTransactionId</span><span class="err">:</span> <span class="mi">290141</span><span class="p">,</span>
  <span class="nx">OrderItems</span><span class="err">:</span> <span class="p">[],</span>
  <span class="nx">Metadata</span><span class="err">:</span> <span class="kc">null</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span> 
  <span class="s">u'CheckoutId'</span><span class="p">:</span> <span class="s">u'd0429a55-c338-4139-b273-48d2f8c45693'</span><span class="p">,</span>
  <span class="s">u'Discount'</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">u'Shipping'</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">u'Tax'</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">u'Total'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s">u'Status'</span><span class="p">:</span> <span class="s">u'Completed'</span><span class="p">,</span>
  <span class="s">u'FundingSource'</span><span class="p">:</span> <span class="s">u'Balance'</span><span class="p">,</span>
  <span class="s">u'TransactionId'</span><span class="p">:</span> <span class="mi">290142</span><span class="p">,</span>
  <span class="s">u'ProfileId'</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
  <span class="s">u'DestinationTransactionId'</span><span class="p">:</span> <span class="mi">290141</span><span class="p">,</span>
  <span class="s">u'OrderItems'</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s">u'Metadata'</span><span class="p">:</span> <span class="n">null</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight php"><code>array (
  'CheckoutId' =&gt; 'f3f454bd-89a9-422f-8fef-5eb9f82ccc8f',
  'Discount' =&gt; NULL,
  'Shipping' =&gt; NULL,
  'Tax' =&gt; NULL,
  'Total' =&gt; 33.99,
  'Status' =&gt; 'Created',
  'FundingSource' =&gt; NULL,
  'TransactionId' =&gt; NULL,
  'ProfileId' =&gt; NULL,
  'DestinationTransactionId' =&gt; NULL,
  'OrderItems' =&gt;
  array (
  ),
  'Metadata' =&gt; NULL,
)
</code></pre>
<pre class="highlight ruby"><code><span class="no">This</span> <span class="nb">method</span> <span class="n">is</span> <span class="n">not</span> <span class="n">yet</span> <span class="n">supported</span> <span class="k">in</span> <span class="n">dwolla</span><span class="o">-</span><span class="n">ruby</span><span class="o">.</span>
</code></pre>

<p>Fetch an existing checkout by its <code class="prettyprint">checkoutId</code> to get its status and details.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/offsitegateway/checkouts/{checkoutId}?client_id={key}&amp;client_secret={secret}</code></p>
<h3 id='response-parameters'>Response Parameters</h3>
<p>This returns the <code class="prettyprint">CheckoutId</code>, <code class="prettyprint">Discount</code>, <code class="prettyprint">Shipping</code>, <code class="prettyprint">Tax</code>, <code class="prettyprint">Total</code>, <code class="prettyprint">OrderItems</code>, <code class="prettyprint">ProfileId</code>, <code class="prettyprint">Metadata</code> of the checkout and some additional information:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Status</td>
<td>Status of the checkout.  <br>Possible values: <code class="prettyprint">Created</code>, <code class="prettyprint">ReadyForApiCheckout</code>, <code class="prettyprint">Expired</code>, <code class="prettyprint">Completed</code></td>
</tr>
<tr>
<td>FundingSource</td>
<td>Type of funding source used to complete the checkout.  <br>Possible values: <code class="prettyprint">Balance</code>, <code class="prettyprint">Bank</code>, <code class="prettyprint">null</code></td>
</tr>
<tr>
<td>TransactionId</td>
<td>For the resulting payment, this is the <a href="request.html#how-transactions-work"><em>Sender&rsquo;s</em> Transaction ID</a>.</td>
</tr>
<tr>
<td>DestinationTransactionId</td>
<td>For the resulting payment, this is the <a href="request.html#how-transactions-work"><em>Recipient&rsquo;s</em> Transaction ID</a>.</td>
</tr>
</tbody></table>
<h2 id='complete-a-paylater-checkout'>Complete a PayLater Checkout</h2><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="c"># Complete the checkout</span>

<span class="n">checkouts</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="s">'Order ID here'</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">checkoutId</span> <span class="o">=</span> <span class="s1">'a9d7c86a-0d0d-4466-b228-e15584a1315a'</span><span class="p">;</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">completeCheckout</span><span class="p">(</span><span class="nx">checkoutId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$Checkouts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Checkouts</span><span class="p">();</span>
<span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Checkouts</span><span class="o">-&gt;</span><span class="na">complete</span><span class="p">(</span><span class="s2">"19bca7f7-d92a-4a98-b685-7f0e4a372994"</span><span class="p">);</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="no">This</span> <span class="nb">method</span> <span class="n">is</span> <span class="n">not</span> <span class="n">yet</span> <span class="n">supported</span> <span class="k">in</span> <span class="n">dwolla</span><span class="o">-</span><span class="n">ruby</span><span class="o">.</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll get back:</p>
</blockquote>
<pre class="highlight ruby"><code><span class="no">This</span> <span class="nb">method</span> <span class="n">is</span> <span class="n">not</span> <span class="n">yet</span> <span class="n">supported</span> <span class="k">in</span> <span class="n">dwolla</span><span class="o">-</span><span class="n">ruby</span><span class="o">.</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CheckoutId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"041f503b-bf68-4d35-83b3-bc6304a98e78"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"TestMode"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69958</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DestinationTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">69957</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight php"><code>array (
  'CheckoutId' =&gt; 'f3f454bd-89a9-422f-8fef-5eb9f82ccc8f',
  'ClearingDate' =&gt; NULL,
  'Amount' =&gt; 33.99,
  'OrderId' =&gt; NULL,
  'TransactionId' =&gt; 290144,
  'DestinationTransactionId' =&gt; 290143,
  'TestMode' =&gt; false
)
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">Amount</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">CheckoutId</span><span class="err">:</span> <span class="s1">'a9d7c86a-0d0d-4466-b228-e15584a1315a'</span><span class="p">,</span>
  <span class="nx">ClearingDate</span><span class="err">:</span> <span class="s1">''</span><span class="p">,</span>
  <span class="nx">OrderId</span><span class="err">:</span> <span class="s1">'blah'</span><span class="p">,</span>
  <span class="nx">TestMode</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">TransactionId</span><span class="err">:</span> <span class="mi">290144</span><span class="p">,</span>
  <span class="nx">DestinationTransactionId</span><span class="err">:</span> <span class="mi">290143</span> 
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Otherwise, you might get an error like this one:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="s2">"There are insufficient funds for this transaction."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight php"><code>DwollaPHP: An API error was encountered.
Server Message:

Invalid purchase order.
</code></pre>
<pre class="highlight javascript"><code><span class="s2">"There are insufficient funds for this transaction."</span>
</code></pre>
<pre class="highlight ruby"><code><span class="no">This</span> <span class="nb">method</span> <span class="n">is</span> <span class="n">not</span> <span class="n">yet</span> <span class="n">supported</span> <span class="k">in</span> <span class="n">dwolla</span><span class="o">-</span><span class="n">ruby</span><span class="o">.</span>
</code></pre>

<p>Finish a PayLater checkout.  This will attempt to create the payment.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/offsitegateway/checkouts/{id}/complete</code></p>
<h3 id='response-parameters'>Response Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Amount</td>
<td>Payment amount</td>
</tr>
<tr>
<td>CheckoutId</td>
<td>Same Checkout ID you passed in!</td>
</tr>
<tr>
<td>OrderId</td>
<td>Any order ID provided when the checkout was created.  Otherwise, <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>TestMode</td>
<td>Boolean.  True if <code class="prettyprint">Checkout.test</code> was set to true when checkout was created.</td>
</tr>
<tr>
<td>TransactionId</td>
<td>For the resulting payment, this is the <a href="request.html#how-transactions-work"><em>Sender&rsquo;s</em> Transaction ID</a>.</td>
</tr>
<tr>
<td>DestinationTransactionId</td>
<td>For the resulting payment, this is the <a href="request.html#how-transactions-work"><em>Recipient&rsquo;s</em> Transaction ID</a>.</td>
</tr>
</tbody></table>

          <h1 id='funding-sources'>Funding Sources</h1><pre class="highlight shell"><code><span class="o">===========================================</span>
<span class="c">#                  BANK                   #</span>
<span class="c">#=========================================#</span>
<span class="c">#   ____        ___________        ____   #</span>
<span class="c">#  |    |      |     |     |      |    |  #      </span>
<span class="c">#  |    |      |     |     |      |    |  #</span>
<span class="c">#  |____|      |   --|--   |      |____|  #</span>
<span class="c">#              |     |     |              #</span>
<span class="c">###########################################</span>

<span class="s2">"Bank"</span> - capablemonkey
</code></pre>
<pre class="highlight shell"><code><span class="o">[</span>
  <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"Balance"</span>,
      <span class="s2">"Name"</span>: <span class="s2">"My Dwolla Balance"</span>,
      <span class="s2">"Type"</span>: <span class="s2">""</span>,
      <span class="s2">"Verified"</span>: <span class="s2">"true"</span>,
      <span class="s2">"ProcessingType"</span>: <span class="s2">""</span>
  <span class="o">}</span>,
  <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fa"</span>,
      <span class="s2">"Name"</span>: <span class="s2">"Donations Collection Fund - Savings"</span>,
      <span class="s2">"Type"</span>: <span class="s2">"Savings"</span>,
      <span class="s2">"Verified"</span>: <span class="s2">"true"</span>,
      <span class="s2">"ProcessingType"</span>: <span class="s2">"ACH"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fb"</span>,
      <span class="s2">"Name"</span>: <span class="s2">"Donations Payout Account - Checking"</span>,
      <span class="s2">"Type"</span>: <span class="s2">"Checking"</span>,
      <span class="s2">"Verified"</span>: <span class="s2">"true"</span>,
      <span class="s2">"ProcessingType"</span>: <span class="s2">"FiSync"</span>
  <span class="o">}</span>
<span class="o">]</span>

</code></pre>

<p>Dwolla accounts have funding sources, such as linked bank accounts or a line of credit.  Funds can be added from a bank funding source (<code class="prettyprint">ACH</code> or <code class="prettyprint">FiSync</code>) into an user&rsquo;s account <code class="prettyprint">Balance</code>, and vice versa, funds can be withdrawn from a user&rsquo;s account balance to a bank funding source.</p>

<p>Payments funded by a real-time funding source such as the user&rsquo;s account balance, a <a href="http://help.dwolla.com/customer/portal/articles/1932943-what-is-fisync">FiSync</a> enabled bank account, or line of <code class="prettyprint">Credit</code> clear instantly.  On the other hand, transactions funded by ACH bank funding sources require 2-5 business days before the funds will be made available to the recipient.</p>

<p>ACH funding sources can be added and verified via the API.  </p>

<p>It&rsquo;s important to note that the ID of a funding source is an arbitrary string identifer, not a bank account number, which means you don&rsquo;t need to worry about protecting it to the same standard as you would for sensitive information like a bank account number.</p>
<h3 id='funding-source-types'>Funding Source Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
<th>Clearing time</th>
</tr>
</thead><tbody>
<tr>
<td>Balance</td>
<td>Every Dwolla user has an account balance. Payments funded by a user&rsquo;s balance clear instantly.</td>
<td>Instant</td>
</tr>
<tr>
<td>ACH</td>
<td>A traditional bank account associated with the account.</td>
<td>2-5 business days</td>
</tr>
<tr>
<td>FiSync</td>
<td>A linked bank account with a participating FiSync bank.</td>
<td>Instant</td>
</tr>
<tr>
<td>Credit</td>
<td>A line of credit via Dwolla Credit.  Currently, only business accounts that have undergone review may accept credit-funded payments.</td>
<td>Instant</td>
</tr>
<tr>
<td>Sweep</td>
<td>A special funding source type available to accounts with Sweep functionality.</td>
<td>Instant</td>
</tr>
</tbody></table>
<h3 id='funding-source-resource'>Funding Source Resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td>Funding Source ID (this is an arbitrary, generated ID)</td>
</tr>
<tr>
<td>Name</td>
<td>Arbitrary nickname for the funding source</td>
</tr>
<tr>
<td>Type</td>
<td>Possible values: <code class="prettyprint">Savings</code>, <code class="prettyprint">Checking</code>, or empty string for Dwolla Account Balance and Credit: <code class="prettyprint">&quot;&quot;</code></td>
</tr>
<tr>
<td>Verified</td>
<td><code class="prettyprint">&quot;true&quot;</code> if funding source is verified.  Funding sources must be verified before funds can be added to a Dwolla balance or withdrawn from it.</td>
</tr>
<tr>
<td>ProcessingType</td>
<td>Possible values: <code class="prettyprint">ACH</code>, <code class="prettyprint">FiSync</code>, or empty string: <code class="prettyprint">&quot;&quot;</code></td>
</tr>
</tbody></table>
<h2 id='list-funding-sources'>List Funding Sources</h2><pre class="highlight javascript"><code><span class="cm">/**
 *   Fetch all funding sources for the
 *   authorized user
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">fundingSources</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get a list of funding sources associated</span>
<span class="c"># with the account under the current OAuth token</span>

<span class="k">print</span><span class="p">(</span><span class="n">fundingsources</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Fetch all funding sources for the</span>
<span class="c1">#   authorized user</span>

<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">FundingSources</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\fundingSources</span><span class="p">();</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'Id' =&gt; 'Balance',
    'Name' =&gt; 'My Dwolla Balance',
    'Type' =&gt; '',
    'Verified' =&gt; true,
    'ProcessingType' =&gt; '',
  ),
  1 =&gt;
  array (
    'Id' =&gt; '5da016f7769bcb1de9938a30d194d5a7',
    'Name' =&gt; 'Blah - Checking',
    'Type' =&gt; 'Checking',
    'Verified' =&gt; true,
    'ProcessingType' =&gt; 'ACH',
  ),
  2 =&gt;
  array (
    'Id' =&gt; '7bf971a12543f560119318e67aa76035',
    'Name' =&gt; 'Some Nickname - Checking',
    'Type' =&gt; 'Checking',
    'Verified' =&gt; false,
    'ProcessingType' =&gt; 'ACH',
  ),
)
</code></pre>
<pre class="highlight python"><code><span class="p">[</span>
<span class="p">{</span>
    <span class="s">"Id"</span><span class="p">:</span> <span class="s">"Balance"</span><span class="p">,</span>
    <span class="s">"Name"</span><span class="p">:</span> <span class="s">"My Dwolla Balance"</span><span class="p">,</span>
    <span class="s">"Type"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"Verified"</span><span class="p">:</span> <span class="s">"true"</span><span class="p">,</span>
    <span class="s">"ProcessingType"</span><span class="p">:</span> <span class="s">""</span>
<span class="p">},</span>
<span class="p">{</span>
    <span class="s">"Id"</span><span class="p">:</span> <span class="s">"c58bb9f7f1d51d5547e1987a2833f4fa"</span><span class="p">,</span>
    <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Donations Collection Fund - Savings"</span><span class="p">,</span>
    <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Savings"</span><span class="p">,</span>
    <span class="s">"Verified"</span><span class="p">:</span> <span class="s">"true"</span><span class="p">,</span>
    <span class="s">"ProcessingType"</span><span class="p">:</span> <span class="s">"ACH"</span>
<span class="p">},</span>
<span class="p">{</span>
    <span class="s">"Id"</span><span class="p">:</span> <span class="s">"Credit"</span><span class="p">,</span>
    <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Credit"</span><span class="p">,</span>
    <span class="s">"Type"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">"Verified"</span><span class="p">:</span> <span class="s">"true"</span><span class="p">,</span>
    <span class="s">"ProcessingType"</span><span class="p">:</span> <span class="s">""</span>
<span class="p">},</span>
<span class="p">{</span>
    <span class="s">"Id"</span><span class="p">:</span> <span class="s">"c58bb9f7f1d51d5547e1987a2833f4fb"</span><span class="p">,</span>
    <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Donations Payout Account - Checking"</span><span class="p">,</span>
    <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Checking"</span><span class="p">,</span>
    <span class="s">"Verified"</span><span class="p">:</span> <span class="s">"true"</span><span class="p">,</span>
    <span class="s">"ProcessingType"</span><span class="p">:</span> <span class="s">"FiSync"</span>
<span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Dwolla Balance"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProcessingType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fa"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Donations Collection Fund - Savings"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Savings"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProcessingType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Credit"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProcessingType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Donations Payout Account - Checking"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checking"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ProcessingType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FiSync"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code><span class="p">[</span> 
    <span class="p">{</span> 
        <span class="na">Id</span><span class="p">:</span> <span class="s1">'Balance'</span><span class="p">,</span>
        <span class="na">Name</span><span class="p">:</span> <span class="s1">'My Dwolla Balance'</span><span class="p">,</span>
        <span class="na">Type</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
        <span class="na">Verified</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">ProcessingType</span><span class="p">:</span> <span class="s1">''</span> 
    <span class="p">},</span>

    <span class="p">{</span> 
        <span class="na">Id</span><span class="p">:</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">,</span>
        <span class="na">Name</span><span class="p">:</span> <span class="s1">'Blah - Checking'</span><span class="p">,</span>
        <span class="na">Type</span><span class="p">:</span> <span class="s1">'Checking'</span><span class="p">,</span>
        <span class="na">Verified</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">ProcessingType</span><span class="p">:</span> <span class="s1">'ACH'</span> 
    <span class="p">}</span> 
<span class="p">]</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span>             <span class="o">=&gt;</span> <span class="s2">"Balance"</span><span class="p">,</span>
    <span class="s2">"Name"</span>           <span class="o">=&gt;</span> <span class="s2">"My Dwolla Balance"</span><span class="p">,</span>
    <span class="s2">"Type"</span>           <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"Verified"</span>       <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
    <span class="s2">"ProcessingType"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span>             <span class="o">=&gt;</span> <span class="s2">"5da016f7769bcb1de9938a30d194d5a7"</span><span class="p">,</span>
    <span class="s2">"Name"</span>           <span class="o">=&gt;</span> <span class="s2">"Blah - Checking"</span><span class="p">,</span>
    <span class="s2">"Type"</span>           <span class="o">=&gt;</span> <span class="s2">"Checking"</span><span class="p">,</span>
    <span class="s2">"Verified"</span>       <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
    <span class="s2">"ProcessingType"</span> <span class="o">=&gt;</span> <span class="s2">"ACH"</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>

<p>Enumerate a user&rsquo;s funding sources.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Funding</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/fundingsources/</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<p>The following querystring parameters are optional:</p>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>destinationId</td>
<td>Only show funding sources that a particular recipient can accept a payment from.  See the section below.</td>
</tr>
<tr>
<td>destinationType</td>
<td>The type of the recipient.  Possible values: <code class="prettyprint">Email</code>, <code class="prettyprint">Dwolla</code>, <code class="prettyprint">Phone</code>.  Defaults to <code class="prettyprint">Dwolla</code></td>
</tr>
<tr>
<td>processingTypes</td>
<td>Processing types to return. By default, all types returned. Delimited by commas. e.g. processingTypes=ach,fisync</td>
</tr>
<tr>
<td>verified</td>
<td>Only show funding sources with verified values of either <code class="prettyprint">true</code> or <code class="prettyprint">false</code></td>
</tr>
</tbody></table>
<h3 id='filtering-funding-sources'>Filtering funding sources</h3>
<p>You can limit the results of this query to only the funding sources that a particular user can receive a payment from.  This is helpful, for instance, if the user account you&rsquo;re trying to send money to has opted-in to not accept payments funded via an ACH funding source.  In another case, only select merchant accounts have the ability to receive a Credit funded transaction, so Credit would not appear in the list of funding sources when filtered.</p>

<p>To do so, provide the <code class="prettyprint">destinationId</code> and <code class="prettyprint">destinationType</code> params in your request.  For example, if I only want to see funding sources that the user account ID 812-713-9234 can accept:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/fundingsources/?destinationId=812-713-9234&amp;destinationType=Dwolla</code></p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>No verified funding sources.</td>
<td>Could not find any funding sources for the given OAuth token.</td>
</tr>
</tbody></table>
<h2 id='get-a-funding-source'>Get a Funding Source</h2><pre class="highlight javascript"><code><span class="cm">/**
 *   Retrieve a funding source by its ID
 **/</span>

<span class="kd">var</span> <span class="nx">fundingSource</span> <span class="o">=</span> <span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fb"</span><span class="p">;</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">fundingSourceById</span><span class="p">(</span><span class="nx">fundingSource</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get information about a funding ID</span>

<span class="k">print</span><span class="p">(</span><span class="n">fundingsources</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'12345678'</span><span class="p">))</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Retrieve a funding source by its ID</span>

<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">FundingSources</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">"5da016f7769bcb1de9938a30d194d5a7"</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span> 

<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\fundingSources</span><span class="p">();</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'Balance' =&gt; NULL,
  'Id' =&gt; '5da016f7769bcb1de9938a30d194d5a7',
  'Name' =&gt; 'Blah - Checking',
  'Type' =&gt; 'Checking',
  'Verified' =&gt; true,
  'ProcessingType' =&gt; 'ACH',
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>             <span class="o">=&gt;</span> <span class="s2">"5da016f7769bcb1de9938a30d194d5a7"</span><span class="p">,</span>
  <span class="s2">"Name"</span>           <span class="o">=&gt;</span> <span class="s2">"Blah - Checking"</span><span class="p">,</span>
  <span class="s2">"Type"</span>           <span class="o">=&gt;</span> <span class="s2">"Checking"</span><span class="p">,</span>
  <span class="s2">"Balance"</span>        <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"Verified"</span>       <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="s2">"ProcessingType"</span> <span class="o">=&gt;</span> <span class="s2">"FiSync"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
<span class="s">"Id"</span><span class="p">:</span> <span class="s">"12345678"</span><span class="p">,</span>
<span class="s">"Name"</span><span class="p">:</span> <span class="s">"Donations Payout Account - Checking"</span><span class="p">,</span>
<span class="s">"Type"</span><span class="p">:</span> <span class="s">"Checking"</span><span class="p">,</span>
<span class="s">"Balance"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
<span class="s">"Verified"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
<span class="s">"ProcessingType"</span><span class="p">:</span> <span class="s">"FiSync"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Balance"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1578b447d79ad16eea8601d46d006cb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Veridian Credit Union - Savings"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Savings"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ProcessingType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FiSync"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
    <span class="nl">Id</span><span class="p">:</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">,</span>
    <span class="nx">Name</span><span class="err">:</span> <span class="s1">'Blah - Checking'</span><span class="p">,</span>
    <span class="nx">Balance</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Checking'</span><span class="p">,</span>
    <span class="nx">Verified</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">ProcessingType</span><span class="err">:</span> <span class="s1">'FiSync'</span> 
<span class="p">}</span> 
</code></pre>

<p>Look up a particular funding source by its funding source ID.  This endpoint includes an additional <code class="prettyprint">Balance</code> parameter. If the funding source is of type <code class="prettyprint">Credit</code> or is a Dwolla account balance, the funding source&rsquo;s available funds will be returned.  Otherwise, for ACH and FiSync funding sources, <code class="prettyprint">Balance</code> will be <code class="prettyprint">null</code>.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Funding</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/fundingsources/{id}</code></p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>No verified funding source matching Id {&hellip;}</td>
<td>Could not find a funding source with the given ID for the given OAuth token.</td>
</tr>
</tbody></table>
<h2 id='withdraw-to-a-funding-source'>Withdraw to a Funding Source</h2><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">fundingSource</span> <span class="o">=</span> <span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fb"</span><span class="p">;</span>
<span class="nx">dwolla</span><span class="p">.</span><span class="nx">withdrawToFundingSource</span><span class="p">(</span><span class="nx">pin</span><span class="p">,</span> <span class="mf">5.00</span><span class="p">,</span> <span class="nx">fundingSource</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="err">amount:</span><span class="w"> </span><span class="err">300.52,</span><span class="w">
    </span><span class="err">pin:</span><span class="w"> </span><span class="err">9999</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="c"># Withdraw $5 from Dwolla to funding ID</span>
<span class="c"># '12345678'.</span>

<span class="k">print</span><span class="p">(</span><span class="n">fundingsources</span><span class="o">.</span><span class="n">withdraw</span><span class="p">(</span><span class="mf">5.00</span><span class="p">,</span> <span class="s">'12345678'</span><span class="p">))</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">FundingSources</span><span class="p">.</span><span class="nf">withdraw</span><span class="p">(</span><span class="s1">'funding_source_id'</span><span class="p">,</span> <span class="p">{</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="o">.</span><span class="mi">95</span><span class="p">,</span> 
  <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="vi">@pin</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\fundingSources</span><span class="p">();</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">pin</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">withdraw</span><span class="p">(</span><span class="mf">5.00</span><span class="p">,</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight python"><code><span class="p">{</span> 
        <span class="s">"Id"</span><span class="p">:</span> <span class="mi">12345678</span><span class="p">,</span>
        <span class="s">"Amount"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s">"Date"</span><span class="p">:</span> <span class="s">"2014-09-05T06:40:56Z"</span><span class="p">,</span>
        <span class="s">"Type"</span><span class="p">:</span> <span class="s">"withdrawal"</span><span class="p">,</span>
        <span class="s">"UserType"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
        <span class="s">"DestinationId"</span><span class="p">:</span> <span class="s">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
        <span class="s">"DestinationName"</span><span class="p">:</span> <span class="s">"Blah"</span><span class="p">,</span>
        <span class="s">"Destination"</span><span class="p">:</span> <span class="p">{</span> 
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span> 
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Blah"</span><span class="p">,</span> 
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span> 
            <span class="s">"Image"</span><span class="p">:</span> <span class="s">""</span>
        <span class="p">},</span>
        <span class="s">"SourceId"</span><span class="p">:</span> <span class="s">"812-742-8722"</span><span class="p">,</span>
        <span class="s">"SourceName"</span><span class="p">:</span> <span class="s">"Cafe Kubal"</span><span class="p">,</span>
        <span class="s">"Source"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-742-8722"</span><span class="p">,</span>
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Cafe Kubal"</span><span class="p">,</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
            <span class="s">"Image"</span><span class="p">:</span> <span class="s">"http://uat.dwolla.com/avatars/812-742-8722"</span> 
        <span class="p">},</span>
        <span class="s">"ClearingDate"</span><span class="p">:</span> <span class="s">"2014-09-08T00:00:00Z"</span><span class="p">,</span>
        <span class="s">"Status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
        <span class="s">"Notes"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s">"Fees"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s">"OriginalTransactionId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s">"Metadata"</span><span class="p">:</span> <span class="n">null</span> 
      <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight php"><code>array (
  'Id' =&gt; 346098,
  'Amount' =&gt; 5,
  'Date' =&gt; '2014-10-22T19:49:45Z',
  'Type' =&gt; 'withdrawal',
  'UserType' =&gt; 'Dwolla',
  'DestinationId' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
  'DestinationName' =&gt; 'Blah',
  'Destination' =&gt;
  array (
    'Id' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
    'Name' =&gt; 'Blah',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; '',
  ),
  'SourceId' =&gt; '812-742-8722',
  'SourceName' =&gt; 'Cafe Kubal',
  'Source' =&gt;
  array (
    'Id' =&gt; '812-742-8722',
    'Name' =&gt; 'Cafe Kubal',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
  ),
  'ClearingDate' =&gt; '2014-10-24T00:00:00Z',
  'Status' =&gt; 'pending',
  'Notes' =&gt; NULL,
  'Fees' =&gt; NULL,
  'OriginalTransactionId' =&gt; NULL,
  'Metadata' =&gt; NULL,
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>                    <span class="o">=&gt;</span> <span class="mi">341600</span><span class="p">,</span>
  <span class="s2">"Amount"</span>                <span class="o">=&gt;</span> <span class="mi">12</span><span class="o">.</span><span class="mi">95</span><span class="p">,</span>
  <span class="s2">"Date"</span>                  <span class="o">=&gt;</span> <span class="s2">"2014-10-20T03:10:56Z"</span><span class="p">,</span>
  <span class="s2">"Type"</span>                  <span class="o">=&gt;</span> <span class="s2">"withdrawal"</span><span class="p">,</span>
  <span class="s2">"UserType"</span>              <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
  <span class="s2">"DestinationId"</span>         <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
  <span class="s2">"DestinationName"</span>       <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
  <span class="s2">"Destination"</span>           <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
    <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
    <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
  <span class="p">},</span>
  <span class="s2">"SourceId"</span>              <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
  <span class="s2">"SourceName"</span>            <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
  <span class="s2">"Source"</span>                <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
    <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
    <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
  <span class="p">},</span>
  <span class="s2">"ClearingDate"</span>          <span class="o">=&gt;</span> <span class="s2">"2014-10-21T00:00:00Z"</span><span class="p">,</span>
  <span class="s2">"Status"</span>                <span class="o">=&gt;</span> <span class="s2">"pending"</span><span class="p">,</span>
  <span class="s2">"Notes"</span>                 <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"Fees"</span>                  <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"OriginalTransactionId"</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"Metadata"</span>              <span class="o">=&gt;</span> <span class="kp">nil</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">327843</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-05T06:40:56Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdrawal"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DestinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DestinationName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blah"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blah"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-742-8722"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"SourceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cafe Kubal"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-742-8722"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cafe Kubal"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-08T00:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OriginalTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> 
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
    <span class="nl">Id</span><span class="p">:</span> <span class="mi">327843</span><span class="p">,</span>
    <span class="nx">Amount</span><span class="err">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nb">Date</span><span class="err">:</span> <span class="s1">'2014-09-05T06:40:56Z'</span><span class="p">,</span>
    <span class="nx">Type</span><span class="err">:</span> <span class="s1">'withdrawal'</span><span class="p">,</span>
    <span class="nx">UserType</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
    <span class="nx">DestinationId</span><span class="err">:</span> <span class="s1">'33be0db8a99c1a03e01e7c6dd54dff26'</span><span class="p">,</span>
    <span class="nx">DestinationName</span><span class="err">:</span> <span class="s1">'Blah'</span><span class="p">,</span>
    <span class="nx">Destination</span><span class="err">:</span> <span class="p">{</span> 
        <span class="nl">Id</span><span class="p">:</span> <span class="s1">'33be0db8a99c1a03e01e7c6dd54dff26'</span><span class="p">,</span> 
        <span class="nx">Name</span><span class="err">:</span> <span class="s1">'Blah'</span><span class="p">,</span> 
        <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span> 
        <span class="nx">Image</span><span class="err">:</span> <span class="s1">''</span> 
    <span class="p">},</span>
    <span class="nx">SourceId</span><span class="err">:</span> <span class="s1">'812-742-8722'</span><span class="p">,</span>
    <span class="nx">SourceName</span><span class="err">:</span> <span class="s1">'Cafe Kubal'</span><span class="p">,</span>
    <span class="nx">Source</span><span class="err">:</span> <span class="p">{</span> 
        <span class="nl">Id</span><span class="p">:</span> <span class="s1">'812-742-8722'</span><span class="p">,</span>
        <span class="nx">Name</span><span class="err">:</span> <span class="s1">'Cafe Kubal'</span><span class="p">,</span>
        <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
        <span class="nx">Image</span><span class="err">:</span> <span class="s1">'http://uat.dwolla.com/avatars/812-742-8722'</span> 
    <span class="p">},</span>
    <span class="nx">ClearingDate</span><span class="err">:</span> <span class="s1">'2014-09-08T00:00:00Z'</span><span class="p">,</span>
    <span class="nx">Status</span><span class="err">:</span> <span class="s1">'pending'</span><span class="p">,</span>
    <span class="nx">Notes</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">Fees</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">OriginalTransactionId</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">Metadata</span><span class="err">:</span> <span class="kc">null</span> 
<span class="p">}</span>
</code></pre>

<p>Withdraw funds from a user&rsquo;s account balance to one of the user&rsquo;s bank funding sources.  A new <a href="request.html#transactions">Transaction</a> of type <code class="prettyprint">withdrawal</code> is created as a result.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Funding</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/fundingsources/{id}/withdraw</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>Amount to withdraw from balance to funding source</td>
</tr>
<tr>
<td>pin</td>
<td>User account PIN</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid funding source.</td>
<td>The funding source specified is either empty or invalid.</td>
</tr>
<tr>
<td>Invalid financial institution.</td>
<td>Could not find a funding source with the given ID.</td>
</tr>
<tr>
<td>The amount supplied is invalid.</td>
<td>The amount parameter is either missing, empty, or invalid (contains illegal characters).</td>
</tr>
<tr>
<td>The amount is too small. Please send at least $1.00.</td>
<td>The minimum withdraw amount is $1.00. Please adjust the withdraw amount.</td>
</tr>
<tr>
<td>Not enough funds in the Dwolla balance to complete the withdrawal.</td>
<td>There are not enough funds in the account&rsquo;s Dwolla balance to complete the withdrawl.</td>
</tr>
</tbody></table>
<h2 id='add-money-from-a-funding-source'>Add money from a Funding Source</h2><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="err">amount:</span><span class="w"> </span><span class="err">5,</span><span class="w">
  </span><span class="err">pin:</span><span class="w"> </span><span class="err">9999</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight python"><code><span class="c"># Deposit $10 into Dwolla from funding ID</span>
<span class="c"># '12345678'.</span>

<span class="k">print</span><span class="p">(</span><span class="n">fundingsources</span><span class="o">.</span><span class="n">deposit</span><span class="p">(</span><span class="mf">10.00</span><span class="p">,</span> <span class="s">'12345678'</span><span class="p">))</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">FundingSources</span><span class="p">.</span><span class="nf">deposit</span><span class="p">(</span><span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">,</span> <span class="p">{</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="o">.</span><span class="mi">95</span><span class="p">,</span> 
  <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="s1">'9999'</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">fundingSource</span> <span class="o">=</span> <span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fb"</span><span class="p">;</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">depositFromFundingSource</span><span class="p">(</span><span class="nx">pin</span><span class="p">,</span> <span class="mf">5.00</span><span class="p">,</span> <span class="nx">fundingSource</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\fundingSources</span><span class="p">();</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">pin</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">deposit</span><span class="p">(</span><span class="mf">5.00</span><span class="p">,</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; 346099,
  'Amount' =&gt; 5,
  'Date' =&gt; '2014-10-22T19:51:01Z',
  'Type' =&gt; 'deposit',
  'UserType' =&gt; 'Dwolla',
  'DestinationId' =&gt; '812-742-8722',
  'DestinationName' =&gt; 'Cafe Kubal',
  'Destination' =&gt;
  array (
    'Id' =&gt; '812-742-8722',
    'Name' =&gt; 'Cafe Kubal',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
  ),
  'SourceId' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
  'SourceName' =&gt; 'Blah',
  'Source' =&gt;
  array (
    'Id' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
    'Name' =&gt; 'Blah',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; '',
  ),
  'ClearingDate' =&gt; '2014-10-28T00:00:00Z',
  'Status' =&gt; 'pending',
  'Notes' =&gt; NULL,
  'Fees' =&gt; NULL,
  'OriginalTransactionId' =&gt; NULL,
  'Metadata' =&gt; NULL,
)
</code></pre>
<pre class="highlight python"><code><span class="p">{</span> 
       <span class="s">"Id"</span><span class="p">:</span> <span class="mi">12345678</span><span class="p">,</span>
       <span class="s">"Amount"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
       <span class="s">"Date"</span><span class="p">:</span> <span class="s">"2014-09-05T06:40:56Z"</span><span class="p">,</span>
       <span class="s">"Type"</span><span class="p">:</span> <span class="s">"deposit"</span><span class="p">,</span>
       <span class="s">"UserType"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
       <span class="s">"DestinationId"</span><span class="p">:</span> <span class="s">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
       <span class="s">"DestinationName"</span><span class="p">:</span> <span class="s">"Blah"</span><span class="p">,</span>
       <span class="s">"Destination"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-742-8722"</span><span class="p">,</span>
           <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Cafe Kubal"</span><span class="p">,</span>
           <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
           <span class="s">"Image"</span><span class="p">:</span> <span class="s">"http://uat.dwolla.com/avatars/812-742-8722"</span> 
       <span class="p">},</span>
       <span class="s">"SourceId"</span><span class="p">:</span> <span class="s">"812-742-8722"</span><span class="p">,</span>
       <span class="s">"SourceName"</span><span class="p">:</span> <span class="s">"Cafe Kubal"</span><span class="p">,</span>
       <span class="s">"Source"</span><span class="p">:</span> <span class="p">{</span> 
           <span class="s">"Id"</span><span class="p">:</span> <span class="s">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span> 
           <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Blah"</span><span class="p">,</span> 
           <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span> 
           <span class="s">"Image"</span><span class="p">:</span> <span class="s">""</span>
       <span class="p">},</span>
       <span class="s">"ClearingDate"</span><span class="p">:</span> <span class="s">"2014-09-08T00:00:00Z"</span><span class="p">,</span>
       <span class="s">"Status"</span><span class="p">:</span> <span class="s">"pending"</span><span class="p">,</span>
       <span class="s">"Notes"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
       <span class="s">"Fees"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
       <span class="s">"OriginalTransactionId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
       <span class="s">"Metadata"</span><span class="p">:</span> <span class="n">null</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>                    <span class="o">=&gt;</span> <span class="mi">341601</span><span class="p">,</span>
  <span class="s2">"Amount"</span>                <span class="o">=&gt;</span> <span class="mi">12</span><span class="o">.</span><span class="mi">95</span><span class="p">,</span>
  <span class="s2">"Date"</span>                  <span class="o">=&gt;</span> <span class="s2">"2014-10-20T03:12:36Z"</span><span class="p">,</span>
  <span class="s2">"Type"</span>                  <span class="o">=&gt;</span> <span class="s2">"deposit"</span><span class="p">,</span>
  <span class="s2">"UserType"</span>              <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
  <span class="s2">"DestinationId"</span>         <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
  <span class="s2">"DestinationName"</span>       <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
  <span class="s2">"Destination"</span>           <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
    <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
    <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
  <span class="p">},</span>
  <span class="s2">"SourceId"</span>              <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
  <span class="s2">"SourceName"</span>            <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
  <span class="s2">"Source"</span>                <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
    <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
    <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
  <span class="p">},</span>
  <span class="s2">"ClearingDate"</span>          <span class="o">=&gt;</span> <span class="s2">"2014-10-23T00:00:00Z"</span><span class="p">,</span>
  <span class="s2">"Status"</span>                <span class="o">=&gt;</span> <span class="s2">"pending"</span><span class="p">,</span>
  <span class="s2">"Notes"</span>                 <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"Fees"</span>                  <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"OriginalTransactionId"</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"Metadata"</span>              <span class="o">=&gt;</span> <span class="kp">nil</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">Id</span><span class="p">:</span> <span class="mi">327844</span><span class="p">,</span>
  <span class="nx">Amount</span><span class="err">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nb">Date</span><span class="err">:</span> <span class="s1">'2014-09-05T06:40:57Z'</span><span class="p">,</span>
  <span class="nx">Type</span><span class="err">:</span> <span class="s1">'deposit'</span><span class="p">,</span>
  <span class="nx">UserType</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
  <span class="nx">DestinationId</span><span class="err">:</span> <span class="s1">'812-742-8722'</span><span class="p">,</span>
  <span class="nx">DestinationName</span><span class="err">:</span> <span class="s1">'Cafe Kubal'</span><span class="p">,</span>
  <span class="nx">Destination</span><span class="err">:</span> <span class="p">{</span> 
    <span class="nl">Id</span><span class="p">:</span> <span class="s1">'812-742-8722'</span><span class="p">,</span>
    <span class="nx">Name</span><span class="err">:</span> <span class="s1">'Cafe Kubal'</span><span class="p">,</span>
    <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
    <span class="nx">Image</span><span class="err">:</span> <span class="s1">'http://uat.dwolla.com/avatars/812-742-8722'</span>
  <span class="p">},</span>
  <span class="nx">SourceId</span><span class="err">:</span> <span class="s1">'33be0db8a99c1a03e01e7c6dd54dff26'</span><span class="p">,</span>
  <span class="nx">SourceName</span><span class="err">:</span> <span class="s1">'Blah'</span><span class="p">,</span>
  <span class="nx">Source</span><span class="err">:</span> <span class="p">{</span> 
    <span class="nl">Id</span><span class="p">:</span> <span class="s1">'33be0db8a99c1a03e01e7c6dd54dff26'</span><span class="p">,</span> 
    <span class="nx">Name</span><span class="err">:</span> <span class="s1">'Blah'</span><span class="p">,</span> 
    <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span> 
    <span class="nx">Image</span><span class="err">:</span> <span class="s1">''</span> 
  <span class="p">},</span>
  <span class="nx">ClearingDate</span><span class="err">:</span> <span class="s1">'2014-09-10T00:00:00Z'</span><span class="p">,</span>
  <span class="nx">Status</span><span class="err">:</span> <span class="s1">'pending'</span><span class="p">,</span>
  <span class="nx">Notes</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">Fees</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">OriginalTransactionId</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">Metadata</span><span class="err">:</span> <span class="kc">null</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">327843</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-05T06:40:56Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DestinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DestinationName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blah"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-742-8722"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cafe Kubal"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span><span class="w"> 
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-742-8722"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"SourceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cafe Kubal"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blah"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w"> 
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-08T00:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"OriginalTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> 
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Add funds from a user&rsquo;s bank funding source to the user&rsquo;s Dwolla account balance.  A new <a href="request.html#transactions">Transaction</a> of type <code class="prettyprint">deposit</code> is created as a result.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Funding</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/fundingsources/{id}/deposit</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>Amount to withdraw from balance to funding source</td>
</tr>
<tr>
<td>pin</td>
<td>User account PIN</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid funding source.</td>
<td>The funding source specified is either empty or invalid.</td>
</tr>
<tr>
<td>Invalid financial institution.</td>
<td>Could not find a funding source with the given ID.</td>
</tr>
<tr>
<td>The amount supplied is invalid.</td>
<td>The amount parameter is either missing, empty, or invalid (contains illegal characters).</td>
</tr>
<tr>
<td>The amount is too small. Please send at least $1.00.</td>
<td>The minimum amount to add to a balance is $1.00. Please adjust the amount of funds being added to a Dwolla balance.</td>
</tr>
<tr>
<td>The account is limited to {&hellip;} per transaction</td>
<td>The maximum amount of money being added to a Dwolla balance for this account is {…}. Please adjust the amount of money being added to a Dwolla balance.</td>
</tr>
</tbody></table>
<h2 id='add-new-funding-source'>Add new Funding Source</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\fundingSources</span><span class="p">();</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$routingNo</span> <span class="o">=</span> <span class="s2">"113024915"</span><span class="p">;</span>
<span class="nv">$accountNo</span> <span class="o">=</span> <span class="s2">"9999999999"</span><span class="p">;</span>
<span class="nv">$accountType</span> <span class="o">=</span> <span class="s2">"Checking"</span><span class="p">;</span>
<span class="nv">$nickname</span> <span class="o">=</span> <span class="s2">"My Bank Account"</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$accountNo</span><span class="p">,</span> <span class="nv">$routingNo</span><span class="p">,</span> <span class="nv">$accountType</span><span class="p">,</span> <span class="nv">$nickname</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Add a funding source to the account associated</span>
<span class="c"># with the current OAuth token.</span>
<span class="c">#</span>
<span class="c"># '12345678' is the account number.</span>
<span class="c"># '00000000' is the routing number.</span>
<span class="c"># 'Checking' is the account type.</span>
<span class="c"># 'My Bank' is a user defined account identifier string.</span>

<span class="k">print</span><span class="p">(</span><span class="n">fundingsources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">'12345678'</span><span class="p">,</span> <span class="s">'00000000'</span><span class="p">,</span> <span class="s">'Checking'</span><span class="p">,</span> <span class="s">'My Bank'</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Add a funding source with account number '12345678',
 * routing number '87654321', of type 'Checking' and with
 * name 'My Bank'
 */</span>

<span class="kd">var</span> <span class="nx">account</span> <span class="o">=</span> <span class="s1">'12345678'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">routing</span> <span class="o">=</span> <span class="s1">'87654321'</span><span class="p">;</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">addFundingSource</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">routing</span><span class="p">,</span> <span class="s1">'Checking'</span><span class="p">,</span> <span class="s1">'My Bank'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Add a new funding source (bank account).</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">FundingSources</span><span class="p">.</span><span class="nf">add</span><span class="p">({</span>
  <span class="ss">:routing_number</span> <span class="o">=&gt;</span> <span class="mi">113024915</span><span class="p">,</span> 
  <span class="ss">:account_number</span> <span class="o">=&gt;</span> <span class="mi">99999999</span><span class="p">,</span> 
  <span class="ss">:account_type</span> <span class="o">=&gt;</span> <span class="s2">"Checking"</span><span class="p">,</span> 
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s2">"Some Nickname"</span>
<span class="p">})</span>

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"routing_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"87654321"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checking"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Bank"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; '377d8ed651c2b799784aa2aa10762c37',
  'Name' =&gt; 'My Bank Account - Checking',
  'Type' =&gt; 'Checking',
  'Verified' =&gt; false,
  'ProcessingType' =&gt; 'ACH',
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>             <span class="o">=&gt;</span> <span class="s2">"7bf971a12543f560119318e67aa76035"</span><span class="p">,</span>
  <span class="s2">"Name"</span>           <span class="o">=&gt;</span> <span class="s2">"Some Nickname - Checking"</span><span class="p">,</span>
  <span class="s2">"Type"</span>           <span class="o">=&gt;</span> <span class="s2">"Checking"</span><span class="p">,</span>
  <span class="s2">"Verified"</span>       <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
  <span class="s2">"ProcessingType"</span> <span class="o">=&gt;</span> <span class="s2">"ACH"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
        <span class="s">"Id"</span><span class="p">:</span> <span class="s">"34da835f235cd25302ef0c5c1cb1d4b9"</span><span class="p">,</span>
        <span class="s">"Name"</span><span class="p">:</span> <span class="s">"My Bank"</span><span class="p">,</span>
        <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Checking"</span><span class="p">,</span>
        <span class="s">"Verified"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s">"ProcessingType"</span><span class="p">:</span> <span class="s">"ACH"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">Id</span><span class="p">:</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">,</span>
  <span class="nx">Name</span><span class="err">:</span> <span class="s1">'My Bank'</span><span class="p">,</span>
  <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Checking'</span><span class="p">,</span>
  <span class="nx">Verified</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">ProcessingType</span><span class="err">:</span> <span class="s1">'ACH'</span> 
<span class="p">}</span> 
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34da835f235cd25302ef0c5c1cb1d4b9"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Bank"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checking"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ProcessingType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Add a new ACH bank account as a funding source for the authenticated user.  Once created, the funding source will need to be verified before it can be used.  Two micro-deposits will be made, and their amounts must be verified using the <a href="request.html#verify-a-funding-source">Verify endpoint</a> or manually by the user on <a href="https://www.dwolla.com/">www.dwolla.com</a>.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Funding</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/fundingsources/</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_number</td>
<td>The bank account number</td>
</tr>
<tr>
<td>routing_number</td>
<td>The bank account&rsquo;s routing number.</td>
</tr>
<tr>
<td>account_type</td>
<td>Type of bank account: <code class="prettyprint">Checking</code> or <code class="prettyprint">Savings</code>.</td>
</tr>
<tr>
<td>name</td>
<td>Arbitrary nickname for the funding source</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Maximum number of bank accounts reached.</td>
<td>Users can only have 2 linked funding sources at once.</td>
</tr>
<tr>
<td>User must be verified.</td>
<td>The user account associated with the given OAuth token is not currently verified. Please verify the user before adding a funding source.</td>
</tr>
<tr>
<td>Invalid account type.</td>
<td>Invalid bank account type. See request parameters for valid account types.</td>
</tr>
<tr>
<td>Invalid account name.</td>
<td>Invalid bank account name. See request parameters for valid account names.</td>
</tr>
<tr>
<td>Please verify the routing number. It appears invalid.</td>
<td>Invalid bank routing number.</td>
</tr>
<tr>
<td>Please verify the account number. It appears invalid.</td>
<td>Invalid bank account number.</td>
</tr>
<tr>
<td>Please verify the SSN of the token holder. It appears invalid.</td>
<td>The SSN number of the user associated with the given OAuth token is invalid, or missing.</td>
</tr>
<tr>
<td>You have already added this account.</td>
<td>This funding source is already linked to the user with the given OAuth token.</td>
</tr>
<tr>
<td>There have been too many invalid attempts made with this account. Please wait 30 minutes and try again.</td>
<td>There have been too many invalid attempts made with this account. Please wait 30 minutes and try again.</td>
</tr>
<tr>
<td>It looks like we&rsquo;re having problems connecting to your bank. We will automatically process your transaction as soon as we are able to connect.</td>
<td>It looks like we&rsquo;re having problems connecting to your bank. We will automatically process your transaction as soon as we are able to connect.</td>
</tr>
</tbody></table>
<h2 id='verify-a-funding-source'>Verify a Funding Source</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\fundingSources</span><span class="p">();</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$deposit1</span> <span class="o">=</span> <span class="mf">0.04</span><span class="p">;</span>
<span class="nv">$deposit2</span> <span class="o">=</span> <span class="mf">0.02</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">verify</span><span class="p">(</span><span class="nv">$deposit1</span><span class="p">,</span> <span class="nv">$deposit2</span><span class="p">,</span> <span class="s2">"377d8ed651c2b799784aa2aa10762c37"</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">FundingSources</span><span class="p">.</span><span class="nf">verify</span><span class="p">(</span><span class="s2">"7bf971a12543f560119318e67aa76035"</span><span class="p">,</span> <span class="p">{</span>
  <span class="ss">:deposit1</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">01</span><span class="p">,</span> 
  <span class="ss">:deposit2</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">04</span><span class="p">,</span> 
<span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Verify the newly created account with via</span>
<span class="c"># the two micro-deposits.</span>
<span class="c">#</span>
<span class="c"># '0.04' is the first deposit.</span>
<span class="c"># '0.02' is the second deposit.</span>
<span class="c"># '12345678' is the account number.</span>

<span class="k">print</span><span class="p">(</span><span class="n">fundingsources</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s">'12345678'</span><span class="p">))</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"deposit1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"deposit2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.04"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Verify funding source ID '12345678' 
 * with micro-deposits of 0.02 and 0.05
 */</span>

<span class="kd">var</span> <span class="nx">fundingSource</span> <span class="o">=</span> <span class="s2">"c58bb9f7f1d51d5547e1987a2833f4fb"</span><span class="p">;</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">verifyFundingSource</span><span class="p">(</span><span class="s1">'0.02'</span><span class="p">,</span> <span class="s1">'0.05'</span><span class="p">,</span> <span class="nx">fundingSource</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; '377d8ed651c2b799784aa2aa10762c37',
  'Name' =&gt; 'My Bank Account - Checking',
  'Type' =&gt; 'Checking',
  'Verified' =&gt; true,
  'ProcessingType' =&gt; 'ACH',
)
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
        <span class="s">"Id"</span><span class="p">:</span> <span class="s">"12345678"</span><span class="p">,</span>
        <span class="s">"Name"</span><span class="p">:</span> <span class="s">"My Checking Account - Checking"</span><span class="p">,</span>
        <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Checking"</span><span class="p">,</span>
        <span class="s">"Verified"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s">"ProcessingType"</span><span class="p">:</span> <span class="s">"ACH"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>             <span class="o">=&gt;</span> <span class="s2">"7bf971a12543f560119318e67aa76035"</span><span class="p">,</span>
  <span class="s2">"Name"</span>           <span class="o">=&gt;</span> <span class="s2">"Some Nickname - Checking"</span><span class="p">,</span>
  <span class="s2">"Type"</span>           <span class="o">=&gt;</span> <span class="s2">"Checking"</span><span class="p">,</span>
  <span class="s2">"Verified"</span>       <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="s2">"ProcessingType"</span> <span class="o">=&gt;</span> <span class="s2">"ACH"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">Id</span><span class="p">:</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">,</span>
  <span class="nx">Name</span><span class="err">:</span> <span class="s1">'My Bank'</span><span class="p">,</span>
  <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Checking'</span><span class="p">,</span>
  <span class="nx">Verified</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">ProcessingType</span><span class="err">:</span> <span class="s1">'ACH'</span> 
<span class="p">}</span> 
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34da835f235cd25302ef0c5c1cb1d4b9"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Checking Account - Checking"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Checking"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ProcessingType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACH"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Verify the amounts of the 2 micro-deposits sent to a funding source.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Funding</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/fundingsources/{id}/verify</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>deposit1</td>
<td>First amount</td>
</tr>
<tr>
<td>deposit2</td>
<td>Second amount</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid funding source ID.</td>
<td>The funding source specified is either empty or invalid.</td>
</tr>
<tr>
<td>Bank has already been verified.</td>
<td>The bank account has already been verified.</td>
</tr>
<tr>
<td>Maximum number of verification attempts already reached.</td>
<td>Maximum number of verification attempts for this bank account already reached. Please contact customer support.</td>
</tr>
<tr>
<td>deposit1 amount isn&rsquo;t a valid or positive number.</td>
<td>The amount specified for &lsquo;deposit1&rsquo; isn&rsquo;t a valid or positive number.</td>
</tr>
<tr>
<td>deposit2 amount isn&rsquo;t a valid or positive number.</td>
<td>The amount specified for &#39;deposit2&rsquo; isn&rsquo;t a valid or positive number.</td>
</tr>
<tr>
<td>deposit1 amount should be less than $.15 (ie: enter $.05 for 5 cents)</td>
<td>The amount specified for &#39;deposit1&rsquo; should be less than 15 cents.</td>
</tr>
<tr>
<td>deposit2 amount should be less than $.15 (ie: enter $.05 for 5 cents)</td>
<td>The amount specified for &#39;deposit2&rsquo; should be less than 15 cents.</td>
</tr>
<tr>
<td>The verification deposits have not had enough time to clear the system. Please allow 2-3 days from when the bank was added before attempting to verify the account.</td>
<td>Please allow 2-3 business days before attempting to verify this funding source.</td>
</tr>
<tr>
<td>One or both of the amounts do not match our records.</td>
<td>The specified deposit amounts are incorrect.</td>
</tr>
</tbody></table>

          <h1 id='transactions'>Transactions</h1><pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Id"</span>: 4443952,
    <span class="s2">"Amount"</span>: 0.01,
    <span class="s2">"Date"</span>: <span class="s2">"2014-01-22T13:09:38Z"</span>,
    <span class="s2">"Type"</span>: <span class="s2">"money_sent"</span>,
    <span class="s2">"UserType"</span>: <span class="s2">"Dwolla"</span>,
    <span class="s2">"DestinationId"</span>: <span class="s2">"812-713-9234"</span>,
    <span class="s2">"DestinationName"</span>: <span class="s2">"Peter Douglas"</span>,
    <span class="s2">"Destination"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-713-9234"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Peter Douglas"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
        <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-713-9234"</span>
    <span class="o">}</span>,
    <span class="s2">"SourceId"</span>: <span class="s2">"812-629-2658"</span>,
    <span class="s2">"SourceName"</span>: <span class="s2">"Tom Walker"</span>,
    <span class="s2">"Source"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-713-9234"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Tom Walker"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
        <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-713-9234"</span>
    <span class="o">}</span>,
    <span class="s2">"ClearingDate"</span>: <span class="s2">""</span>,
    <span class="s2">"Status"</span>: <span class="s2">"processed"</span> ,
    <span class="s2">"Notes"</span>: <span class="s2">"don't spend it all in one place!"</span>,
    <span class="s2">"OriginalTransactionId"</span>: null,
    <span class="s2">"Metadata"</span>: null ,
    <span class="s2">"Fees"</span>: null
<span class="o">}</span>
</code></pre>
<pre class="highlight plaintext"><code>$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$,,,$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$"OOO"$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$!OOO!$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$,"OOO",$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$,"OOOOOOO",$$$$$$$$$$$$$
$$$$$$$$$$$$!"OOOOOOOOOOO"!$$$$$$$$$$$
$$$$$$$$$$,"OOOOOOOOOOOOOOO",$$$$$$$$$
$$$$$$$$,1OOOOOOOOOOOOOOOOOOO7,$$$$$$$
$$$$$$,!OOOOOOOOOOOOOOOOOOOOOO"$$$$$$$
$$$$$$!OOOOOOOOO/""""'\OOOOOOOO1$$$$$$
$$$$$$"OOOOOOOOOO"$$$$!OOOOOOOO"$$$$$$
$$$$$$"OOOOOOOOOOO!$$$",OOOOOOO!$$$$$$
$$$$$$$",OOOOOOOOOO",$$$"""""""$$$$$$$
$$$$$$$$"!OOOOOOOOOOO",$$$$$$$$$$$$$$$
$$$$$$$$$$",OOOOOOOOOOO",$$$$$$$$$$$$$
$$$$$$$$$$$$"OOOOOOOOOOOO",$$$$$$$$$$$
$$$$$$$$$$$$$"!OOOOOOOOOOOO"+$$$$$$$$$
$$$$$$$$$$$$$$$"==OOOOOOOOOOO,$$$$$$$$
$$$$$$$$,,,,,,$$$$",OOOOOOOOOO",$$$$$$
$$$$$$,"OOOOOO',$$$$",OOOOOOOOO!$$$$$$
$$$$$$1OOOOOOOO."~~~"OOOOOOOOOO!$$$$$$
$$$$$$!OOOOOOOOOOOOOOOOOOOOOOO1$$$$$$$
$$$$$$",OOOOOOOOOOOOOOOOOOOOO,"$$$$$$$
$$$$$$$",OOOOOOOOOOOOOOOOOOO!$$$$$$$$$
$$$$$$$$$1OOOOOOOOOOOOOOOO,1$$$$$$$$$$
$$$$$$$$$$"~~,OOOOOOOOOO,"$$$$$$$$$$$$
$$$$$$$$$$$$$$"""1OOO1"'$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$!OOO!$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$,OOO,$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$"""$$$$$$$$$$$$$$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$$$$ "DWOLLA DWOLLA BILL YA'LL" $$$$$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
</code></pre>

<p>Any movement of money, whether it&rsquo;s a payment, fee, withdrawal, or adding funds to a Dwolla balance, is recorded as an individual Transaction.  For instance, adding money from a funding source into your Dwolla account balance creates a <code class="prettyprint">Transaction</code> of type <code class="prettyprint">deposit</code>.</p>
<h3 id='how-transactions-work'>How Transactions Work</h3>
<p>When a payment is sent, 2 or more transactions are created.  At least one is created to credit the recipient&rsquo;s account balance, and another one to debit the sender&rsquo;s account balance.  </p>

<p>As a simple example, let&rsquo;s say Bob sends $5 to Alice from his account balance.  From this action, two <code class="prettyprint">Transactions</code> are created:</p>

<ol>
<li>Transaction <code class="prettyprint">512010</code>: credits Alice&rsquo;s account with $5</li>
<li>Transaction <code class="prettyprint">512011</code>: deducts $5 from Bob&rsquo;s account</li>
</ol>

<p>It&rsquo;s important to keep in mind that when Bob looks at this payment, he will see the credit transaction&rsquo;s ID: <code class="prettyprint">512010</code>.  This is called the <strong>Sender&rsquo;s Transaction ID</strong>. </p>

<p>Similarly, when Alice looks up this payment, she will see a different transaction of ID <code class="prettyprint">512011</code>, which we call the <strong>Recipient&rsquo;s Transaction ID</strong>.</p>
<h4 id='additional-transactions'>Additional Transactions</h4>
<p>For a particular payment, additional transactions are created: </p>

<ul>
<li>if the payment is bank sourced, to fund the payment</li>
<li>if there is a facilitator fee</li>
</ul>

<p>Learn how to correlate the sender&rsquo;s and recipient&rsquo;s transaction ID with <a href="../../pages/guides/correlate_transactions.html">this guide</a>.</p>
<h3 id='transaction-types'>Transaction Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>money_sent</td>
<td>Payment sent by a user</td>
</tr>
<tr>
<td>money_received</td>
<td>Payment received by a user</td>
</tr>
<tr>
<td>deposit</td>
<td>Funds deposited from a Funding Source (e.g. bank account) to the user&rsquo;s Dwolla account balance</td>
</tr>
<tr>
<td>withdrawal</td>
<td>Funds withdrawn from the user&rsquo;s Dwolla account balance to an associated Funding Source</td>
</tr>
</tbody></table>
<h3 id='transaction-statuses'>Transaction Statuses</h3>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pending</td>
<td>Bank-funded payment awaiting clearance; typically requires 3 - 5 business days to clear.</td>
</tr>
<tr>
<td>processed</td>
<td>Transaction has cleared successfully.</td>
</tr>
<tr>
<td>failed</td>
<td>Transaction failed to clear successfully.  Usually, this is a result of an ACH failure (insufficient funds, etc.).</td>
</tr>
<tr>
<td>cancelled</td>
<td>A pending transaction has been canceled, and will not process further.</td>
</tr>
<tr>
<td>reclaimed</td>
<td>The payment was returned to the sender after being unclaimed by the recipient for a period of time.</td>
</tr>
</tbody></table>
<aside class="notice"><p>The initial transaction state for all real-time (e.g. Balance, FiSync, Credit) funded transfers will always be &ldquo;processed&rdquo;.</p>
</aside><h3 id='transaction-resource'>Transaction Resource</h3><pre class="highlight plaintext"><code>{
  "Amount": 1,
  "Date": "2014-01-22T13:11:10Z",
  "UserType": "Email",
  "DestinationId": "bob@dwolla.com",
  "DestinationName": "bob@dwolla.com,
  "Destination": {
      "Id": "bob@dwolla.com",
      "Name": "bob@dwolla.com",
      "Type": "Email",
      "Image": ""
  },
  "Id": 12345,
  "SourceId": "812-111-2222",
  "SourceName": "Alice",
  "Source": {
      "Id": "812-111-2222",
      "Name": "Alice",
      "Type": "Dwolla",
      "Image": "http://uat.dwolla.com/avatars/812-111-2222"
  },
  "Type": "money_sent",
  "Status": "processed" ,
  "ClearingDate": "",
  "Notes": "Thank you for lunch!",
  "OriginalTransactionId": null,
  "Metadata": {
      "some meta info":  "foobar",
      "aProfoundRealization": "pretzels"
  },
  "Fees": [
      {
          "Id": 1646163,
          "Amount": 0.1,
          "Type": "Facilitator Fee"
      }
  ]
}
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Amount</td>
<td>Amount of funds involved.</td>
</tr>
<tr>
<td>Date</td>
<td>Timestamp of when the transaction was created.  ISO-8601 format.</td>
</tr>
<tr>
<td>UserType</td>
<td>Type of destination.  Can be <code class="prettyprint">Dwolla</code> if money was sent to a Dwolla ID, <code class="prettyprint">Email</code>, or <code class="prettyprint">PhoneNumber</code>.</td>
</tr>
<tr>
<td>DestinationId</td>
<td>Dwolla ID, email address, or phone number of recipient.</td>
</tr>
<tr>
<td>DestinationName</td>
<td>Full name of recipient Dwolla user, if available.  Otherwise, email or phone number of non-user.</td>
</tr>
<tr>
<td>Destination</td>
<td>JSON object describing the DestinationId, DestinationName, recipient type (possible values: <code class="prettyprint">Dwolla</code>, <code class="prettyprint">Email</code>, <code class="prettyprint">Phone</code>), and avatar URL of recipient, if available.</td>
</tr>
<tr>
<td>Id</td>
<td>Unique Transaction ID.  Incrementally generated integer.  Currently, Transaction IDs are 7 digits long in production, but will eventually grow longer.</td>
</tr>
<tr>
<td>SourceId</td>
<td>Dwolla ID of the sender&rsquo;s account</td>
</tr>
<tr>
<td>SourceName</td>
<td>Full name of the sender</td>
</tr>
<tr>
<td>Source</td>
<td>JSON object describing the SourceId, DestinationName, and avatar URL of sender, if available.  <code class="prettyprint">Type</code> will always be <code class="prettyprint">Dwolla</code>.</td>
</tr>
<tr>
<td>Type</td>
<td>Transaction type <a href="request.html#transaction-types">See above</a></td>
</tr>
<tr>
<td>Status</td>
<td>Transaction Status.  <a href="request.html#transaction-statuses">See above</a></td>
</tr>
<tr>
<td>ClearingDate</td>
<td>For bank funded payments, this is the expected clearing date.  Otherwise, for real time payments (e.g. funded by <code class="prettyprint">Balance</code>), this will be an empty string: <code class="prettyprint">&quot;&quot;</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Note attached to the payment.  Max 250 characters.</td>
</tr>
<tr>
<td>OriginalTransactionId</td>
<td>If the transaction is a refund, this is the transaction ID of the original transaction which was refunded. Otherwise, <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>Metadata</td>
<td>JSON object with max 10 key-value pairs. Keys and values are strings of max length 255. <code class="prettyprint">null</code> if not provided or visible to application.  <a href="request.html#metadata">Read more</a></td>
</tr>
<tr>
<td>Fees</td>
<td>Array of any facilitator fees incurred by this payment.  Otherwise, <code class="prettyprint">null</code>.</td>
</tr>
</tbody></table>
<h2 id='list-a-user39s-transactions'>List a user&rsquo;s transactions</h2><pre class="highlight javascript"><code><span class="cm">/**
 * Retrieve the 10 most recent transactions for
 * the authorized user
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">transactions</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Get 10 most recent transactions</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Transactions</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Transactions</span><span class="p">();</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fetch the 10 most recent transactions</span>
<span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</code></pre>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'Id' =&gt; 346099,
    'Amount' =&gt; 5,
    'Date' =&gt; '2014-10-22T19:51:01Z',
    'Type' =&gt; 'deposit',
    'UserType' =&gt; 'Dwolla',
    'DestinationId' =&gt; '812-742-8722',
    'DestinationName' =&gt; 'Cafe Kubal',
    'Destination' =&gt;
    array (
      'Id' =&gt; '812-742-8722',
      'Name' =&gt; 'Cafe Kubal',
      'Type' =&gt; 'Dwolla',
      'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
    ),
    'SourceId' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
    'SourceName' =&gt; 'Blah',
    'Source' =&gt;
    array (
      'Id' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
      'Name' =&gt; 'Blah',
      'Type' =&gt; 'Dwolla',
      'Image' =&gt; '',
    ),
    'ClearingDate' =&gt; '2014-10-28T00:00:00Z',
    'Status' =&gt; 'pending',
    'Notes' =&gt; NULL,
    'Fees' =&gt; NULL,
    'OriginalTransactionId' =&gt; NULL,
    'Metadata' =&gt; NULL,
  ),
  1 =&gt;
  array (
  ...
  ),
)
</code></pre>
<pre class="highlight python"><code><span class="p">[</span>
    <span class="p">{</span>
        <span class="s">"Id"</span><span class="p">:</span> <span class="mi">113533</span><span class="p">,</span>
        <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">5.50</span><span class="p">,</span>
        <span class="s">"Date"</span><span class="p">:</span> <span class="s">"2014-12-13T05:07:15Z"</span><span class="p">,</span>
        <span class="s">"Type"</span><span class="p">:</span> <span class="s">"money_sent"</span><span class="p">,</span>
        <span class="s">"UserType"</span><span class="p">:</span> <span class="s">"Email"</span><span class="p">,</span>
        <span class="s">"DestinationId"</span><span class="p">:</span> <span class="s">"812-197-4121"</span><span class="p">,</span>
        <span class="s">"DestinationName"</span><span class="p">:</span> <span class="s">"Some Name"</span><span class="p">,</span>
        <span class="s">"Destination"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-197-4121"</span><span class="p">,</span>
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Some Name"</span><span class="p">,</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"dwolla"</span><span class="p">,</span>
            <span class="s">"Image"</span><span class="p">:</span> <span class="s">""</span>
        <span class="p">},</span>
        <span class="s">"SourceId"</span><span class="p">:</span> <span class="s">"812-202-3784"</span><span class="p">,</span>
        <span class="s">"SourceName"</span><span class="p">:</span> <span class="s">"David Stancu"</span><span class="p">,</span>
        <span class="s">"Source"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-202-3784"</span><span class="p">,</span>
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"David Stancu"</span><span class="p">,</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
            <span class="s">"Image"</span><span class="p">:</span> <span class="s">"https://dwolla-avatars.s3.amazonaws.com/812-202-3784/ac045522"</span>
        <span class="p">},</span>
        <span class="s">"ClearingDate"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
        <span class="s">"Status"</span><span class="p">:</span> <span class="s">"cancelled"</span><span class="p">,</span>
        <span class="s">"Notes"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
        <span class="s">"Fees"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s">"OriginalTransactionId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s">"Metadata"</span><span class="p">:</span> <span class="n">null</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span>                    <span class="o">=&gt;</span> <span class="mi">331506</span><span class="p">,</span>
    <span class="s2">"Amount"</span>                <span class="o">=&gt;</span> <span class="mi">15</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span>
    <span class="s2">"Date"</span>                  <span class="o">=&gt;</span> <span class="s2">"2014-09-17T18:18:46Z"</span><span class="p">,</span>
    <span class="s2">"Type"</span>                  <span class="o">=&gt;</span> <span class="s2">"withdrawal"</span><span class="p">,</span>
    <span class="s2">"UserType"</span>              <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"DestinationId"</span>         <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
    <span class="s2">"DestinationName"</span>       <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
    <span class="s2">"Destination"</span>           <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
    <span class="p">},</span>
    <span class="s2">"SourceId"</span>              <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
    <span class="s2">"SourceName"</span>            <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
    <span class="s2">"Source"</span>                <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
    <span class="p">},</span>
    <span class="s2">"ClearingDate"</span>          <span class="o">=&gt;</span> <span class="s2">"2014-09-19T00:00:00Z"</span><span class="p">,</span>
    <span class="s2">"Status"</span>                <span class="o">=&gt;</span> <span class="s2">"pending"</span><span class="p">,</span>
    <span class="s2">"Notes"</span>                 <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"Fees"</span>                  <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"OriginalTransactionId"</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"Metadata"</span>              <span class="o">=&gt;</span> <span class="kp">nil</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">[</span>
   <span class="p">{</span>
      <span class="s2">"Id"</span><span class="p">:</span><span class="mi">328979</span><span class="p">,</span>
      <span class="s2">"Amount"</span><span class="p">:</span><span class="mf">10.01</span><span class="p">,</span>
      <span class="s2">"Date"</span><span class="p">:</span><span class="s2">"2014-09-09T04:49:41Z"</span><span class="p">,</span>
      <span class="s2">"Type"</span><span class="p">:</span><span class="s2">"money_sent"</span><span class="p">,</span>
      <span class="s2">"UserType"</span><span class="p">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"DestinationId"</span><span class="p">:</span><span class="s2">"812-232-2342"</span><span class="p">,</span>
      <span class="s2">"DestinationName"</span><span class="p">:</span><span class="s2">"Joe Schmoe"</span><span class="p">,</span>
      <span class="s2">"Destination"</span><span class="p">:{</span>
         <span class="s2">"Id"</span><span class="p">:</span><span class="s2">"812-232-2342"</span><span class="p">,</span>
         <span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Joe Schmoe"</span><span class="p">,</span>
         <span class="s2">"Type"</span><span class="p">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
         <span class="s2">"Image"</span><span class="p">:</span><span class="s2">"http://uat.dwolla.com/avatars/812-232-2342"</span>
      <span class="p">},</span>
      <span class="s2">"SourceId"</span><span class="err">:</span><span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"SourceName"</span><span class="err">:</span><span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Source"</span><span class="err">:</span><span class="p">{</span>
         <span class="s2">"Id"</span><span class="err">:</span><span class="s2">"812-742-8722"</span><span class="p">,</span>
         <span class="s2">"Name"</span><span class="err">:</span><span class="s2">"Cafe Kubal"</span><span class="p">,</span>
         <span class="s2">"Type"</span><span class="err">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
         <span class="s2">"Image"</span><span class="err">:</span><span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
      <span class="p">},</span>
      <span class="s2">"ClearingDate"</span><span class="err">:</span><span class="s2">""</span><span class="p">,</span>
      <span class="s2">"Status"</span><span class="err">:</span><span class="s2">"processed"</span><span class="p">,</span>
      <span class="s2">"Notes"</span><span class="err">:</span><span class="s2">""</span><span class="p">,</span>
      <span class="s2">"Fees"</span><span class="err">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">"OriginalTransactionId"</span><span class="err">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">"Metadata"</span><span class="err">:</span><span class="kc">null</span>
  <span class="p">},</span>
  <span class="p">{</span> 
    <span class="p">...</span> 
  <span class="p">},</span>
  <span class="p">{</span> 
    <span class="p">...</span> 
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5569196</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-13T05:17:15Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money_sent"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"UserType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"DestinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"DestinationName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-687-7049"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"SourceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gordon Zheng"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-687-7049"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gordon Zheng"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://dwolla-avatars.s3.amazonaws.com/812-687-7049/ac044552"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"OriginalTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve the transaction history of the authenticated user.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Transactions</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions</code></p>
<h4 id='example'>Example:</h4>
<p>To get the latest 200 transactions of type <code class="prettyprint">money_sent</code>, <code class="prettyprint">fee</code>, and <code class="prettyprint">deposit</code>:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions?types=money_sent,fee,deposit&amp;limit=200</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>types</td>
<td>Types of transactions to return.  By default, all types returned.  Possible values: <code class="prettyprint">money_sent</code>, <code class="prettyprint">money_received</code>, <code class="prettyprint">deposit</code>, <code class="prettyprint">withdrawal</code>, <code class="prettyprint">fee</code>.  Delimited by <code class="prettyprint">,</code></td>
</tr>
<tr>
<td>limit</td>
<td>Number of transactions to return.  Max 200.  Defaults to 10.</td>
</tr>
<tr>
<td>skip</td>
<td>Number of transactions to skip.</td>
</tr>
<tr>
<td>sinceDate</td>
<td>Earliest date and time for which to retrieve transactions.  Must be ISO-8601 formatted.  Example: <code class="prettyprint">2014-08-13T21:05:23.797Z</code></td>
</tr>
<tr>
<td>endDate</td>
<td>Latest date and time for which to retrieve transactions.  Must be ISO-8601 formatted.  Example: <code class="prettyprint">2014-08-13T21:05:23.797Z</code></td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid since date.</td>
<td>Date specified to retrieve transactions is invalid</td>
</tr>
<tr>
<td>Invalid end date.</td>
<td>Date specified to retrieve transactions is invalid</td>
</tr>
<tr>
<td>Invalid limit.</td>
<td>Invalid number of transactions to return</td>
</tr>
<tr>
<td>Invalid skip.</td>
<td>Invalid number of transactions to skip</td>
</tr>
</tbody></table>
<h2 id='list-an-app39s-transactions'>List an app&rsquo;s transactions</h2><pre class="highlight javascript"><code><span class="cm">/**
 * Retrieve the 10 recentmost transactions which
 * have been facilitated by this application.
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">transactionsByApp</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Transactions</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Transactions</span><span class="p">();</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="c1">// set access token to null and get() will use key and secret
</span><span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="kp">nil</span><span class="p">,</span> <span class="p">{},</span> <span class="kp">false</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'Id' =&gt; 346099,
    'Amount' =&gt; 5,
    'Date' =&gt; '2014-10-22T19:51:01Z',
    'Type' =&gt; 'deposit',
    'UserType' =&gt; 'Dwolla',
    'DestinationId' =&gt; '812-742-8722',
    'DestinationName' =&gt; 'Cafe Kubal',
    'Destination' =&gt;
    array (
      'Id' =&gt; '812-742-8722',
      'Name' =&gt; 'Cafe Kubal',
      'Type' =&gt; 'Dwolla',
      'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
    ),
    'SourceId' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
    'SourceName' =&gt; 'Blah',
    'Source' =&gt;
    array (
      'Id' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
      'Name' =&gt; 'Blah',
      'Type' =&gt; 'Dwolla',
      'Image' =&gt; '',
    ),
    'ClearingDate' =&gt; '2014-10-28T00:00:00Z',
    'Status' =&gt; 'pending',
    'Notes' =&gt; NULL,
    'Fees' =&gt; NULL,
    'OriginalTransactionId' =&gt; NULL,
    'Metadata' =&gt; NULL,
  ),
  1 =&gt;
  array (
  ...
  ),
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span>                    <span class="o">=&gt;</span> <span class="mi">331506</span><span class="p">,</span>
    <span class="s2">"Amount"</span>                <span class="o">=&gt;</span> <span class="mi">15</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span>
    <span class="s2">"Date"</span>                  <span class="o">=&gt;</span> <span class="s2">"2014-09-17T18:18:46Z"</span><span class="p">,</span>
    <span class="s2">"Type"</span>                  <span class="o">=&gt;</span> <span class="s2">"withdrawal"</span><span class="p">,</span>
    <span class="s2">"UserType"</span>              <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"DestinationId"</span>         <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
    <span class="s2">"DestinationName"</span>       <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
    <span class="s2">"Destination"</span>           <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
    <span class="p">},</span>
    <span class="s2">"SourceId"</span>              <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
    <span class="s2">"SourceName"</span>            <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
    <span class="s2">"Source"</span>                <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
    <span class="p">},</span>
    <span class="s2">"ClearingDate"</span>          <span class="o">=&gt;</span> <span class="s2">"2014-09-19T00:00:00Z"</span><span class="p">,</span>
    <span class="s2">"Status"</span>                <span class="o">=&gt;</span> <span class="s2">"pending"</span><span class="p">,</span>
    <span class="s2">"Notes"</span>                 <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"Fees"</span>                  <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"OriginalTransactionId"</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"Metadata"</span>              <span class="o">=&gt;</span> <span class="kp">nil</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">[</span>
   <span class="p">{</span>
      <span class="s2">"Id"</span><span class="p">:</span><span class="mi">328979</span><span class="p">,</span>
      <span class="s2">"Amount"</span><span class="p">:</span><span class="mf">10.01</span><span class="p">,</span>
      <span class="s2">"Date"</span><span class="p">:</span><span class="s2">"2014-09-09T04:49:41Z"</span><span class="p">,</span>
      <span class="s2">"Type"</span><span class="p">:</span><span class="s2">"money_sent"</span><span class="p">,</span>
      <span class="s2">"UserType"</span><span class="p">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"DestinationId"</span><span class="p">:</span><span class="s2">"812-232-2342"</span><span class="p">,</span>
      <span class="s2">"DestinationName"</span><span class="p">:</span><span class="s2">"Joe Schmoe"</span><span class="p">,</span>
      <span class="s2">"Destination"</span><span class="p">:{</span>
         <span class="s2">"Id"</span><span class="p">:</span><span class="s2">"812-232-2342"</span><span class="p">,</span>
         <span class="s2">"Name"</span><span class="p">:</span><span class="s2">"Joe Schmoe"</span><span class="p">,</span>
         <span class="s2">"Type"</span><span class="p">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
         <span class="s2">"Image"</span><span class="p">:</span><span class="s2">"http://uat.dwolla.com/avatars/812-232-2342"</span>
      <span class="p">},</span>
      <span class="s2">"SourceId"</span><span class="err">:</span><span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"SourceName"</span><span class="err">:</span><span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Source"</span><span class="err">:</span><span class="p">{</span>
         <span class="s2">"Id"</span><span class="err">:</span><span class="s2">"812-742-8722"</span><span class="p">,</span>
         <span class="s2">"Name"</span><span class="err">:</span><span class="s2">"Cafe Kubal"</span><span class="p">,</span>
         <span class="s2">"Type"</span><span class="err">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
         <span class="s2">"Image"</span><span class="err">:</span><span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
      <span class="p">},</span>
      <span class="s2">"ClearingDate"</span><span class="err">:</span><span class="s2">""</span><span class="p">,</span>
      <span class="s2">"Status"</span><span class="err">:</span><span class="s2">"processed"</span><span class="p">,</span>
      <span class="s2">"Notes"</span><span class="err">:</span><span class="s2">""</span><span class="p">,</span>
      <span class="s2">"Fees"</span><span class="err">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">"OriginalTransactionId"</span><span class="err">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">"Metadata"</span><span class="err">:</span><span class="kc">null</span>
  <span class="p">},</span>
  <span class="p">{</span> 
    <span class="p">...</span> 
  <span class="p">},</span>
  <span class="p">{</span> 
    <span class="p">...</span> 
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5569196</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-08-13T05:17:15Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"money_sent"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"UserType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"DestinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"DestinationName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ejfwefjwfk02022@gmail.com"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-687-7049"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"SourceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gordon Zheng"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-687-7049"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gordon Zheng"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://dwolla-avatars.s3.amazonaws.com/812-687-7049/ac044552"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"OriginalTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List the transactions which your application has created / facilitated.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions?client_id={}&amp;client_secret={}</code></p>
<h4 id='example'>Example:</h4>
<p>To get the latest 200 transactions of type <code class="prettyprint">money_sent</code>, <code class="prettyprint">fee</code>, and <code class="prettyprint">deposit</code>:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions?types=money_sent,fee,deposit&amp;limit=200</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>Application key</td>
</tr>
<tr>
<td>client_secret</td>
<td>Application secret</td>
</tr>
<tr>
<td>types</td>
<td>Types of transactions to return.  By default, all types returned.  Possible values: <code class="prettyprint">money_sent</code>, <code class="prettyprint">money_received</code>, <code class="prettyprint">deposit</code>, <code class="prettyprint">withdrawal</code>, <code class="prettyprint">fee</code>.  Delimited by <code class="prettyprint">,</code></td>
</tr>
<tr>
<td>limit</td>
<td>Number of transactions to return.  Max 200.  Defaults to 10.</td>
</tr>
<tr>
<td>skip</td>
<td>Number of transactions to skip.</td>
</tr>
<tr>
<td>sinceDate</td>
<td>Earliest date and time for which to retrieve transactions.  Must be ISO-8601 formatted.  Example: <code class="prettyprint">2014-08-13T21:05:23.797Z</code></td>
</tr>
<tr>
<td>endDate</td>
<td>Latest date and time for which to retrieve transactions.  Must be ISO-8601 formatted.  Example: <code class="prettyprint">2014-08-13T21:05:23.797Z</code></td>
</tr>
</tbody></table>
<h2 id='get-a-specific-transaction'>Get a specific transaction</h2><pre class="highlight javascript"><code><span class="cm">/**
 * Retrieve transaction ID '12345'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">transactionById</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Retrieve a transaction by ID</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">331506</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get info for transaction ID 123456</span>
<span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">'123456'</span><span class="p">))</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Transactions</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Transactions</span><span class="p">();</span>

<span class="c1">// you may provide key and secret...
</span><span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="c1">// OR an access token... 
</span><span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="s1">'346099'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>

</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; 346099,
  'Amount' =&gt; 5,
  'Date' =&gt; '2014-10-22T19:51:01Z',
  'Type' =&gt; 'deposit',
  'UserType' =&gt; 'Dwolla',
  'DestinationId' =&gt; '812-742-8722',
  'DestinationName' =&gt; 'Cafe Kubal',
  'Destination' =&gt;
  array (
    'Id' =&gt; '812-742-8722',
    'Name' =&gt; 'Cafe Kubal',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
  ),
  'SourceId' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
  'SourceName' =&gt; 'Blah',
  'Source' =&gt;
  array (
    'Id' =&gt; '33be0db8a99c1a03e01e7c6dd54dff26',
    'Name' =&gt; 'Blah',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; '',
  ),
  'ClearingDate' =&gt; '2014-10-28T00:00:00Z',
  'Status' =&gt; 'pending',
  'Notes' =&gt; NULL,
  'Fees' =&gt; NULL,
  'OriginalTransactionId' =&gt; NULL,
  'Metadata' =&gt; NULL,
)
</code></pre>
<pre class="highlight python"><code><span class="n">Return</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="s">"Id"</span><span class="p">:</span> <span class="mi">123456</span><span class="p">,</span>
        <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">5.50</span><span class="p">,</span>
        <span class="s">"Date"</span><span class="p">:</span> <span class="s">"2014-12-13T05:07:15Z"</span><span class="p">,</span>
        <span class="s">"Type"</span><span class="p">:</span> <span class="s">"money_sent"</span><span class="p">,</span>
        <span class="s">"UserType"</span><span class="p">:</span> <span class="s">"Email"</span><span class="p">,</span>
        <span class="s">"DestinationId"</span><span class="p">:</span> <span class="s">"812-197-4121"</span><span class="p">,</span>
        <span class="s">"DestinationName"</span><span class="p">:</span> <span class="s">"Some Name"</span><span class="p">,</span>
        <span class="s">"Destination"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-197-4121"</span><span class="p">,</span>
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Some Name"</span><span class="p">,</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"dwolla"</span><span class="p">,</span>
            <span class="s">"Image"</span><span class="p">:</span> <span class="s">""</span>
        <span class="p">},</span>
        <span class="s">"SourceId"</span><span class="p">:</span> <span class="s">"812-202-3784"</span><span class="p">,</span>
        <span class="s">"SourceName"</span><span class="p">:</span> <span class="s">"David Stancu"</span><span class="p">,</span>
        <span class="s">"Source"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-202-3784"</span><span class="p">,</span>
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"David Stancu"</span><span class="p">,</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
            <span class="s">"Image"</span><span class="p">:</span> <span class="s">"https://dwolla-avatars.s3.amazonaws.com/812-202-3784/ac045522"</span>
        <span class="p">},</span>
        <span class="s">"ClearingDate"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
        <span class="s">"Status"</span><span class="p">:</span> <span class="s">"cancelled"</span><span class="p">,</span>
        <span class="s">"Notes"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
        <span class="s">"Fees"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s">"OriginalTransactionId"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
        <span class="s">"Metadata"</span><span class="p">:</span> <span class="n">null</span>
    <span class="p">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
    <span class="s2">"Id"</span>                    <span class="o">=&gt;</span> <span class="mi">331506</span><span class="p">,</span>
    <span class="s2">"Amount"</span>                <span class="o">=&gt;</span> <span class="mi">15</span><span class="o">.</span><span class="mi">25</span><span class="p">,</span>
    <span class="s2">"Date"</span>                  <span class="o">=&gt;</span> <span class="s2">"2014-09-17T18:18:46Z"</span><span class="p">,</span>
    <span class="s2">"Type"</span>                  <span class="o">=&gt;</span> <span class="s2">"withdrawal"</span><span class="p">,</span>
    <span class="s2">"UserType"</span>              <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"DestinationId"</span>         <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
    <span class="s2">"DestinationName"</span>       <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
    <span class="s2">"Destination"</span>           <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Blah"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
    <span class="p">},</span>
    <span class="s2">"SourceId"</span>              <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
    <span class="s2">"SourceName"</span>            <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
    <span class="s2">"Source"</span>                <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
    <span class="p">},</span>
    <span class="s2">"ClearingDate"</span>          <span class="o">=&gt;</span> <span class="s2">"2014-09-19T00:00:00Z"</span><span class="p">,</span>
    <span class="s2">"Status"</span>                <span class="o">=&gt;</span> <span class="s2">"pending"</span><span class="p">,</span>
    <span class="s2">"Notes"</span>                 <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"Fees"</span>                  <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"OriginalTransactionId"</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"Metadata"</span>              <span class="o">=&gt;</span> <span class="kp">nil</span>
  <span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
      <span class="s2">"Id"</span><span class="err">:</span><span class="mi">328979</span><span class="p">,</span>
      <span class="s2">"Amount"</span><span class="err">:</span><span class="mf">10.01</span><span class="p">,</span>
      <span class="s2">"Date"</span><span class="err">:</span><span class="s2">"2014-09-09T04:49:41Z"</span><span class="p">,</span>
      <span class="s2">"Type"</span><span class="err">:</span><span class="s2">"money_sent"</span><span class="p">,</span>
      <span class="s2">"UserType"</span><span class="err">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"DestinationId"</span><span class="err">:</span><span class="s2">"812-232-2342"</span><span class="p">,</span>
      <span class="s2">"DestinationName"</span><span class="err">:</span><span class="s2">"Joe Schmoe"</span><span class="p">,</span>
      <span class="s2">"Destination"</span><span class="err">:</span><span class="p">{</span>
         <span class="s2">"Id"</span><span class="err">:</span><span class="s2">"812-232-2342"</span><span class="p">,</span>
         <span class="s2">"Name"</span><span class="err">:</span><span class="s2">"Joe Schmoe"</span><span class="p">,</span>
         <span class="s2">"Type"</span><span class="err">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
         <span class="s2">"Image"</span><span class="err">:</span><span class="s2">"http://uat.dwolla.com/avatars/812-232-2342"</span>
      <span class="p">},</span>
      <span class="s2">"SourceId"</span><span class="err">:</span><span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"SourceName"</span><span class="err">:</span><span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Source"</span><span class="err">:</span><span class="p">{</span>
         <span class="s2">"Id"</span><span class="err">:</span><span class="s2">"812-742-8722"</span><span class="p">,</span>
         <span class="s2">"Name"</span><span class="err">:</span><span class="s2">"Cafe Kubal"</span><span class="p">,</span>
         <span class="s2">"Type"</span><span class="err">:</span><span class="s2">"Dwolla"</span><span class="p">,</span>
         <span class="s2">"Image"</span><span class="err">:</span><span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
      <span class="p">},</span>
      <span class="s2">"ClearingDate"</span><span class="err">:</span><span class="s2">""</span><span class="p">,</span>
      <span class="s2">"Status"</span><span class="err">:</span><span class="s2">"processed"</span><span class="p">,</span>
      <span class="s2">"Notes"</span><span class="err">:</span><span class="s2">""</span><span class="p">,</span>
      <span class="s2">"Fees"</span><span class="err">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">"OriginalTransactionId"</span><span class="err">:</span><span class="kc">null</span><span class="p">,</span>
      <span class="s2">"Metadata"</span><span class="err">:</span><span class="kc">null</span>
  <span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">331506</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.25</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-17T18:18:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdrawal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"UserType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DestinationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"DestinationName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blah"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blah"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"SourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-742-8722"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"SourceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cafe Kubal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-742-8722"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cafe Kubal"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-09-19T00:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"OriginalTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Look up a particular transaction by its ID (Either Sender&rsquo;s or Recipient&rsquo;s.  Read about transaction IDs <a href="request.html#how-transactions-work">here</a>.)  Either an OAuth access token can be supplied, or if your API application facilitated this transaction, you can supply an application key and secret instead.</p>
<aside class="reminder"><p>This endpoint can take either an <a href="request.html#authentication">an OAuth access token</a> with the <code>Transactions</code> scope or an API application&rsquo;s <code>client_id</code> and <code>client_secret</code>.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p>To fetch a transaction which belongs to the authorized user:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions/{id}</code></p>

<p>or to fetch a transaction which belongs to an application:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions/{id}?client_id={}&amp;client_secret={}</code></p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid transaction ID.</td>
<td>The specified transaction ID is empty, missing, or invalid.</td>
</tr>
<tr>
<td>Transaction not found for account.</td>
<td>Could not find a transaction with the specified ID for the given OAuth token.</td>
</tr>
</tbody></table>
<h2 id='search-transactions'>Search transactions</h2><pre class="highlight shell"><code>GET https://www.dwolla.com/oauth/rest/transactions/search?limit<span class="o">=</span>20
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"Success"</span>: <span class="nb">true</span>,
  <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
  <span class="s2">"Response"</span>: <span class="o">{</span>
    <span class="s2">"TotalHits"</span>: 13502,
    <span class="s2">"Results"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"Id"</span>: 346099,
        <span class="s2">"Amount"</span>: 5,
        <span class="s2">"Date"</span>: <span class="s2">"2014-10-22T19:51:01Z"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"deposit"</span>,
        <span class="s2">"UserType"</span>: <span class="s2">"Dwolla"</span>,
        <span class="s2">"DestinationId"</span>: <span class="s2">"812-742-8722"</span>,
        <span class="s2">"DestinationName"</span>: <span class="s2">"Cafe Kubal"</span>,
        <span class="s2">"Destination"</span>: <span class="o">{</span>
          <span class="s2">"Id"</span>: <span class="s2">"812-742-8722"</span>,
          <span class="s2">"Name"</span>: <span class="s2">"Cafe Kubal"</span>,
          <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
          <span class="s2">"Image"</span>: <span class="s2">"http://www.dwolla.com/avatars/812-742-8722"</span>
        <span class="o">}</span>,
        <span class="s2">"SourceId"</span>: <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span>,
        <span class="s2">"SourceName"</span>: <span class="s2">"Blah"</span>,
        <span class="s2">"Source"</span>: <span class="o">{</span>
          <span class="s2">"Id"</span>: <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span>,
          <span class="s2">"Name"</span>: <span class="s2">"Blah"</span>,
          <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
          <span class="s2">"Image"</span>: <span class="s2">""</span>
        <span class="o">}</span>,
        <span class="s2">"ClearingDate"</span>: <span class="s2">"2014-10-28T00:00:00Z"</span>,
        <span class="s2">"Status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"Notes"</span>: null,
        <span class="s2">"Fees"</span>: null,
        <span class="s2">"OriginalTransactionId"</span>: null,
        <span class="s2">"Metadata"</span>: null
      <span class="o">}</span>,

      <span class="o">{</span> ... <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Search a user&rsquo;s transactions, filtering results based on an amount range, date range, transaction type, transaction status, individual&rsquo;s name, business name, Dwolla ID, email address, or phone number.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Transactions</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p>To fetch a transaction which belongs to the authorized user:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions/search?limit={}</code></p>
<h3 id='optional-querystring-parameters'>Optional Querystring Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>searchTerm</td>
<td>A string to be matched with recipient/sender names (individual or business/organizaton), Dwolla ID, email address, or phone number.</td>
</tr>
<tr>
<td>startAmount</td>
<td>Only include transactions with an amount equal to or greater than <code class="prettyprint">startAmount</code>.  Can optionally be used with <code class="prettyprint">endAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>endAmount</td>
<td>Only include transactions with an amount equal to or less than <code class="prettyprint">endAmount</code>.  Can optionally be used with <code class="prettyprint">startAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>startDate</td>
<td>Only include transactions created after this date.  ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>.  Can optionally be used with <code class="prettyprint">endDate</code> to specify a date range.</td>
</tr>
<tr>
<td>endDate</td>
<td>Only include transactions created before than this date.  ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>.  Can optionally be used with <code class="prettyprint">startDate</code> to specify a date range.</td>
</tr>
<tr>
<td>type</td>
<td>Filter results on <a href="request.html#transaction-types">Transaction type</a>.  Possible values: <code class="prettyprint">money_sent</code>, <code class="prettyprint">money_received</code>, <code class="prettyprint">deposit</code>, <code class="prettyprint">withdraw</code></td>
</tr>
<tr>
<td>status</td>
<td>Filter results on <a href="request.html#transaction-statuses">Transaction status</a>. Possible values: <code class="prettyprint">pending</code>, <code class="prettyprint">processed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">reclaimed</code>, <code class="prettyprint">cancelled</code></td>
</tr>
<tr>
<td>limit</td>
<td>Number of search results to return.  Defaults to <code class="prettyprint">50</code>.</td>
</tr>
<tr>
<td>offset</td>
<td>Number of search results to skip.  Used for pagination.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TotalHits</td>
<td>Total number of search results.  Does not necessarily equal the number of results contained in the response <code class="prettyprint">Results</code>.</td>
</tr>
<tr>
<td>Results</td>
<td>JSON array of <a href="request.html#transaction-resource">Transaction</a> resources.</td>
</tr>
</tbody></table>

          <h1 id='scheduled-payments'>Scheduled Payments</h1><pre class="highlight plaintext"><code>        _____
     _.'_____`._
   .'.-'  12 `-.`.
  /,' 11      1 `.\
 // 10      /   2 \\
;;         /       ::
|| 9  ----O      3 ||
::                 ;;
 \\ 8           4 //
  \`. 7       5 ,'/
   '.`-.__6__.-'.'
    ((-._____.-))
    _))       ((_
   '--'SSt    '--'

</code></pre>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"Id"</span>: <span class="s2">"3bfaf7fb-b5e9-4a6e-ab09-1ef30d30bbef"</span>,
  <span class="s2">"ScheduledDate"</span>: <span class="s2">"2014-09-13"</span>,
  <span class="s2">"ExpectedClearingDate"</span>: <span class="s2">"2014-09-18"</span>,
  <span class="s2">"TransactionId"</span>: null,
  <span class="s2">"Amount"</span>: 10,
  <span class="s2">"FundingSource"</span>: <span class="s2">"3eacc3e3f6da404aa5735911219f277"</span>,
  <span class="s2">"Destination"</span>: <span class="o">{</span>
      <span class="s2">"Id"</span>: <span class="s2">"812-111-1111"</span>,
      <span class="s2">"Name"</span>: <span class="s2">"Jane Doe"</span>,
      <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
      <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-111-1111"</span>
  <span class="o">}</span>,
  <span class="s2">"Notes"</span>: <span class="s2">"This is a scheduled payment"</span>,
  <span class="s2">"Status"</span>: <span class="s2">"scheduled"</span>,
  <span class="s2">"CreatedDate"</span>: <span class="s2">"2014-09-12T20:37:37Z"</span>,
  <span class="s2">"Metadata"</span>: <span class="o">{</span>
    <span class="s2">"foo"</span>: <span class="s2">"bar"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Payments can be scheduled to be created at a future date, up to 3 years into the future.  When a Scheduled Payment is created, no transaction is created (and thus, no funds are transferred) until the <code class="prettyprint">ScheduledDate</code>. </p>

<p>Scheduled Payments can be one-time or recurring. Options for recurring payments are flexible.  You can create a recurring payment that pays weekly, monthly, daily, or every 2 weeks, every week on Tuesdays and Fridays, every 12th and 18th and 26th each month, and so on.</p>

<p>If there is an error creating the transaction, the Scheduled Payment will have a <code class="prettyprint">Status</code> of <code class="prettyprint">failed</code>.  Only bank-sourced payments are supported at this time.  </p>
<h3 id='scheduled-payment-resource'>Scheduled Payment Resource</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td>A unique ID for the scheduled payment</td>
</tr>
<tr>
<td>ScheduledDate</td>
<td>Date when transaction will be created.  Must be within 3 years from when the scheduled payment was created.  Format: <code class="prettyprint">YYYY-MM-DD</code></td>
</tr>
<tr>
<td>ExpectedClearingDate</td>
<td>Estimated date when the funds will be available to the recipient.  Typically 1-3 business days after the <code class="prettyprint">ScheduledDate</code>.</td>
</tr>
<tr>
<td>TransactionId</td>
<td>Transaction ID of resulting Transaction.  <code class="prettyprint">null</code> until the transaction is successfully created.</td>
</tr>
<tr>
<td>Amount</td>
<td>Amount of the transaction to be created.</td>
</tr>
<tr>
<td>FundingSource</td>
<td>ID of the bank funding source which will fund the transaction</td>
</tr>
<tr>
<td>AssumeCosts</td>
<td>Boolean.  Deprecated.</td>
</tr>
<tr>
<td>Destination</td>
<td>JSON object describing the recipient.  <code class="prettyprint">Id</code> is the recipient&rsquo;s Dwolla ID or email address, <code class="prettyprint">Name</code> is the recipient&rsquo;s full name, <code class="prettyprint">Type</code> is either <code class="prettyprint">Dwolla</code> or <code class="prettyprint">Email</code> and <code class="prettyprint">Image</code> is a URL to the recipient&rsquo;s avatar, if the recipient is an existing Dwolla user.</td>
</tr>
<tr>
<td>Notes</td>
<td>Optional notes field.  Max 250 chars.</td>
</tr>
<tr>
<td>Status</td>
<td>Possible values: &lsquo;scheduled&rsquo;, &#39;processed&rsquo;, &#39;failed&rsquo;</td>
</tr>
<tr>
<td>Metadata</td>
<td>JSON object with max 10 key-value pairs. Keys and values are strings of max length 255. Omitted if <code class="prettyprint">null</code>, if not provided, or visible to application.  <a href="request.html#metadata">Read more</a></td>
</tr>
</tbody></table>
<h2 id='create-scheduled-payment'>Create Scheduled Payment</h2><pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"amount"</span>:10,
  <span class="s2">"destinationId"</span>:<span class="s2">"812-114-7461"</span>,
  <span class="s2">"destinationType"</span>:<span class="s2">"Dwolla"</span>,
  <span class="s2">"fundsSource"</span>:<span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span>,
  <span class="s2">"notes"</span>:<span class="s2">"Weekly recurring membership"</span>,
  <span class="s2">"pin"</span>:<span class="s2">"7890"</span>,
  <span class="s2">"scheduleDate"</span>:<span class="s2">"2015-05-04"</span>,
  <span class="s2">"metadata"</span>:<span class="o">{</span>
    <span class="s2">"foo"</span>: <span class="s2">"bar"</span>,
    <span class="s2">"bar"</span>: <span class="s2">"baz"</span>
  <span class="o">}</span>,
  <span class="s2">"recurrence"</span>:<span class="o">{</span>
    <span class="s2">"frequency"</span>:<span class="s2">"weekly"</span>,
    <span class="s2">"onDays"</span>:<span class="s2">"2"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<pre class="highlight php"><code>/**
 * Send $300 to a Dwolla ID,
 * on 2018-01-01, from funding source with ID
 * "ashfdjh8f9df89"
 */
print_r($Transactions-&gt;schedule('812-197-4121', 300, '2018-01-01', 'ashfdjh8f9df89'));
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Schedule a payment for 300 on 2015-09-09 to 812-111-1234
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">schedule</span><span class="p">(</span><span class="nx">cfg</span><span class="p">.</span><span class="nx">pin</span><span class="p">,</span> <span class="s1">'812-111-1234'</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">'2015-09-09'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Send money ($1.00) to a Dwolla ID</span>
<span class="c1">#   on 2015-09-09 from funding source "abcdef"</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">schedule</span><span class="p">({</span>
                                <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="vi">@pin</span><span class="p">,</span>
                                <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span>
                                <span class="ss">:destinationId</span> <span class="o">=&gt;</span> <span class="s1">'812-111-1111'</span><span class="p">,</span>
                                <span class="ss">:fundsSource</span> <span class="o">=&gt;</span> <span class="s1">'abcdef'</span><span class="p">,</span>
                                <span class="ss">:scheduleDate</span> <span class="o">=&gt;</span> <span class="s1">'2015-09-09'</span><span class="p">})</span> 
</code></pre>
<pre class="highlight python"><code><span class="c"># Schedule a payment for 2018-01-01 with</span>
<span class="c"># amount $300</span>

<span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="s">'812-111-1111'</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="s">'2018-01-01'</span><span class="p">,</span> <span class="s">'5da016f7769bcc1de9998a30d194d5a7'</span><span class="p">))</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"876a72fb-e817-4bec-a781-a97b1c41091e"</span>,
        <span class="s2">"ScheduledDate"</span>: <span class="s2">"2015-05-04"</span>,
        <span class="s2">"ExpectedClearingDate"</span>: <span class="s2">"2015-05-07"</span>,
        <span class="s2">"Amount"</span>: 10,
        <span class="s2">"FundingSource"</span>: <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span>,
        <span class="s2">"Destination"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-114-7461"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"WidgetCorp"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
            <span class="s2">"Image"</span>: <span class="s2">"https://uat.dwolla.com/avatars/812-114-7461/dec1fee7"</span>
        <span class="o">}</span>,
        <span class="s2">"Notes"</span>: <span class="s2">"Weekly recurring membership"</span>,
        <span class="s2">"Status"</span>: <span class="s2">"scheduled"</span>,
        <span class="s2">"CreatedDate"</span>: <span class="s2">"2015-05-01T19:51:30Z"</span>,
        <span class="s2">"Metadata"</span>: <span class="o">{</span>
            <span class="s2">"foo"</span>: <span class="s2">"bar"</span>,
            <span class="s2">"bar"</span>: <span class="s2">"baz"</span>
        <span class="o">}</span>,
        <span class="s2">"Recurrence"</span>: <span class="o">{</span>
            <span class="s2">"Frequency"</span>: <span class="s2">"Weekly"</span>,
            <span class="s2">"RepeatEvery"</span>: 1,
            <span class="s2">"OnDays"</span>: <span class="s2">"2"</span>,
            <span class="s2">"NextRunDate"</span>: <span class="s2">"2015-05-04"</span>,
            <span class="s2">"Status"</span>: <span class="s2">"Enabled"</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Create a new Scheduled Payment on behalf of the authorized user.  Initial <code class="prettyprint">Status</code> will be <code class="prettyprint">scheduled</code>.  Must fund payment with a bank-funding source. Allows scheduling of a one-time payment, or recurring payments with use of the <code class="prettyprint">recurrence</code> object.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Scheduled</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/transactions/scheduled</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td></td>
<td>Amount of transaction.  Must be within the sender&rsquo;s account transaction limit.</td>
</tr>
<tr>
<td>destinationId</td>
<td></td>
<td>Recipient&rsquo;s Dwolla ID or email address.</td>
</tr>
<tr>
<td>destinationType</td>
<td>yes</td>
<td>Recipient type: <code class="prettyprint">Dwolla</code> or <code class="prettyprint">Email</code>.  Must set this to <code class="prettyprint">Email</code> if you provided an email as the <code class="prettyprint">destinationId</code>.</td>
</tr>
<tr>
<td>pin</td>
<td></td>
<td>Sender&rsquo;s account PIN</td>
</tr>
<tr>
<td>fundsSource</td>
<td></td>
<td>ID of the <a href="request.html#funding-sources">Funding Source</a> to fund this payment.</td>
</tr>
<tr>
<td>scheduleDate</td>
<td></td>
<td>Date to initiate payment.  If the transaction is funded by an ACH bank funding source, funds will be available to the recipient typically 1-3 business days after this date.</td>
</tr>
<tr>
<td>recurrence</td>
<td>yes</td>
<td>A recurrence JSON object. <a href="request.html#recurrence-object">See below</a></td>
</tr>
<tr>
<td>assumeCosts</td>
<td>yes</td>
<td>Boolean. Deprecated.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Optional note to attach to transaction.  Max 250 chars.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>Optional JSON object of a maximum of 10 key-value pairs (each key and value must be less than 255 characters). <a href="request.html#metadata">Read more</a></td>
</tr>
</tbody></table>
<h3 id='recurrence-object'>Recurrence Object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>frequency</td>
<td></td>
<td>Either <code class="prettyprint">weekly</code> or <code class="prettyprint">monthly</code>.</td>
</tr>
<tr>
<td>endDate</td>
<td>yes</td>
<td>Date at which to stop the recurrence.</td>
</tr>
<tr>
<td>endAfter</td>
<td>yes</td>
<td>Stop the recurrence after this many payments</td>
</tr>
<tr>
<td>repeatEvery</td>
<td>yes</td>
<td>Defaults to <code class="prettyprint">1</code>.  For example a frequency of <code class="prettyprint">weekly</code> and repeatEvery set to <code class="prettyprint">2</code> would mean &ldquo;pay every 2 weeks&rdquo;.</td>
</tr>
<tr>
<td>onDays</td>
<td></td>
<td>Day of the week or day of the month to initiate payments.  Valid values for <code class="prettyprint">weekly</code> are <code class="prettyprint">1-7</code>, where <code class="prettyprint">1</code> is Sunday and <code class="prettyprint">7</code> is Saturday.  For monthly, valid values are <code class="prettyprint">1-31</code> and <code class="prettyprint">-1</code>.  -1 is relative, indicating the last day of the month.  If you use 29, 30, or 31 and the month doesn&rsquo;t have that day, it will initiate on the last day of the month.  You can also pass combinations of days. <code class="prettyprint">weekly</code> with onDays = <code class="prettyprint">1,2,3,4,5,6,7</code> would initiate a payment every day of the week.  For <code class="prettyprint">monthly</code>, you are not able to combine <code class="prettyprint">28,29,30,31</code> and/or <code class="prettyprint">-1</code> as this would cause an overlap.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid account PIN</td>
<td>The supplied PIN is invalid or incorrect.</td>
</tr>
<tr>
<td>There was an error scheduling the transaction at this time.</td>
<td>There was an error scheduling this transaction</td>
</tr>
<tr>
<td>Invalid funding source.</td>
<td>The specified funding source doesn&rsquo;t exist or is invalid.</td>
</tr>
<tr>
<td>Funding source must be a bank.</td>
<td>The specified funding source must be a bank</td>
</tr>
<tr>
<td>Notes length is too long. Maximum of 250 character is allowed.</td>
<td>The &#39;notes&rsquo; length is too long.</td>
</tr>
<tr>
<td>This user is unable to receive transactions from provided funding source.</td>
<td>The destination user is unable to receive funds from specified funding source</td>
</tr>
</tbody></table>
<h2 id='list-scheduled-payments'>List Scheduled Payments</h2><pre class="highlight php"><code>/**
 * Get all scheduled payments
 */
print_r($Transactions-&gt;scheduled());
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Get all scheduled payments.
 */</span>
<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">scheduled</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#  Get all scheduled payments</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">scheduled</span><span class="p">()</span> 
</code></pre>
<pre class="highlight python"><code><span class="c"># Get all scheduled payments</span>
<span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">scheduled</span><span class="p">())</span>
</code></pre>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: <span class="o">{</span>
        <span class="s2">"Total"</span>: 3,
        <span class="s2">"Count"</span>: 3,
        <span class="s2">"Results"</span>: <span class="o">[{</span>
            <span class="s2">"Id"</span>: <span class="s2">"62dc6dcb-cc88-476f-a5c9-ce20e4d9d5af"</span>,
            <span class="s2">"ScheduledDate"</span>: <span class="s2">"2015-05-04"</span>,
            <span class="s2">"ExpectedClearingDate"</span>: <span class="s2">"2015-05-07"</span>,
            <span class="s2">"Amount"</span>: 5,
            <span class="s2">"FundingSource"</span>: <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span>,
            <span class="s2">"Destination"</span>: <span class="o">{</span>
                <span class="s2">"Id"</span>: <span class="s2">"812-114-7461"</span>,
                <span class="s2">"Name"</span>: <span class="s2">"WidgetCorp"</span>,
                <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
                <span class="s2">"Image"</span>: <span class="s2">"https://uat.dwolla.com/avatars/812-114-7461/dec1fee7"</span>
            <span class="o">}</span>,
            <span class="s2">"Notes"</span>: <span class="s2">"Daily recurring membership"</span>,
            <span class="s2">"Status"</span>: <span class="s2">"scheduled"</span>,
            <span class="s2">"CreatedDate"</span>: <span class="s2">"2015-05-01T19:35:04Z"</span>,
            <span class="s2">"Recurrence"</span>: <span class="o">{</span>
                <span class="s2">"Frequency"</span>: <span class="s2">"Weekly"</span>,
                <span class="s2">"RepeatEvery"</span>: 1,
                <span class="s2">"OnDays"</span>: <span class="s2">"1,2,3,4,5,6,7"</span>,
                <span class="s2">"NextRunDate"</span>: <span class="s2">"2015-05-04"</span>,
                <span class="s2">"Status"</span>: <span class="s2">"Enabled"</span>
            <span class="o">}</span>
        <span class="o">}</span>, <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"c9cb400b-bb58-4d63-b000-662e93d22119"</span>,
            <span class="s2">"ScheduledDate"</span>: <span class="s2">"2015-05-04"</span>,
            <span class="s2">"ExpectedClearingDate"</span>: <span class="s2">"2015-05-07"</span>,
            <span class="s2">"Amount"</span>: 10,
            <span class="s2">"FundingSource"</span>: <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span>,
            <span class="s2">"Destination"</span>: <span class="o">{</span>
                <span class="s2">"Id"</span>: <span class="s2">"812-114-7461"</span>,
                <span class="s2">"Name"</span>: <span class="s2">"WidgetCorp"</span>,
                <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
                <span class="s2">"Image"</span>: <span class="s2">"https://uat.dwolla.com/avatars/812-114-7461/dec1fee7"</span>
            <span class="o">}</span>,
            <span class="s2">"Notes"</span>: <span class="s2">"Weekly recurring membership"</span>,
            <span class="s2">"Status"</span>: <span class="s2">"scheduled"</span>,
            <span class="s2">"CreatedDate"</span>: <span class="s2">"2015-05-01T19:30:17Z"</span>,
            <span class="s2">"Recurrence"</span>: <span class="o">{</span>
                <span class="s2">"Frequency"</span>: <span class="s2">"Weekly"</span>,
                <span class="s2">"RepeatEvery"</span>: 1,
                <span class="s2">"OnDays"</span>: <span class="s2">"2"</span>,
                <span class="s2">"NextRunDate"</span>: <span class="s2">"2015-05-04"</span>,
                <span class="s2">"Status"</span>: <span class="s2">"Enabled"</span>
            <span class="o">}</span>
        <span class="o">}</span>, <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"35921635-aeb4-4c83-b730-6b61b1749127"</span>,
            <span class="s2">"ScheduledDate"</span>: <span class="s2">"2015-06-01"</span>,
            <span class="s2">"ExpectedClearingDate"</span>: <span class="s2">"2015-06-04"</span>,
            <span class="s2">"Amount"</span>: 900,
            <span class="s2">"FundingSource"</span>: <span class="s2">"33be0db8a99c1a03e01e7c6dd54dff26"</span>,
            <span class="s2">"Destination"</span>: <span class="o">{</span>
                <span class="s2">"Id"</span>: <span class="s2">"812-114-7461"</span>,
                <span class="s2">"Name"</span>: <span class="s2">"WidgetCorp"</span>,
                <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
                <span class="s2">"Image"</span>: <span class="s2">"https://uat.dwolla.com/avatars/812-114-7461/dec1fee7"</span>
            <span class="o">}</span>,
            <span class="s2">"Notes"</span>: <span class="s2">"Rent payment"</span>,
            <span class="s2">"Status"</span>: <span class="s2">"scheduled"</span>,
            <span class="s2">"CreatedDate"</span>: <span class="s2">"2015-05-01T19:57:50Z"</span>,
            <span class="s2">"Metadata"</span>: <span class="o">{</span>
                <span class="s2">"foo"</span>: <span class="s2">"bar"</span>,
                <span class="s2">"bar"</span>: <span class="s2">"baz"</span>
            <span class="o">}</span>
        <span class="o">}]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>List the authorized user&rsquo;s scheduled payments which have been created by your application.  </p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Scheduled</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions/scheduled?limit=10</code></p>
<h3 id='optional-parameters'>Optional Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>Filter scheduled payments by their status.  Possible values: <code class="prettyprint">scheduled</code>, <code class="prettyprint">processed</code>, <code class="prettyprint">failed</code>.</td>
</tr>
<tr>
<td>limit</td>
<td>Pagination: number of results to return.</td>
</tr>
<tr>
<td>skip</td>
<td>Pagination: number of results to skip.</td>
</tr>
<tr>
<td>fundingSource</td>
<td>Show only scheduled payments funded by a given funding source ID.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Total</td>
<td>Total number of query results</td>
</tr>
<tr>
<td>Count</td>
<td>Number of query results included in response.  Can be less than <code class="prettyprint">Total</code>, if paginating with <code class="prettyprint">limit</code> set in query.</td>
</tr>
<tr>
<td>Results</td>
<td>JSON array of <a href="request.html#scheduled-payment-resource">Scheduled Payments</a></td>
</tr>
</tbody></table>
<h2 id='retrieve-scheduled-payment'>Retrieve Scheduled Payment</h2><pre class="highlight php"><code>/**
 * Get scheduled payment with ID
 * 'd72b9f82-307e-4a35-9559-7889ea929db7'
 */
print_r($Transactions-&gt;scheduledById('d72b9f82-307e-4a35-9559-7889ea929db7'));
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Get scheduled payment with ID 'd72b9f82-307e-4a35-9559-7889ea929db7'
 */</span>
<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">scheduledById</span><span class="p">(</span><span class="s1">'d72b9f82-307e-4a35-9559-7889ea929db7'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Get scheduled payment with ID</span>
<span class="c1">#   'd72b9f82-307e-4a35-9559-7889ea929db7'</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">scheduled_by_id</span><span class="p">(</span><span class="s1">'d72b9f82-307e-4a35-9559-7889ea929db7'</span><span class="p">)</span> 
</code></pre>
<pre class="highlight python"><code><span class="c"># Get scheduled payment with </span>
<span class="c"># ID 'd72b9f82-307e-4a35-9559-7889ea929db7'</span>
<span class="k">print</span> <span class="n">transactions</span><span class="o">.</span><span class="n">scheduledbyid</span><span class="p">(</span><span class="s">'d72b9f82-307e-4a35-9559-7889ea929db7'</span><span class="p">)</span>
</code></pre>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"d72b9f82-307e-4a35-9559-7889ea929db7"</span>,
        <span class="s2">"ScheduledDate"</span>: <span class="s2">"2014-09-11"</span>,
        <span class="s2">"ExpectedClearingDate"</span>: <span class="s2">"2014-09-16"</span>,
        <span class="s2">"TransactionId"</span>: 330295,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"FundingSource"</span>: <span class="s2">"3eacc3e3f6da404aa5735911219f277"</span>,
        <span class="s2">"Destination"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-111-1111"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Jane Doe"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
            <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-111-1111"</span>
        <span class="o">}</span>,
        <span class="s2">"Notes"</span>: <span class="s2">"This is a scheduled"</span>,
        <span class="s2">"Status"</span>: <span class="s2">"processed"</span>,
        <span class="s2">"CreatedDate"</span>: <span class="s2">"2014-09-10T21:05:39Z"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Retrieve a scheduled payment by its ID.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Scheduled</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions/scheduled/{id}</code></p>
<h2 id='edit-scheduled-payment'>Edit Scheduled Payment</h2>
<blockquote>
<p>Edit the amount:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"pin"</span>: 9999,
  <span class="s2">"amount"</span>: 16
<span class="o">}</span>
</code></pre>
<pre class="highlight php"><code>/**
 * Edit scheduled payment with ID
 * '08f9b638-0f8e-4e00-abe5-41c8fd24fbe8' to reflect amount 16
 */
print_r($Transactions-&gt;editScheduled('08f9b638-0f8e-4e00-abe5-41c8fd24fbe8', ['amount' =&gt; 16]));
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Edit scheduled payment with ID '08f9b638-0f8e-4e00-abe5-41c8fd24fbe8' 
 * to specify a new amount of 16
 */</span>
<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">editScheduled</span><span class="p">(</span><span class="s1">'08f9b638-0f8e-4e00-abe5-41c8fd24fbe8'</span><span class="p">,</span> <span class="nx">cfg</span><span class="p">.</span><span class="nx">pin</span><span class="p">,</span> <span class="p">{</span><span class="na">amount</span><span class="p">:</span> <span class="mi">16</span><span class="p">},</span> <span class="p">{</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Edit scheduled payment with ID </span>
<span class="c1">#   '08f9b638-0f8e-4e00-abe5-41c8fd24fbe8' to have new amount 16</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">edit_scheduled_by_id</span><span class="p">(</span><span class="s1">'08f9b638-0f8e-4e00-abe5-41c8fd24fbe8'</span><span class="p">,</span> <span class="p">{</span><span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">16</span><span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Edit scheduled payment with ID</span>
<span class="c"># '08f9b638-0f8e-4e00-abe5-41c8fd24fbe8' to reflect amount 16</span>
<span class="k">print</span> <span class="n">transactions</span><span class="o">.</span><span class="n">editscheduledbyid</span><span class="p">(</span><span class="s">'08f9b638-0f8e-4e00-abe5-41c8fd24fbe8'</span><span class="p">,</span> <span class="p">{</span><span class="s">'amount'</span><span class="p">:</span> <span class="mi">16</span><span class="p">})</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"08f9b638-0f8e-4e00-abe5-41c8fd24fbe8"</span>,
        <span class="s2">"ScheduledDate"</span>: <span class="s2">"2014-09-11"</span>,
        <span class="s2">"ExpectedClearingDate"</span>: <span class="s2">"2014-09-16"</span>,
        <span class="s2">"TransactionId"</span>: null,
        <span class="s2">"Amount"</span>: 16,
        <span class="s2">"FundingSource"</span>: <span class="s2">"3eacc3e3f6da404aa5735911219f277"</span>,
        <span class="s2">"Destination"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-111-1111"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Jane Doe"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
            <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-111-1111"</span>
        <span class="o">}</span>,
        <span class="s2">"Notes"</span>: <span class="s2">"This is a scheduled test update"</span>,
        <span class="s2">"Status"</span>: <span class="s2">"scheduled"</span>,
        <span class="s2">"CreatedDate"</span>: <span class="s2">"2014-09-10T18:28:20Z"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Edit an existing scheduled payment. Partial editing is allowed: just supply the field(s) to change, along with the sender&rsquo;s PIN.  </p>

<p>Note: the <code class="prettyprint">recurrence</code> field <em>cannot</em> be modified.  If you need to change the recurrence of a scheduled payment, delete it and create a new one.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Scheduled</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">PUT https://www.dwolla.com/oauth/rest/transactions/scheduled/{id}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pin</td>
<td>required</td>
<td>Sender&rsquo;s account PIN</td>
</tr>
<tr>
<td>amount</td>
<td>yes</td>
<td>Amount of payment.  Must be within the sender&rsquo;s account transaction limit.</td>
</tr>
<tr>
<td>destinationId</td>
<td>yes</td>
<td>Recipient&rsquo;s Dwolla ID or email address.</td>
</tr>
<tr>
<td>destinationType</td>
<td>yes</td>
<td>Recipient type: <code class="prettyprint">Dwolla</code> or <code class="prettyprint">Email</code>.  Must set this to <code class="prettyprint">Email</code> if you provided an email as the <code class="prettyprint">destinationId</code>.</td>
</tr>
<tr>
<td>fundsSource</td>
<td>yes</td>
<td>ID of the <a href="request.html#funding-sources">Funding Source</a> to fund this payment.</td>
</tr>
<tr>
<td>scheduleDate</td>
<td>yes</td>
<td>Date to initiate payment.  If the payment is funded by an ACH bank funding source, funds will be available to the recipient typically 1-3 business days after this date.</td>
</tr>
<tr>
<td>assumeCosts</td>
<td>yes</td>
<td>Boolean. Deprecated.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Optional note to attach to transaction.  Max 250 chars.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Transaction has already been processed.</td>
<td>Unable to edit a transaction that has alredy been processed</td>
</tr>
<tr>
<td>There was an error updating the scheduled payment.</td>
<td>Error occured when updating the scheduled payment</td>
</tr>
</tbody></table>
<h2 id='delete-scheduled-payment'>Delete Scheduled Payment</h2><pre class="highlight shell"><code>DELETE https://www.dwolla.com/oauth/rest/transactions/scheduled/d856d2ec-4098-4b3b-b20f-b2561ec85871?pin<span class="o">={</span>PIN<span class="o">}</span>
</code></pre>
<pre class="highlight php"><code>/**
 * Delete scheduled payment with ID
 * 'd856d2ec-4098-4b3b-b20f-b2561ec85871'
 */
print_r($Transactions-&gt;deleteScheduledById('d856d2ec-4098-4b3b-b20f-b2561ec85871'));
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Delete scheduled payment with ID 'd856d2ec-4098-4b3b-b20f-b2561ec85871'
 */</span>
<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">deleteScheduledById</span><span class="p">(</span><span class="s1">'d856d2ec-4098-4b3b-b20f-b2561ec85871'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Delete the scheduled payment with ID </span>
<span class="c1">#   'd856d2ec-4098-4b3b-b20f-b2561ec85871' </span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">delete_scheduled_by_id</span><span class="p">(</span><span class="s1">'d856d2ec-4098-4b3b-b20f-b2561ec85871'</span><span class="p">,</span> <span class="p">{</span><span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="vi">@pin</span><span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Delete scheduled payment with ID</span>
<span class="c"># 'd856d2ec-4098-4b3b-b20f-b2561ec85871'</span>
<span class="k">print</span> <span class="n">transactions</span><span class="o">.</span><span class="n">deletescheduledbyid</span><span class="p">(</span><span class="s">'d856d2ec-4098-4b3b-b20f-b2561ec85871'</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>If successful, response contains the ID of the deleted scheduled payment:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Success"</span>: <span class="nb">true</span>,
    <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
    <span class="s2">"Response"</span>: <span class="s2">"d856d2ec-4098-4b3b-b20f-b2561ec85871"</span>
<span class="o">}</span>
</code></pre>

<p>Delete a <em>pending</em> scheduled payment created by your application.  Status must be <code class="prettyprint">scheduled</code>.  Cannot delete a <code class="prettyprint">processed</code> or <code class="prettyprint">failed</code> scheduled payment.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Scheduled</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">DELETE https://www.dwolla.com/oauth/rest/transactions/scheduled/{id}?pin={PIN}</code></p>
<h3 id='querystring-params'>Querystring params</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pin</td>
<td>User&rsquo;s PIN</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Scheduled transaction must not have been processed to delete.</td>
<td>The scheduled payment must be deleted before the <code class="prettyprint">ScheduleDate</code></td>
</tr>
<tr>
<td>There was an error deleting the scheduled payment.</td>
<td>Generic error.  If you&rsquo;re not sure why this happened, contact us.</td>
</tr>
</tbody></table>
<h2 id='delete-all-scheduled-payments'>Delete all Scheduled Payments</h2><pre class="highlight shell"><code>DELETE https://www.dwolla.com/oauth/rest/transactions/scheduled?pin<span class="o">={</span>PIN<span class="o">}</span>
</code></pre>
<pre class="highlight php"><code>/**
 * Delete all scheduled payments
 */
print_r($Transactions-&gt;deleteAllScheduled());
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Delete all scheduled payments.
 */</span>
<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">deleteAllScheduled</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Delete all scheduled payments </span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">delete_all_scheduled</span><span class="p">({</span><span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="vi">@pin</span><span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Delete all scheduled payments</span>
<span class="k">print</span> <span class="n">transactions</span><span class="o">.</span><span class="n">deleteallscheduled</span><span class="p">()</span>
</code></pre>

<blockquote>
<p>If successful, response contains JSON array of IDs of scheduled payments deleted:</p>
</blockquote>
<pre class="highlight shell"><code><span class="o">{</span>
  <span class="s2">"Success"</span>: <span class="nb">true</span>,
  <span class="s2">"Message"</span>: <span class="s2">"Success"</span>,
  <span class="s2">"Response"</span>: <span class="o">[</span>
    <span class="s2">"09e66fa3-1542-40b0-8143-67f72c75ae77"</span>,
    <span class="s2">"1646c924-c6e0-46f1-b33d-5b999b408cab"</span>,
    <span class="s2">"48c93710-5cb0-424b-b0b0-3a692a0ba840"</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Delete <strong>all</strong> of an authorized user&rsquo;s <em>pending</em> scheduled payments created by your application.  Will not delete any <code class="prettyprint">processed</code> or <code class="prettyprint">failed</code> scheduled payments.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Scheduled</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">DELETE https://www.dwolla.com/oauth/rest/transactions/scheduled?pin={PIN}</code></p>
<h3 id='querystring-params'>Querystring params</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pin</td>
<td>User&rsquo;s PIN</td>
</tr>
</tbody></table>

          <h1 id='transaction-stats'>Transaction Stats</h1><pre class="highlight javascript"><code><span class="cm">/**
 * Retrieve transaction statistics for the 
 * authorized user.
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">transactionsStats</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">stats</span><span class="p">()</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Transactions</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Transactions</span><span class="p">();</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">stats</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">stats</span><span class="p">())</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"TransactionsCount"</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s2">"TransactionsTotal"</span> <span class="o">=&gt;</span> <span class="mi">134</span><span class="o">.</span><span class="mi">22</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
    <span class="s">"TransactionsCount"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s">"TransactionsTotal"</span><span class="p">:</span> <span class="mf">116.92</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"TransactionsCount"</span><span class="err">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="s2">"TransactionsTotal"</span><span class="err">:</span> <span class="mf">116.92</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"TransactionsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"TransactionsTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">116.92</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight php"><code>array (
  'TransactionsCount' =&gt; 5,
  'TransactionsTotal' =&gt; 116.21,
)
</code></pre>

<p>Transaction statistics can be retrieved for the authenticated user.   Currently, the report contains a count of transactions and sum of transactions over a given period of time.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Transactions</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/transactions/stats</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startDate</td>
<td>yes</td>
<td>Starting date and time for which to select transactions for report. Defaults to 0300 UTC, today.</td>
</tr>
<tr>
<td>endDate</td>
<td>yes</td>
<td>Ending date and time for which to select transactions for report.  Defaults to current date and time.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid start date format.</td>
<td>Should follow format of yyyy-mm-dd</td>
</tr>
<tr>
<td>Invalid end date format.</td>
<td>Should follow format of yyyy-mm-dd</td>
</tr>
</tbody></table>

          <h1 id='users'>Users</h1><pre class="highlight plaintext"><code>USERS!

 o   \ o /  _ o         __|    \ / 
/|\    |     /\   ___\o   \o    |  
/ \   / \   | \  /)  |    ( \  /o\ 

- "Tonja Hickey"
</code></pre>

<p>Dwolla users can be looked up via the API.</p>
<h3 id='account-types'>Account Types</h3>
<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Personal</td>
<td>Account belonging to an individual.  Default transaction limit of $5000.</td>
</tr>
<tr>
<td>Commercial</td>
<td>Merchant/business account.  Default transaction limit of $10000.</td>
</tr>
<tr>
<td>NonProfit</td>
<td>Account belonging to a non-profit organization. Default transaction limit of $10000.</td>
</tr>
</tbody></table>
<h2 id='get-basic-account-info'>Get Basic Account Info</h2><pre class="highlight php"><code>/**
 *   Fetch basic account information
 *   for a given Dwolla ID
 **/

<span class="cp">&lt;?php</span>

<span class="nv">$Account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Account</span><span class="p">();</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">basic</span><span class="p">(</span><span class="s1">'812-121-7199'</span><span class="p">);</span>
<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Fetch basic account information</span>
<span class="c1">#   for a given email address</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Users</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'gordon@dwolla.com'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fetch basic information for a user via their Dwolla ID</span>
<span class="k">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">basic</span><span class="p">(</span><span class="s">'812-202-3784'</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 *   Fetch basic account information
 *   for a given Dwolla ID (or email)
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">basicAccountInfo</span><span class="p">(</span><span class="s1">'812-546-3855'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; '812-121-7199',
  'Name' =&gt; 'David Stancu',
  'Latitude' =&gt; 0,
  'Longitude' =&gt; 0,
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>        <span class="o">=&gt;</span> <span class="s2">"812-742-3301"</span><span class="p">,</span>
  <span class="s2">"Name"</span>      <span class="o">=&gt;</span> <span class="s2">"Gordon Zheng"</span><span class="p">,</span>
  <span class="s2">"Latitude"</span>  <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">"Longitude"</span> <span class="o">=&gt;</span> <span class="mi">0</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span><span class="s">u'Latitude'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">u'Id'</span><span class="p">:</span> <span class="s">u'812-202-3784'</span><span class="p">,</span> <span class="s">u'Longitude'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">u'Name'</span><span class="p">:</span> <span class="s">u'David Stancu'</span><span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"Id"</span><span class="err">:</span> <span class="s2">"812-111-1111"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span><span class="err">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"Longitude"</span><span class="err">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"Name"</span><span class="err">:</span> <span class="s2">"Joe Schmoe"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-1111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.584546</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.634167</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve basic information about <strong>any</strong> Dwolla user, given their Dwolla ID or email address.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/users/{account_identifier}?client_id={}&amp;client_secret={}</code></p>

<p><code class="prettyprint">account_identifier</code> must be a Dwolla ID or email address.</p>
<h4 id='example'>Example</h4>
<p>To lookup the user with email <code class="prettyprint">gordon@dwolla.com</code>:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/users/gordon@dwolla.com?client_id={}&amp;client_secret={}</code></p>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td>User&rsquo;s Dwolla ID</td>
</tr>
<tr>
<td>Latitude</td>
<td>If this is a business account, latitude of the account&rsquo;s location.  Otherwise, always <code class="prettyprint">0</code> for individual accounts.</td>
</tr>
<tr>
<td>Longitude</td>
<td>If this is a business account, longitude of the account&rsquo;s location.  Otherwise, always <code class="prettyprint">0</code> for individual accounts.</td>
</tr>
<tr>
<td>Name</td>
<td>Full account name (or business name for a business account)</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid account identifier.</td>
<td>Could not find an account with the specified ID.</td>
</tr>
</tbody></table>
<h2 id='get-full-account-info'>Get Full Account Info</h2><pre class="highlight php"><code>/**
 *   Fetch account information for the
 *   account associated with the provided
 *   OAuth access token
 **/
<span class="cp">&lt;?php</span>
<span class="nv">$Account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Account</span><span class="p">();</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">full</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Fetch account information for the</span>
<span class="c1">#   authorized user</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Users</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Print FULL account information for the user associated with the currently set OAuth token.</span>
<span class="k">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">full</span><span class="p">())</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 *   Fetch account information for the
 *   authorized user
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">fullAccountInfo</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"City"</span>      <span class="o">=&gt;</span> <span class="s2">"Test"</span><span class="p">,</span>
  <span class="s2">"State"</span>     <span class="o">=&gt;</span> <span class="s2">"NY"</span><span class="p">,</span>
  <span class="s2">"Type"</span>      <span class="o">=&gt;</span> <span class="s2">"Commercial"</span><span class="p">,</span>
  <span class="s2">"Id"</span>        <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
  <span class="s2">"Name"</span>      <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
  <span class="s2">"Latitude"</span>  <span class="o">=&gt;</span> <span class="mi">41</span><span class="o">.</span><span class="mi">58975983</span><span class="p">,</span>
  <span class="s2">"Longitude"</span> <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">93</span><span class="o">.</span><span class="mi">61564636</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span><span class="s">u'City'</span><span class="p">:</span> <span class="s">u'New York'</span><span class="p">,</span> <span class="s">u'Name'</span><span class="p">:</span> <span class="s">u'David Stancu'</span><span class="p">,</span> <span class="s">u'Longitude'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">u'State'</span><span class="p">:</span> <span class="s">u'NY'</span><span class="p">,</span> <span class="s">u'Latitude'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">u'Type'</span><span class="p">:</span> <span class="s">u'Personal'</span><span class="p">,</span> <span class="s">u'Id'</span><span class="p">:</span> <span class="s">u'812-202-3784'</span><span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"City"</span><span class="err">:</span> <span class="s2">"Des Moines"</span><span class="p">,</span>
    <span class="s2">"Id"</span><span class="err">:</span> <span class="s2">"812-111-1111"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span><span class="err">:</span> <span class="mf">41.584546</span><span class="p">,</span>
    <span class="s2">"Longitude"</span><span class="err">:</span> <span class="o">-</span><span class="mf">93.634167</span><span class="p">,</span>
    <span class="s2">"Name"</span><span class="err">:</span> <span class="s2">"Test User"</span><span class="p">,</span>
    <span class="s2">"State"</span><span class="err">:</span> <span class="s2">"IA"</span><span class="p">,</span>
    <span class="s2">"Type"</span><span class="err">:</span> <span class="s2">"Personal"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight php"><code>array (
  'City' =&gt; 'Test',
  'State' =&gt; 'NY',
  'Type' =&gt; 'Commercial',
  'Id' =&gt; '812-742-8722',
  'Name' =&gt; 'Cafe Kubal',
  'Latitude' =&gt; -1,
  'Longitude' =&gt; -1,
)
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-111-1111"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.584546</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.634167</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Personal"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve information about the authorized user.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>AccountInfoFull</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/users/</code></p>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td>User&rsquo;s Dwolla ID</td>
</tr>
<tr>
<td>Latitude</td>
<td>If this is a business account, latitude of the account&rsquo;s location.  Otherwise, always <code class="prettyprint">0</code> for individual accounts.</td>
</tr>
<tr>
<td>Longitude</td>
<td>If this is a business account, longitude of the account&rsquo;s location.  Otherwise, always <code class="prettyprint">0</code> for individual accounts.</td>
</tr>
<tr>
<td>Name</td>
<td>Full account name (or business name for a business account)</td>
</tr>
<tr>
<td>City</td>
<td>User&rsquo;s home city</td>
</tr>
<tr>
<td>State</td>
<td>User&rsquo;s home state</td>
</tr>
<tr>
<td>Type</td>
<td><code class="prettyprint">Personal</code> or <code class="prettyprint">Commercial</code></td>
</tr>
</tbody></table>
<h2 id='get-avatar'>Get Avatar</h2><pre class="highlight shell"><code>GET https://www.dwolla.com/avatars/812-713-9234
</code></pre>

<p>Retrieve the avatar image for a Dwolla user, given their Dwolla ID.  This requires no authentication and will return a 220px x 220px PNG file.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/avatars/{dwolla_id}</code></p>
<h2 id='find-nearby-businesses'>Find Nearby Businesses</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Contacts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Contacts</span><span class="p">();</span>
<span class="nv">$Contacts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Contacts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$lat</span> <span class="o">=</span> <span class="s2">"41.585"</span><span class="p">;</span>
<span class="nv">$long</span> <span class="o">=</span> <span class="s2">"-93.624"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Contacts</span><span class="o">-&gt;</span><span class="na">nearby</span><span class="p">(</span><span class="nv">$lat</span><span class="p">,</span> <span class="nv">$long</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Get a list of nearby Dwolla spots</span>
<span class="c1">#   for a given set of coordinates (lat, long)</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Contacts</span><span class="p">.</span><span class="nf">nearby</span><span class="p">(</span><span class="mi">41</span><span class="o">.</span><span class="mi">58975983</span><span class="p">,</span> <span class="o">-</span><span class="mi">93</span><span class="o">.</span><span class="mi">61564636</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fetch Dwolla spots near 40.7127, 74.0059</span>
<span class="k">print</span><span class="p">(</span><span class="n">contacts</span><span class="o">.</span><span class="n">nearby</span><span class="p">(</span><span class="mf">40.7127</span><span class="p">,</span> <span class="mf">74.0059</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Fetch all spots near lat 41.585 and 
 * long -93.624
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">nearby</span><span class="p">(</span><span class="s1">'41.585'</span><span class="p">,</span> <span class="s1">'-93.624'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'Name' =&gt; 'Alan\'s Brew',
    'Id' =&gt; '812-198-4099',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-198-4099',
    'Latitude' =&gt; 41.582946999999997,
    'Longitude' =&gt; -93.622444000000002,
    'Address' =&gt; '333 SW 5th st',
    'City' =&gt; 'Des Moines\n',
    'State' =&gt; 'IA',
    'PostalCode' =&gt; '50309',
    'Group' =&gt; '812-198-4099',
    'Delta' =&gt; 0.0036089999999973088,
  ),
  1 =&gt;
  array (
    'Name' =&gt; 'Rocket Gear',
    'Id' =&gt; '812-742-6826',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-6826',
    'Latitude' =&gt; 41.589759829999998,
    'Longitude' =&gt; -93.61564636,
    'Address' =&gt; '123 Test Ave\n',
    'City' =&gt; 'Des Moines',
    'State' =&gt; 'IA',
    'PostalCode' =&gt; '50169',
    'Group' =&gt; '812-742-6826',
    'Delta' =&gt; 0.013113469999993299,
  )
)
</code></pre>
<pre class="highlight python"><code>    <span class="p">[</span>
       <span class="p">{</span>
           <span class="s">"Name"</span><span class="p">:</span> <span class="s">"ThelmasTreats"</span><span class="p">,</span>
           <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-608-8758"</span><span class="p">,</span>
           <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
           <span class="s">"Image"</span><span class="p">:</span> <span class="s">"https://www.dwolla.com/avatars/812-608-8758"</span><span class="p">,</span>
           <span class="s">"Latitude"</span><span class="p">:</span> <span class="mf">41.590043</span><span class="p">,</span>
           <span class="s">"Longitude"</span><span class="p">:</span> <span class="o">-</span><span class="mf">93.62095</span><span class="p">,</span>
           <span class="s">"Address"</span><span class="p">:</span> <span class="s">"615 3rd Street</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span>
           <span class="s">"City"</span><span class="p">:</span> <span class="s">"Des Moines"</span><span class="p">,</span>
           <span class="s">"State"</span><span class="p">:</span> <span class="s">"IA"</span><span class="p">,</span>
           <span class="s">"PostalCode"</span><span class="p">:</span> <span class="s">"50309"</span><span class="p">,</span>
           <span class="s">"Group"</span><span class="p">:</span> <span class="s">"812-608-8758"</span><span class="p">,</span>
           <span class="s">"Delta"</span><span class="p">:</span> <span class="mf">0.0009069999999908873</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s">"Name"</span><span class="p">:</span> <span class="s">"IKONIX Studio"</span><span class="p">,</span>
           <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-505-4939"</span><span class="p">,</span>
           <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
           <span class="s">"Image"</span><span class="p">:</span> <span class="s">"https://www.dwolla.com/avatars/812-505-4939"</span><span class="p">,</span>
           <span class="s">"Latitude"</span><span class="p">:</span> <span class="mf">41.5887958</span><span class="p">,</span>
           <span class="s">"Longitude"</span><span class="p">:</span> <span class="o">-</span><span class="mf">93.6215057</span><span class="p">,</span>
           <span class="s">"Address"</span><span class="p">:</span> <span class="s">"506 3rd St</span><span class="se">\n</span><span class="s">Suite 206"</span><span class="p">,</span>
           <span class="s">"City"</span><span class="p">:</span> <span class="s">"Des Moines"</span><span class="p">,</span>
           <span class="s">"State"</span><span class="p">:</span> <span class="s">"IA"</span><span class="p">,</span>
           <span class="s">"PostalCode"</span><span class="p">:</span> <span class="s">"50309"</span><span class="p">,</span>
           <span class="s">"Group"</span><span class="p">:</span> <span class="s">"812-505-4939"</span><span class="p">,</span>
           <span class="s">"Delta"</span><span class="p">:</span> <span class="mf">0.0027098999999992657</span>
   <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Name"</span>       <span class="o">=&gt;</span> <span class="s2">"Rocket Gear"</span><span class="p">,</span>
    <span class="s2">"Id"</span>         <span class="o">=&gt;</span> <span class="s2">"812-742-6826"</span><span class="p">,</span>
    <span class="s2">"Type"</span>       <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span>      <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-6826"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span>   <span class="o">=&gt;</span> <span class="mi">41</span><span class="o">.</span><span class="mi">58975983</span><span class="p">,</span>
    <span class="s2">"Longitude"</span>  <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">93</span><span class="o">.</span><span class="mi">61564636</span><span class="p">,</span>
    <span class="s2">"Address"</span>    <span class="o">=&gt;</span> <span class="s2">"123 Test Ave</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="s2">"City"</span>       <span class="o">=&gt;</span> <span class="s2">"Des Moines"</span><span class="p">,</span>
    <span class="s2">"State"</span>      <span class="o">=&gt;</span> <span class="s2">"IA"</span><span class="p">,</span>
    <span class="s2">"PostalCode"</span> <span class="o">=&gt;</span> <span class="s2">"50169"</span><span class="p">,</span>
    <span class="s2">"Group"</span>      <span class="o">=&gt;</span> <span class="s2">"812-742-6826"</span><span class="p">,</span>
    <span class="s2">"Delta"</span>      <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">0045</span><span class="mi">938100000100235</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"Name"</span>       <span class="o">=&gt;</span> <span class="s2">"Alan's Brew"</span><span class="p">,</span>
    <span class="s2">"Id"</span>         <span class="o">=&gt;</span> <span class="s2">"812-198-4099"</span><span class="p">,</span>
    <span class="s2">"Type"</span>       <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span>      <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-198-4099"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span>   <span class="o">=&gt;</span> <span class="mi">41</span><span class="o">.</span><span class="mi">582947</span><span class="p">,</span>
    <span class="s2">"Longitude"</span>  <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">93</span><span class="o">.</span><span class="mi">622444</span><span class="p">,</span>
    <span class="s2">"Address"</span>    <span class="o">=&gt;</span> <span class="s2">"120 SW 5th st</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="s2">"City"</span>       <span class="o">=&gt;</span> <span class="s2">"Des Moines"</span><span class="p">,</span>
    <span class="s2">"State"</span>      <span class="o">=&gt;</span> <span class="s2">"IA"</span><span class="p">,</span>
    <span class="s2">"PostalCode"</span> <span class="o">=&gt;</span> <span class="s2">"50309"</span><span class="p">,</span>
    <span class="s2">"Group"</span>      <span class="o">=&gt;</span> <span class="s2">"812-198-4099"</span><span class="p">,</span>
    <span class="s2">"Delta"</span>      <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">00</span><span class="mi">9497000000003197</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"ThelmasTreats"</span><span class="p">,</span>
    <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"812-608-8758"</span><span class="p">,</span>
    <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span><span class="p">:</span> <span class="s2">"https://www.dwolla.com/avatars/812-608-8758"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span><span class="p">:</span> <span class="mf">41.590043</span><span class="p">,</span>
    <span class="s2">"Longitude"</span><span class="p">:</span> <span class="o">-</span><span class="mf">93.62095</span><span class="p">,</span>
    <span class="s2">"Address"</span><span class="p">:</span> <span class="s2">"615 3rd Street\n"</span><span class="p">,</span>
    <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Des Moines"</span><span class="p">,</span>
    <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"IA"</span><span class="p">,</span>
    <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"50309"</span><span class="p">,</span>
    <span class="s2">"Group"</span><span class="p">:</span> <span class="s2">"812-608-8758"</span><span class="p">,</span>
    <span class="s2">"Delta"</span><span class="p">:</span> <span class="mf">0.0009069999999908873</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"IKONIX Studio"</span><span class="p">,</span>
    <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"812-505-4939"</span><span class="p">,</span>
    <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span><span class="p">:</span> <span class="s2">"https://www.dwolla.com/avatars/812-505-4939"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span><span class="p">:</span> <span class="mf">41.5887958</span><span class="p">,</span>
    <span class="s2">"Longitude"</span><span class="p">:</span> <span class="o">-</span><span class="mf">93.6215057</span><span class="p">,</span>
    <span class="s2">"Address"</span><span class="p">:</span> <span class="s2">"506 3rd St\nSuite 206"</span><span class="p">,</span>
    <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Des Moines"</span><span class="p">,</span>
    <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"IA"</span><span class="p">,</span>
    <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"50309"</span><span class="p">,</span>
    <span class="s2">"Group"</span><span class="p">:</span> <span class="s2">"812-505-4939"</span><span class="p">,</span>
    <span class="s2">"Delta"</span><span class="p">:</span> <span class="mf">0.0027098999999992657</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ThelmasTreats"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-608-8758"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-608-8758"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.590043</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.62095</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"615 3rd Street\n"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50309"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-608-8758"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Delta"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0009069999999908873</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IKONIX Studio"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-505-4939"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-505-4939"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">41.5887958</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.6215057</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"506 3rd St\nSuite 206"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50309"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-505-4939"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Delta"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0027098999999992657</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a list of Dwolla business accounts (<a href="https://www.dwolla.com/spots">Spots</a>) near a given location.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/contacts/nearby?client_id={}&amp;client_secret={}&amp;latitude={}&amp;longitude={}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td></td>
<td>Your Application Key</td>
</tr>
<tr>
<td>client_secret</td>
<td></td>
<td>Your Application Secret</td>
</tr>
<tr>
<td>latitude</td>
<td></td>
<td>Latitude coordinates (between -90.0 and 90.0)</td>
</tr>
<tr>
<td>longitude</td>
<td></td>
<td>Longitude coordinates (between -180.0 and 180.0)</td>
</tr>
<tr>
<td>range</td>
<td>yes</td>
<td>Range to retrieve spots for in miles (default 10, minimum 1)</td>
</tr>
<tr>
<td>limit</td>
<td>yes</td>
<td>Number of spots to retrieve (default 10, minimum 1, maximum 100)</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Name</td>
<td>Business name</td>
</tr>
<tr>
<td>Id</td>
<td>Dwolla ID</td>
</tr>
<tr>
<td>Type</td>
<td>Will always be <code class="prettyprint">Dwolla</code></td>
</tr>
<tr>
<td>Image</td>
<td>URL to business&rsquo;s account avatar</td>
</tr>
<tr>
<td>Latitude</td>
<td>Business location</td>
</tr>
<tr>
<td>Longitude</td>
<td>Business location</td>
</tr>
<tr>
<td>Address</td>
<td>Business address.  Street address lines are separated by an escaped newline character: <code class="prettyprint">\n</code></td>
</tr>
<tr>
<td>City</td>
<td>Business address city</td>
</tr>
<tr>
<td>State</td>
<td>Business address state</td>
</tr>
<tr>
<td>PostalCode</td>
<td>Business address zip code</td>
</tr>
<tr>
<td>Group</td>
<td>Set to Dwolla ID of business account</td>
</tr>
<tr>
<td>Delta</td>
<td>Proximity to the lat / long specified in query</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Latitude must be between -90.0 and 90.0.</td>
<td>Invalid latitude.</td>
</tr>
<tr>
<td>Longitude must be between -180.0 and 180.0.</td>
<td>Invalid longitude.</td>
</tr>
</tbody></table>
<h2 id='find-users-nearby'>Find Users Nearby</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Account</span><span class="p">();</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_id</span> <span class="o">=</span> <span class="nv">$apiKey</span><span class="p">;</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">client_secret</span> <span class="o">=</span> <span class="nv">$apiSecret</span><span class="p">;</span>

<span class="nv">$lat</span> <span class="o">=</span> <span class="s2">"40.7820"</span><span class="p">;</span>
<span class="nv">$long</span> <span class="o">=</span> <span class="s2">"-73.8317"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">nearby</span><span class="p">(</span><span class="nv">$lat</span><span class="p">,</span> <span class="nv">$long</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Get a list of nearby Dwolla users</span>
<span class="c1">#   for a given set of coordinates (lat, long)</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Users</span><span class="p">.</span><span class="nf">nearby</span><span class="p">(</span><span class="ss">:latitude</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="o">.</span><span class="mi">7820</span><span class="p">,</span> <span class="ss">:longitude</span> <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">73</span><span class="o">.</span><span class="mi">8317</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get users near 40.7127, 74.0059</span>
<span class="k">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">nearby</span><span class="p">(</span><span class="mf">40.7127</span><span class="p">,</span> <span class="mf">74.0059</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Fetch all spots near lat 40.7820 and 
 * long -73.8317
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">nearbyUsers</span><span class="p">(</span><span class="s1">'40.7820'</span><span class="p">,</span> <span class="s1">'-73.8317'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'Id' =&gt; '812-687-7049',
    'Image' =&gt; 'https://www.dwolla.com/avatars/812-687-7049',
    'Name' =&gt; 'Gordon Zheng',
    'Latitude' =&gt; 40.708448,
    'Longitude' =&gt; -74.014429,
    'Delta' =&gt; 114.72287700000001
  )
)
</code></pre>
<pre class="highlight python"><code><span class="p">[{</span>
    <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-687-7049"</span><span class="p">,</span>
    <span class="s">"Image"</span><span class="p">:</span> <span class="s">"https://www.dwolla.com/avatars/812-687-7049"</span><span class="p">,</span>
    <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Gordon Zheng"</span><span class="p">,</span>
    <span class="s">"Latitude"</span><span class="p">:</span> <span class="mf">40.708448</span><span class="p">,</span>
    <span class="s">"Longitude"</span><span class="p">:</span> <span class="o">-</span><span class="mf">74.014429</span><span class="p">,</span>
    <span class="s">"Delta"</span><span class="p">:</span> <span class="mf">114.72287700000001</span>
<span class="p">}]</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span>         <span class="o">=&gt;</span> <span class="s2">"812-687-7049"</span><span class="p">,</span>
    <span class="s2">"Image"</span>      <span class="o">=&gt;</span> <span class="s2">"https://www.dwolla.com/avatars/812-687-7049"</span><span class="p">,</span>
    <span class="s2">"Name"</span>       <span class="o">=&gt;</span> <span class="s2">"Gordon Zheng"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span>   <span class="o">=&gt;</span> <span class="mi">40</span><span class="o">.</span><span class="mi">708448</span><span class="p">,</span>
    <span class="s2">"Longitude"</span>  <span class="o">=&gt;</span> <span class="o">-</span><span class="mi">74</span><span class="o">.</span><span class="mo">01442</span><span class="mi">9</span><span class="p">,</span>
    <span class="s2">"Delta"</span>      <span class="o">=&gt;</span> <span class="mi">114</span><span class="o">.</span><span class="mi">72287700000001</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"812-687-7049"</span><span class="p">,</span>
    <span class="s2">"Image"</span><span class="p">:</span> <span class="s2">"https://www.dwolla.com/avatars/812-687-7049"</span><span class="p">,</span>
    <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"Gordon Zheng"</span><span class="p">,</span>
    <span class="s2">"Latitude"</span><span class="p">:</span> <span class="mf">40.708448</span><span class="p">,</span>
    <span class="s2">"Longitude"</span><span class="p">:</span> <span class="o">-</span><span class="mf">74.014429</span><span class="p">,</span>
    <span class="s2">"Delta"</span><span class="p">:</span> <span class="mf">114.72287700000001</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-687-7049"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-687-7049"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gordon Zheng"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.708448</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-74.014429</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Delta"</span><span class="p">:</span><span class="w"> </span><span class="mf">114.72287700000001</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a list of Dwolla users near a given location. Users must opt into allowing their location to be seen by enabling this setting in the Dwolla mobile app. Example on the (<a href="https://mobile.dwollalabs.com/location">web app</a>).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET http://www.dwolla.com/oauth/rest/users/nearby?client_id={}&amp;client_secret={}&amp;latitude={}&amp;longitude={}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td></td>
<td>Your Application Key</td>
</tr>
<tr>
<td>client_secret</td>
<td></td>
<td>Your Application Secret</td>
</tr>
<tr>
<td>latitude</td>
<td></td>
<td>Latitude coordinates (between -90.0 and 90.0)</td>
</tr>
<tr>
<td>longitude</td>
<td></td>
<td>Longitude coordinates (between -180.0 and 180.0)</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td>Dwolla ID</td>
</tr>
<tr>
<td>Image</td>
<td>URL to user&rsquo;s account avatar</td>
</tr>
<tr>
<td>Name</td>
<td>User&rsquo;s name</td>
</tr>
<tr>
<td>Latitude</td>
<td>User&rsquo;s location</td>
</tr>
<tr>
<td>Longitude</td>
<td>User&rsquo;s location</td>
</tr>
<tr>
<td>Delta</td>
<td>Proximity to the lat / long specified in query</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Latitude must be between -90.0 and 90.0.</td>
<td>Invalid latitude.</td>
</tr>
<tr>
<td>Longitude must be between -180.0 and 180.0.</td>
<td>Invalid longitude.</td>
</tr>
</tbody></table>

          <h1 id='contacts'>Contacts</h1><pre class="highlight shell"><code><span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Joe Schmoe"</span>,
        <span class="s2">"Id"</span>: <span class="s2">"812-999-0090"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
        <span class="s2">"Image"</span>: <span class="s2">"https://www.dwolla.com/avatars/812-999-0090"</span>,
        <span class="s2">"City"</span>: <span class="s2">"St Louis"</span>,
        <span class="s2">"State"</span>: <span class="s2">"MO"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Sam Schmoe Super Foods"</span>,
        <span class="s2">"Id"</span>: <span class="s2">"812-999-0091"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
        <span class="s2">"Image"</span>: <span class="s2">"https://www.dwolla.com/avatars/812-999-0091"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Des Moines"</span>,
        <span class="s2">"State"</span>: <span class="s2">"IA"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre>

<p>Any Dwolla user which a user sends money to or receives money from becomes a <code class="prettyprint">Contact</code> of that user.</p>
<h3 id='contact-resource'>Contact Resource</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Name</td>
<td>User&rsquo;s full name (business name, if business account)</td>
</tr>
<tr>
<td>Id</td>
<td>Dwolla ID of user</td>
</tr>
<tr>
<td>Type</td>
<td>Will always be <code class="prettyprint">Dwolla</code></td>
</tr>
<tr>
<td>Image</td>
<td>URL of the user&rsquo;s avatar image</td>
</tr>
<tr>
<td>City</td>
<td>User&rsquo;s resident city</td>
</tr>
<tr>
<td>State</td>
<td>User&rsquo;s resident state</td>
</tr>
</tbody></table>
<h2 id='get-a-user39s-contacts'>Get a user&rsquo;s contacts</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Contacts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Contacts</span><span class="p">();</span>
<span class="nv">$Contacts</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Contacts</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># EXAMPLE 1: </span>
<span class="c1">#   Fetch last 10 contacts from the </span>
<span class="c1">#   account associated with the provided</span>
<span class="c1">#   OAuth token</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Contacts</span><span class="p">.</span><span class="nf">get</span>


<span class="c1"># EXAMPLE 2: </span>
<span class="c1">#   Search through the contacts of the</span>
<span class="c1">#   account associated with the provided</span>
<span class="c1">#   OAuth token</span>
<span class="n">pp</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Contacts</span><span class="p">.</span><span class="nf">get</span><span class="p">({</span><span class="ss">:search</span> <span class="o">=&gt;</span> <span class="s1">'Ben'</span><span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get the first 10 contacts from the user</span>
<span class="c"># associated with the current OAuth token.</span>

<span class="k">print</span><span class="p">(</span><span class="n">contacts</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * EXAMPLE 1: 
 *   Fetch last 10 contacts from the 
 *   account associated with the provided
 *   OAuth token
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">contacts</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>

<span class="cm">/**
 * EXAMPLE 2: 
 *   Search through the contacts of the
 *   account associated with the provided
 *   OAuth token
 **/</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">contacts</span><span class="p">({</span><span class="na">search</span><span class="p">:</span> <span class="s1">'Ben'</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>

</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Gordon Zheng"</span><span class="p">,</span>
    <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-3301"</span><span class="p">,</span>
    <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-3301"</span><span class="p">,</span>
    <span class="s2">"City"</span>  <span class="o">=&gt;</span> <span class="s2">"Elmhurst"</span><span class="p">,</span>
    <span class="s2">"State"</span> <span class="o">=&gt;</span> <span class="s2">"NY"</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight python"><code><span class="p">[{</span><span class="s">u'City'</span><span class="p">:</span> <span class="s">u'Des Moines'</span><span class="p">,</span> <span class="s">u'Name'</span><span class="p">:</span> <span class="s">u'Dwolla, Inc.'</span><span class="p">,</span> <span class="s">u'Image'</span><span class="p">:</span> <span class="s">u'https://www.dwolla.com/avatars/812-616-9409'</span><span class="p">,</span> <span class="s">u'State'</span><span class="p">:</span> <span class="s">u'IA'</span><span class="p">,</span> <span class="s">u'Type'</span><span class="p">:</span> <span class="s">u'Dwolla'</span><span class="p">,</span> <span class="s">u'Id'</span><span class="p">:</span> <span class="s">u'812-616-9409'</span><span class="p">},</span> 
<span class="p">{</span><span class="s">u'City'</span><span class="p">:</span> <span class="s">u'Elmhurst'</span><span class="p">,</span> <span class="s">u'Name'</span><span class="p">:</span> <span class="s">u'Gordon Zheng'</span><span class="p">,</span> <span class="s">u'Image'</span><span class="p">:</span> <span class="s">u'https://www.dwolla.com/avatars/812-687-7049'</span><span class="p">,</span> <span class="s">u'State'</span><span class="p">:</span> <span class="s">u'NY'</span><span class="p">,</span> <span class="s">u'Type'</span><span class="p">:</span> <span class="s">u'Dwolla'</span><span class="p">,</span> <span class="s">u'Id'</span><span class="p">:</span> <span class="s">u'812-687-7049'</span><span class="p">}]</span>
</code></pre>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'Name' =&gt; 'GORDCORP',
    'Id' =&gt; '812-740-4294',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-740-4294',
    'City' =&gt; 'Test',
    'State' =&gt; 'NY',
  ),
  1 =&gt;
  array (
    'Name' =&gt; 'Gordon Zheng',
    'Id' =&gt; '812-742-3301',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-3301',
    'City' =&gt; 'Elmhurst',
    'State' =&gt; 'NY',
  ),
  2 =&gt;
  array (
    'Name' =&gt; 'Joe Schmoe',
    'Id' =&gt; '812-741-3440',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-741-3440',
    'City' =&gt; 'Test',
    'State' =&gt; 'NY',
  ),
)
</code></pre>
<pre class="highlight javascript"><code><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"Joe Schmoe"</span><span class="p">,</span>
        <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"812-999-0090"</span><span class="p">,</span>
        <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
        <span class="s2">"Image"</span><span class="p">:</span> <span class="s2">"https://www.dwolla.com/avatars/812-999-0090"</span><span class="p">,</span>
        <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"St Louis"</span><span class="p">,</span>
        <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"MO"</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"Sam Schmoe Super Foods"</span><span class="p">,</span>
        <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"812-999-0091"</span><span class="p">,</span>
        <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
        <span class="s2">"Image"</span><span class="p">:</span> <span class="s2">"https://www.dwolla.com/avatars/812-999-0091"</span><span class="p">,</span>
        <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Des Moines"</span><span class="p">,</span>
        <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"IA"</span>
    <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Schmoe"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-999-0090"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-999-0090"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"St Louis"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MO"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sam Schmoe Super Foods"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-999-0091"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-999-0091"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Moe Schmoe"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-999-0092"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.dwolla.com/avatars/812-999-0092"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Simpsonville"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"State"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Use the following endpoint to fetch the authorized user&rsquo;s contacts.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Contacts</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/contacts/</code></p>
<h3 id='optional-paramters'>Optional Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>search</td>
<td>Search term used to search contacts.</td>
</tr>
<tr>
<td>types</td>
<td>Account types to return.</td>
</tr>
<tr>
<td>limit</td>
<td>Number of contacts to return (default is 10).</td>
</tr>
</tbody></table>

          <h1 id='balance'>Balance</h1><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Account</span><span class="p">();</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">balance</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Get the balance of the authenticated user</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Balance</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get the balance of the account for</span>
<span class="c"># the user associated with the current OAuth token</span>

<span class="k">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">balance</span><span class="p">())</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * Get balance of the user associated with the OAuth token.
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">balance</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>55.76
</code></pre>
<pre class="highlight python"><code><span class="mf">55.76</span>
</code></pre>
<pre class="highlight ruby"><code><span class="mi">55</span><span class="o">.</span><span class="mi">76</span>
</code></pre>
<pre class="highlight javascript"><code><span class="mf">55.76</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="mf">55.76</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Fetch a user&rsquo;s account balance.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Balance</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/balance/</code></p>

          <h1 id='masspay'>MassPay</h1><pre class="highlight shell"><code><span class="nv">$~</span> cowsay MOOOspay
</code></pre>
<pre class="highlight plaintext"><code>  _________
&lt; MOOOspay &gt;
  ---------
         \   ^__^ 
          \  (oo)\_______
             (__)\       )\/\
                 ||----w |
                 ||     ||

</code></pre>

<p>MassPay allows you to easily send up to 5,000 payments with a single API request. The payments are funded from a single user&rsquo;s specified funding source and processed asynchronously upon submission. </p>

<p>Your MassPay <code class="prettyprint">Job</code> will then be queued and processed.  As the service processes a <code class="prettyprint">Job</code>, each <code class="prettyprint">Item</code> is processed one ofter the other, at an average rate of about 0.5 sec. / item.  Therefore, you can expect a 1000-item MassPay Job to be completed in about 8 minutes.</p>

<p>MassPay offers a significant advantage over repeatedly calling the <a href="request.html#send-money">Send</a> endpoint for each individual transaction, which is the fact that a bank-funded MassPay Job only incurs a single withdrawal from the bank account to fund the entire batch of payments.  The alternative approach incurs a withdrawal from the bank funding source for each individual payment.  Those who used this approach have reported incurring fees from their financial institutions for excessive ACH transactions.</p>
<h2 id='create-job'>Create Job</h2><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"fundsSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76fe6c3ff2417eb02a9019c25c9a259d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userJobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some ID"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"assumeCosts"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">140.52</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-713-9234"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">100.00</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reflector@dwolla.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destinationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"here's some money!"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"foo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
        </span><span class="p">}</span><span class="w"> 
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre>
<pre class="highlight python"><code><span class="c"># Create a MassPay job with two items to</span>
<span class="c"># the Balance of the user associated with the current</span>
<span class="c"># OAuth token.</span>

<span class="n">info</span> <span class="o">=</span> <span class="n">masspay</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s">'Balance'</span><span class="p">,</span>
               <span class="p">{</span>
                   <span class="p">{</span>
                       <span class="s">'amount'</span><span class="p">:</span> <span class="mf">1.00</span><span class="p">,</span>
                       <span class="s">'destination'</span><span class="p">:</span> <span class="s">'812-197-4121'</span>
                   <span class="p">},</span>
                   <span class="p">{</span>
                       <span class="s">'amount'</span><span class="p">:</span> <span class="mf">2.00</span><span class="p">,</span>
                       <span class="s">'destination'</span><span class="p">:</span> <span class="s">'812-174-9528'</span>
                   <span class="p">}</span>
               <span class="p">})</span>
</code></pre>
<pre class="highlight ruby"><code><span class="n">items</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">9</span><span class="o">.</span><span class="mi">99</span><span class="p">,</span>
    <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="s1">'gordon@dwolla.com'</span><span class="p">,</span>
    <span class="ss">:destinationType</span> <span class="o">=&gt;</span> <span class="s1">'Email'</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
    <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="s1">'812-742-3301'</span><span class="p">,</span>
    <span class="ss">:notes</span> <span class="o">=&gt;</span> <span class="s1">'money!!!'</span><span class="p">,</span>
    <span class="ss">:metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s1">'something_optional'</span> <span class="o">=&gt;</span> <span class="s1">'foobar'</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>

<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">MassPay</span><span class="p">.</span><span class="nf">create</span><span class="p">({</span>
  <span class="ss">:fundsSource</span> <span class="o">=&gt;</span> <span class="s2">"Balance"</span><span class="p">,</span>
  <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="mi">9999</span><span class="p">,</span>
  <span class="ss">:items</span> <span class="o">=&gt;</span> <span class="n">items</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">items</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">amount</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
    <span class="na">destination</span><span class="p">:</span> <span class="s1">'a@example.com'</span><span class="p">,</span>
    <span class="na">destinationType</span><span class="p">:</span> <span class="s1">'Email'</span><span class="p">,</span>
    <span class="na">notes</span><span class="p">:</span> <span class="s1">'for your good work'</span><span class="p">,</span>
    <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'arbitrary_info'</span><span class="p">:</span> <span class="s1">'the house tasted good'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">amount</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
    <span class="na">destination</span><span class="p">:</span> <span class="s1">'812-740-4294'</span><span class="p">,</span>
    <span class="na">destinationType</span><span class="p">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
    <span class="na">notes</span><span class="p">:</span> <span class="s1">'cause Im jenerus'</span><span class="p">,</span>
    <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'anything_you_want'</span><span class="p">:</span> <span class="s1">'blahhhhh'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">amount</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
    <span class="na">destination</span><span class="p">:</span> <span class="s1">'a@example.com'</span><span class="p">,</span>
    <span class="na">destinationType</span><span class="p">:</span> <span class="s1">'email'</span>
  <span class="p">}</span>
<span class="p">];</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">createMassPayJob</span><span class="p">(</span><span class="s1">'Balance'</span><span class="p">,</span> <span class="s1">'2908'</span><span class="p">,</span> <span class="nx">items</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">userJobId</span><span class="p">:</span> <span class="s1">'Some arbitrary id you can specify'</span><span class="p">,</span>
  <span class="na">assumeCosts</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">},</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="cm">/*
 * Send $3.40 to an email address and $12.40 to a Dwolla ID.
 */</span>

<span class="nv">$MassPay</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\MassPay</span><span class="p">();</span>
<span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
<span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">pin</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>

<span class="nv">$items</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">[</span>
    <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="s1">'gordon@dwolla.com'</span><span class="p">,</span>
    <span class="s1">'destinationType'</span> <span class="o">=&gt;</span> <span class="s1">'Email'</span><span class="p">,</span>
    <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="mf">3.40</span><span class="p">,</span>
    <span class="s1">'notes'</span> <span class="o">=&gt;</span> <span class="s1">'enjoy this money!'</span>
  <span class="p">],</span>
  <span class="p">[</span>
    <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="s1">'812-742-3301'</span><span class="p">,</span>
    <span class="s1">'destinationType'</span> <span class="o">=&gt;</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
    <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="mf">12.40</span>
  <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$fundsSource</span> <span class="o">=</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="nv">$fundsSource</span><span class="p">,</span> <span class="nv">$items</span><span class="p">,</span> <span class="p">[</span>
  <span class="s1">'assumeCosts'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">]);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; '8b116429-95c8-428f-be0f-a3ce017cba53',
  'UserJobId' =&gt; NULL,
  'AssumeCosts' =&gt; true,
  'FundingSource' =&gt; '5da016f7769bcb1de9938a30d194d5a7',
  'Total' =&gt; 15.80,
  'Fees' =&gt; 0,
  'CreatedDate' =&gt; '2014-10-24T23:06:08Z',
  'Status' =&gt; 'queued',
  'ItemSummary' =&gt;
  array (
    'Count' =&gt; 2,
    'Completed' =&gt; 0,
    'Successful' =&gt; 0,
  ),
)
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
        <span class="s">"Id"</span><span class="p">:</span> <span class="s">"47fe2f7c-8d6d-4f98-bcd9-a3100178062f"</span><span class="p">,</span>
        <span class="s">"AssumeCosts"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s">"FundingSource"</span><span class="p">:</span> <span class="s">"Balance"</span><span class="p">,</span>
        <span class="s">"Total"</span><span class="p">:</span> <span class="mf">3.00</span><span class="p">,</span>
        <span class="s">"Fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">"CreatedDate"</span><span class="p">:</span> <span class="s">"2014-04-18T05:49:03Z"</span><span class="p">,</span>
        <span class="s">"Status"</span><span class="p">:</span> <span class="s">"queued"</span><span class="p">,</span>
        <span class="s">"ItemSummary"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Count"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s">"Completed"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s">"Successful"</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>            <span class="o">=&gt;</span> <span class="s2">"d18a2589-409c-4d0d-8404-a3ca005d3bf2"</span><span class="p">,</span>
  <span class="s2">"UserJobId"</span>     <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
  <span class="s2">"AssumeCosts"</span>   <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
  <span class="s2">"FundingSource"</span> <span class="o">=&gt;</span> <span class="s2">"Balance"</span><span class="p">,</span>
  <span class="s2">"Total"</span>         <span class="o">=&gt;</span> <span class="mi">39</span><span class="o">.</span><span class="mi">99</span><span class="p">,</span>
  <span class="s2">"Fees"</span>          <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">"CreatedDate"</span>   <span class="o">=&gt;</span> <span class="s2">"2014-10-20T05:39:27Z"</span><span class="p">,</span>
  <span class="s2">"Status"</span>        <span class="o">=&gt;</span> <span class="s2">"queued"</span><span class="p">,</span>
  <span class="s2">"ItemSummary"</span>   <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Count"</span>      <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">"Completed"</span>  <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"Successful"</span> <span class="o">=&gt;</span> <span class="mi">0</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">Id</span><span class="p">:</span> <span class="s1">'9ed0f61a-5cc9-4f36-a7c1-a37e0001c55e'</span><span class="p">,</span>
  <span class="nx">UserJobId</span><span class="err">:</span> <span class="s1">'Some arbitrary id you can specify'</span><span class="p">,</span>
  <span class="nx">AssumeCosts</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">FundingSource</span><span class="err">:</span> <span class="s1">'Balance'</span><span class="p">,</span>
  <span class="nx">Total</span><span class="err">:</span> <span class="mf">0.03</span><span class="p">,</span>
  <span class="nx">Fees</span><span class="err">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">CreatedDate</span><span class="err">:</span> <span class="s1">'2014-08-05T00:01:06Z'</span><span class="p">,</span>
  <span class="nx">Status</span><span class="err">:</span> <span class="s1">'queued'</span><span class="p">,</span>
  <span class="nx">ItemSummary</span><span class="err">:</span> <span class="p">{</span> 
    <span class="nl">Count</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> 
    <span class="nx">Completed</span><span class="err">:</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="nx">Successful</span><span class="err">:</span> <span class="mi">0</span> 
  <span class="p">}</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47fe2f7c-8d6d-4f98-bcd9-a3100178062f"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserJobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testjob"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AssumeCosts"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FundingSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Total"</span><span class="p">:</span><span class="w"> </span><span class="mf">240.52</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-18T05:49:03Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"queued"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ItemSummary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a new MassPay job.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Send</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/masspay/</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Param</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fundsSource</td>
<td>no</td>
<td>ID of <a href="request.html#funding-sources">funding source</a> from which to fund the payments</td>
</tr>
<tr>
<td>pin</td>
<td>no</td>
<td>User account PIN</td>
</tr>
<tr>
<td>items</td>
<td>no</td>
<td>An array of <code class="prettyprint">Item</code> objects.  See below.</td>
</tr>
<tr>
<td>userJobId</td>
<td>yes</td>
<td>An optional custom identifer for this job</td>
</tr>
<tr>
<td>assumeCosts</td>
<td>yes</td>
<td>Deprecated</td>
</tr>
</tbody></table>
<h3 id='items'>Items</h3>
<p>Each payment to be created in a MassPay job is represented as a JSON object with the following properties:</p>

<table><thead>
<tr>
<th>Param</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>no</td>
<td>Payment amount</td>
</tr>
<tr>
<td>destination</td>
<td>no</td>
<td>Payment destination.  Can be a Dwolla ID or email address.</td>
</tr>
<tr>
<td>destinationType</td>
<td>yes</td>
<td>If the destination is an email address, set this to <code class="prettyprint">Email</code>.  Otherwise, defaults to <code class="prettyprint">Dwolla</code>.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>A note to attach to the payment.  Max 250 characters.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>An optional <a href="request.html#metadata">metadata</a> object.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>The selected funding source doesn&rsquo;t have enough funds to cover this job&rsquo;s payout.</td>
<td>Insufficient funds to cover total job payout. Select alternative funding source.</td>
</tr>
</tbody></table>
<h2 id='list-jobs'>List Jobs</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$MassPay</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\MassPay</span><span class="p">();</span>
<span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">listJobs</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight javascript"><code><span class="nx">dwolla</span><span class="p">.</span><span class="nx">getMassPayJobs</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get all current MassPay jobs for the</span>
<span class="c"># user associated with the current OAuth token.</span>

<span class="k">print</span><span class="p">(</span><span class="n">masspay</span><span class="o">.</span><span class="n">listjobs</span><span class="p">())</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">MassPay</span><span class="p">.</span><span class="nf">get</span>
</code></pre>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt; array (
    'Id' =&gt; '8b116429-95c8-428f-be0f-a3ce017cba53',
    'UserJobId' =&gt; NULL,
    'AssumeCosts' =&gt; true,
    'FundingSource' =&gt; '5da016f7769bcb1de9938a30d194d5a7',
    'Total' =&gt; 15.80,
    'Fees' =&gt; 0,
    'CreatedDate' =&gt; '2014-10-24T23:06:08Z',
    'Status' =&gt; 'queued',
    'ItemSummary' =&gt;
    array (
      'Count' =&gt; 2,
      'Completed' =&gt; 0,
      'Successful' =&gt; 0,
    ),
  ),

  1 =&gt; array ( ... ),
  2 =&gt; array ( ... ),
  ...
)
</code></pre>
<pre class="highlight python"><code><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span>
            <span class="s">"UserJobId"</span><span class="p">:</span> <span class="s">"I've got a job for ya"</span><span class="p">,</span>
            <span class="s">"AssumeCosts"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s">"FundingSource"</span><span class="p">:</span> <span class="s">"Balance"</span><span class="p">,</span>
            <span class="s">"Total"</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span>
            <span class="s">"Fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s">"CreatedDate"</span><span class="p">:</span> <span class="s">"2014-04-18T05:51:34Z"</span><span class="p">,</span>
            <span class="s">"Status"</span><span class="p">:</span> <span class="s">"complete"</span><span class="p">,</span>
            <span class="s">"ItemSummary"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"Count"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s">"Completed"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s">"Successful"</span><span class="p">:</span> <span class="mi">2</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"634de23d-ab50-4a53-bcd2-a310017794a8"</span><span class="p">,</span>
            <span class="s">"UserJobId"</span><span class="p">:</span> <span class="s">"I've got another job for ya"</span><span class="p">,</span>
            <span class="s">"AssumeCosts"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
            <span class="s">"FundingSource"</span><span class="p">:</span> <span class="s">"Balance"</span><span class="p">,</span>
            <span class="s">"Total"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s">"Fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s">"CreatedDate"</span><span class="p">:</span> <span class="s">"2014-04-18T05:47:26Z"</span><span class="p">,</span>
            <span class="s">"Status"</span><span class="p">:</span> <span class="s">"complete"</span><span class="p">,</span>
            <span class="s">"ItemSummary"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"Count"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s">"Completed"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s">"Successful"</span><span class="p">:</span> <span class="mi">2</span>
            <span class="p">}</span>
        <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span>            <span class="o">=&gt;</span> <span class="s2">"256f7554-9bcb-4399-97d8-a34c00bb20b1"</span><span class="p">,</span>
    <span class="s2">"UserJobId"</span>     <span class="o">=&gt;</span> <span class="s2">"efnwjkefnkwjnknkjnk"</span><span class="p">,</span>
    <span class="s2">"AssumeCosts"</span>   <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
    <span class="s2">"FundingSource"</span> <span class="o">=&gt;</span> <span class="s2">"Balance"</span><span class="p">,</span>
    <span class="s2">"Total"</span>         <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">02</span><span class="p">,</span>
    <span class="s2">"Fees"</span>          <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"CreatedDate"</span>   <span class="o">=&gt;</span> <span class="s2">"2014-06-16T18:21:18Z"</span><span class="p">,</span>
    <span class="s2">"Status"</span>        <span class="o">=&gt;</span> <span class="s2">"complete"</span><span class="p">,</span>
    <span class="s2">"ItemSummary"</span>   <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Count"</span>      <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">"Completed"</span>  <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">"Successful"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">[</span>
   <span class="p">{</span>
      <span class="na">Id</span><span class="p">:</span> <span class="s1">'9ed0f61a-5cc9-4f36-a7c1-a37e0001c55e'</span><span class="p">,</span>
      <span class="na">UserJobId</span><span class="p">:</span> <span class="s1">'Some arbitrary id you can specify'</span><span class="p">,</span>
      <span class="na">AssumeCosts</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">FundingSource</span><span class="p">:</span> <span class="s1">'Balance'</span><span class="p">,</span>
      <span class="na">Total</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span>
      <span class="na">Fees</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="na">CreatedDate</span><span class="p">:</span> <span class="s1">'2014-08-05T00:01:06Z'</span><span class="p">,</span>
      <span class="na">Status</span><span class="p">:</span> <span class="s1">'complete'</span><span class="p">,</span>
      <span class="na">ItemSummary</span><span class="p">:</span> <span class="p">{</span>
         <span class="na">Count</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
         <span class="na">Completed</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
         <span class="na">Successful</span><span class="p">:</span> <span class="mi">3</span>
      <span class="p">}</span>
   <span class="p">},</span>
   <span class="p">{</span>
      <span class="na">Id</span><span class="p">:</span> <span class="s1">'68e22e63-c3cb-45e6-bf04-a37201717e5d'</span><span class="p">,</span>
      <span class="na">UserJobId</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="na">AssumeCosts</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">FundingSource</span><span class="p">:</span> <span class="s1">'76fe6c3ff2417eb02a9019c25c9a259d'</span><span class="p">,</span>
      <span class="na">Total</span><span class="p">:</span> <span class="mi">10080000</span><span class="p">,</span>
      <span class="na">Fees</span><span class="p">:</span> <span class="mi">504</span><span class="p">,</span>
      <span class="na">CreatedDate</span><span class="p">:</span> <span class="s1">'2014-07-24T22:25:18Z'</span><span class="p">,</span>
      <span class="na">Status</span><span class="p">:</span> <span class="s1">'complete'</span><span class="p">,</span>
      <span class="na">ItemSummary</span><span class="p">:</span> <span class="p">{</span>
         <span class="na">Count</span><span class="p">:</span> <span class="mi">2016</span><span class="p">,</span>
         <span class="na">Completed</span><span class="p">:</span> <span class="mi">2016</span><span class="p">,</span>
         <span class="na">Successful</span><span class="p">:</span> <span class="mi">1832</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"UserJobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I've got a job for ya"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"AssumeCosts"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"FundingSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Total"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"CreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-18T05:51:34Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemSummary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"634de23d-ab50-4a53-bcd2-a310017794a8"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"UserJobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I've got another job for ya"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"AssumeCosts"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"FundingSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"CreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-18T05:47:26Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemSummary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List a user&rsquo;s existing MassPay jobs.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Transactions</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/masspay/</code></p>

<table><thead>
<tr>
<th>Optional Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>Retrieve up to <code class="prettyprint">limit</code> number of results</td>
</tr>
<tr>
<td>skip</td>
<td>Pagination marker.  Start retrieving results after <code class="prettyprint">skip</code> number of elements in the set of results.</td>
</tr>
</tbody></table>

<p>You can optionally provide the <code class="prettyprint">skip</code> and <code class="prettyprint">limit</code> querystring parameters to limit the number of results returned, and to offset the results by <code class="prettyprint">skip</code> number of items.  For example, to retrieve the first 20 results after the first 5 in the set of results:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/masspay/?limit=20&amp;skip=5</code></p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid limit.</td>
<td>The value for limit is invalid.</td>
</tr>
<tr>
<td>Invalid skip.</td>
<td>The value for skip is invalid.</td>
</tr>
</tbody></table>
<h2 id='retrieve-job'>Retrieve Job</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$MassPay</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\MassPay</span><span class="p">();</span>
<span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">getJob</span><span class="p">(</span><span class="s1">'8b116429-95c8-428f-be0f-a3ce017cba53'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code>
<span class="c"># Get information about a MassPay</span>
<span class="c"># job with ID 'abcd123456'</span>

<span class="k">print</span><span class="p">(</span><span class="n">masspay</span><span class="o">.</span><span class="n">getjob</span><span class="p">(</span><span class="s">"abcd123456"</span><span class="p">))</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">MassPay</span><span class="p">.</span><span class="nf">getJob</span><span class="p">(</span><span class="s1">'68e22e63-c3cb-45e6-bf04-a37201717e5d'</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">jobId</span> <span class="o">=</span> <span class="s1">'68e22e63-c3cb-45e6-bf04-a37201717e5d'</span><span class="p">;</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">getMassPayJob</span><span class="p">(</span><span class="nx">jobId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; '8b116429-95c8-428f-be0f-a3ce017cba53',
  'UserJobId' =&gt; NULL,
  'AssumeCosts' =&gt; true,
  'FundingSource' =&gt; '5da016f7769bcb1de9938a30d194d5a7',
  'Total' =&gt; 15.80,
  'Fees' =&gt; 0,
  'CreatedDate' =&gt; '2014-10-24T23:06:08Z',
  'Status' =&gt; 'complete',
  'ItemSummary' =&gt;
  array (
    'Count' =&gt; 2,
    'Completed' =&gt; 2,
    'Successful' =&gt; 2,
  ),
)
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
        <span class="s">"Id"</span><span class="p">:</span> <span class="s">"abcd123456"</span><span class="p">,</span>
        <span class="s">"AssumeCosts"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s">"FundingSource"</span><span class="p">:</span> <span class="s">"Balance"</span><span class="p">,</span>
        <span class="s">"Total"</span><span class="p">:</span> <span class="mf">3.00</span><span class="p">,</span>
        <span class="s">"Fees"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s">"CreatedDate"</span><span class="p">:</span> <span class="s">"2014-04-18T05:49:03Z"</span><span class="p">,</span>
        <span class="s">"Status"</span><span class="p">:</span> <span class="s">"complete"</span><span class="p">,</span>
        <span class="s">"ItemSummary"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Count"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s">"Completed"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s">"Successful"</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Id"</span>            <span class="o">=&gt;</span> <span class="s2">"256f7554-9bcb-4399-97d8-a34c00bb20b1"</span><span class="p">,</span>
  <span class="s2">"UserJobId"</span>     <span class="o">=&gt;</span> <span class="s2">"efnwjkefnkwjnknkjnk"</span><span class="p">,</span>
  <span class="s2">"AssumeCosts"</span>   <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="s2">"FundingSource"</span> <span class="o">=&gt;</span> <span class="s2">"Balance"</span><span class="p">,</span>
  <span class="s2">"Total"</span>         <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">02</span><span class="p">,</span>
  <span class="s2">"Fees"</span>          <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"CreatedDate"</span>   <span class="o">=&gt;</span> <span class="s2">"2014-06-16T18:21:18Z"</span><span class="p">,</span>
  <span class="s2">"Status"</span>        <span class="o">=&gt;</span> <span class="s2">"complete"</span><span class="p">,</span>
  <span class="s2">"ItemSummary"</span>   <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Count"</span>      <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">"Completed"</span>  <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">"Successful"</span> <span class="o">=&gt;</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">Id</span><span class="p">:</span> <span class="s1">'68e22e63-c3cb-45e6-bf04-a37201717e5d'</span><span class="p">,</span>
  <span class="nx">UserJobId</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">AssumeCosts</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">FundingSource</span><span class="err">:</span> <span class="s1">'76fe6c3ff2417eb02a9019c25c9a259d'</span><span class="p">,</span>
  <span class="nx">Total</span><span class="err">:</span> <span class="mi">10080000</span><span class="p">,</span>
  <span class="nx">Fees</span><span class="err">:</span> <span class="mi">504</span><span class="p">,</span>
  <span class="nx">CreatedDate</span><span class="err">:</span> <span class="s1">'2014-07-24T22:25:18Z'</span><span class="p">,</span>
  <span class="nx">Status</span><span class="err">:</span> <span class="s1">'complete'</span><span class="p">,</span>
  <span class="nx">ItemSummary</span><span class="err">:</span> <span class="p">{</span>
     <span class="nl">Count</span><span class="p">:</span> <span class="mi">2016</span><span class="p">,</span>
     <span class="nx">Completed</span><span class="err">:</span> <span class="mi">2016</span><span class="p">,</span>
     <span class="nx">Successful</span><span class="err">:</span> <span class="mi">1832</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"UserJobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"somejob"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AssumeCosts"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FundingSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Total"</span><span class="p">:</span><span class="w"> </span><span class="mf">240.52</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Fees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-18T05:51:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ItemSummary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Look up a particular MassPay job by its ID.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Transactions</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/masspay/{id}</code></p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid job id.</td>
<td>The value for job id is invalid.</td>
</tr>
</tbody></table>
<h2 id='list-a-job39s-items'>List a Job&rsquo;s Items</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$MassPay</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\MassPay</span><span class="p">();</span>
<span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">getJobItems</span><span class="p">(</span><span class="s1">'8b116429-95c8-428f-be0f-a3ce017cba53'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">jobId</span> <span class="o">=</span> <span class="s1">'643f2db9-5b45-4755-a881-a3100178b6d7'</span><span class="p">;</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">getMassPayJobItems</span><span class="p">(</span><span class="nx">jobId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get items from MassPay job ID with 'abcd1234'</span>
<span class="n">items</span> <span class="o">=</span> <span class="n">masspay</span><span class="o">.</span><span class="n">getjobitems</span><span class="p">(</span><span class="s">"abcd1234"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">MassPay</span><span class="p">.</span><span class="nf">getItems</span><span class="p">(</span><span class="s1">'256f7554-9bcb-4399-97d8-a34c00bb20b1'</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'JobId' =&gt; '8b116429-95c8-428f-be0f-a3ce017cba53',
    'ItemId' =&gt; 482764,
    'Destination' =&gt; 'gordon@dwolla.com',
    'DestinationType' =&gt; 'email',
    'Amount' =&gt; 3.4,
    'Status' =&gt; 'success',
    'TransactionId' =&gt; 347927,
    'Error' =&gt; NULL,
    'CreatedDate' =&gt; '2014-10-24T23:06:08Z',
    'Metadata' =&gt; NULL,
  ),
  1 =&gt;
  array (
    'JobId' =&gt; '8b116429-95c8-428f-be0f-a3ce017cba53',
    'ItemId' =&gt; 482765,
    'Destination' =&gt; '812-742-3301',
    'DestinationType' =&gt; 'dwolla',
    'Amount' =&gt; 12.4,
    'Status' =&gt; 'success',
    'TransactionId' =&gt; 347929,
    'Error' =&gt; NULL,
    'CreatedDate' =&gt; '2014-10-24T23:06:08Z',
    'Metadata' =&gt; NULL,
  ),
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"JobId"</span>           <span class="o">=&gt;</span> <span class="s2">"256f7554-9bcb-4399-97d8-a34c00bb20b1"</span><span class="p">,</span>
    <span class="s2">"ItemId"</span>          <span class="o">=&gt;</span> <span class="mi">17053</span><span class="p">,</span>
    <span class="s2">"Destination"</span>     <span class="o">=&gt;</span> <span class="s2">"reflector@dwolla.com"</span><span class="p">,</span>
    <span class="s2">"DestinationType"</span> <span class="o">=&gt;</span> <span class="s2">"email"</span><span class="p">,</span>
    <span class="s2">"Amount"</span>          <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">01</span><span class="p">,</span>
    <span class="s2">"Status"</span>          <span class="o">=&gt;</span> <span class="s2">"success"</span><span class="p">,</span>
    <span class="s2">"TransactionId"</span>   <span class="o">=&gt;</span> <span class="mi">61966</span><span class="p">,</span>
    <span class="s2">"Error"</span>           <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"CreatedDate"</span>     <span class="o">=&gt;</span> <span class="s2">"2014-06-16T18:21:18Z"</span><span class="p">,</span>
    <span class="s2">"Metadata"</span>        <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"lol"</span> <span class="o">=&gt;</span> <span class="s2">"foo"</span><span class="p">,</span>
      <span class="s2">"bar"</span> <span class="o">=&gt;</span> <span class="s2">"qux"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"JobId"</span>           <span class="o">=&gt;</span> <span class="s2">"256f7554-9bcb-4399-97d8-a34c00bb20b1"</span><span class="p">,</span>
    <span class="s2">"ItemId"</span>          <span class="o">=&gt;</span> <span class="mi">17054</span><span class="p">,</span>
    <span class="s2">"Destination"</span>     <span class="o">=&gt;</span> <span class="s2">"812-713-9234"</span><span class="p">,</span>
    <span class="s2">"DestinationType"</span> <span class="o">=&gt;</span> <span class="s2">"dwolla"</span><span class="p">,</span>
    <span class="s2">"Amount"</span>          <span class="o">=&gt;</span> <span class="mi">0</span><span class="o">.</span><span class="mo">01</span><span class="p">,</span>
    <span class="s2">"Status"</span>          <span class="o">=&gt;</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"TransactionId"</span>   <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"Error"</span>           <span class="o">=&gt;</span> <span class="s2">"The user to send to could not be found."</span><span class="p">,</span>
    <span class="s2">"CreatedDate"</span>     <span class="o">=&gt;</span> <span class="s2">"2014-06-16T18:21:18Z"</span><span class="p">,</span>
    <span class="s2">"Metadata"</span>        <span class="o">=&gt;</span> <span class="kp">nil</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight python"><code><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"JobId"</span><span class="p">:</span> <span class="s">"abcd12345"</span><span class="p">,</span>
            <span class="s">"ItemId"</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
            <span class="s">"Destination"</span><span class="p">:</span> <span class="s">"812-197-4121"</span><span class="p">,</span>
            <span class="s">"DestinationType"</span><span class="p">:</span> <span class="s">"dwolla"</span><span class="p">,</span>
            <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">1.00</span><span class="p">,</span>
            <span class="s">"Status"</span><span class="p">:</span> <span class="s">"success"</span><span class="p">,</span>
            <span class="s">"TransactionId"</span><span class="p">:</span> <span class="mi">4938766</span><span class="p">,</span>
            <span class="s">"Error"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"CreatedDate"</span><span class="p">:</span> <span class="s">"2014-04-18T05:51:34Z"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">"JobId"</span><span class="p">:</span> <span class="s">"abcd12345"</span><span class="p">,</span>
            <span class="s">"ItemId"</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
            <span class="s">"Destination"</span><span class="p">:</span> <span class="s">"812-174-9528"</span><span class="p">,</span>
            <span class="s">"DestinationType"</span><span class="p">:</span> <span class="s">"dwolla"</span><span class="p">,</span>
            <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">2.00</span><span class="p">,</span>
            <span class="s">"Status"</span><span class="p">:</span> <span class="s">"success"</span><span class="p">,</span>
            <span class="s">"TransactionId"</span><span class="p">:</span> <span class="mi">4938768</span><span class="p">,</span>
            <span class="s">"Error"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"CreatedDate"</span><span class="p">:</span> <span class="s">"2014-04-18T05:51:34Z"</span><span class="p">,</span>
            <span class="s">"Metadata"</span><span class="p">:</span> <span class="n">null</span> 
        <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"JobId"</span><span class="err">:</span> <span class="s2">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span>
  <span class="s2">"ItemId"</span><span class="err">:</span> <span class="mi">13</span><span class="p">,</span>
  <span class="s2">"Destination"</span><span class="err">:</span> <span class="s2">"reflector@dwolla.com"</span><span class="p">,</span>
  <span class="s2">"DestinationType"</span><span class="err">:</span> <span class="s2">"email"</span><span class="p">,</span>
  <span class="s2">"Amount"</span><span class="err">:</span> <span class="mf">0.01</span><span class="p">,</span>
  <span class="s2">"Status"</span><span class="err">:</span> <span class="s2">"success"</span><span class="p">,</span>
  <span class="s2">"TransactionId"</span><span class="err">:</span> <span class="mi">4938766</span><span class="p">,</span>
  <span class="s2">"Error"</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"CreatedDate"</span><span class="err">:</span> <span class="s2">"2014-04-18T05:51:34Z"</span><span class="p">,</span>
  <span class="s2">"Metadata"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"some meta data"</span><span class="err">:</span>  <span class="s2">"hello world!"</span><span class="p">,</span>
      <span class="s2">"profound realization"</span><span class="err">:</span> <span class="s2">"cats"</span>
  <span class="p">}</span>
<span class="p">},</span>
<span class="p">{</span>
  <span class="s2">"JobId"</span><span class="p">:</span> <span class="s2">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span>
  <span class="s2">"ItemId"</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
  <span class="s2">"Destination"</span><span class="p">:</span> <span class="s2">"812-713-9234"</span><span class="p">,</span>
  <span class="s2">"DestinationType"</span><span class="p">:</span> <span class="s2">"dwolla"</span><span class="p">,</span>
  <span class="s2">"Amount"</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
  <span class="s2">"Status"</span><span class="p">:</span> <span class="s2">"success"</span><span class="p">,</span>
  <span class="s2">"TransactionId"</span><span class="p">:</span> <span class="mi">4938768</span><span class="p">,</span>
  <span class="s2">"Error"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"CreatedDate"</span><span class="p">:</span> <span class="s2">"2014-04-18T05:51:34Z"</span><span class="p">,</span>
  <span class="s2">"Metadata"</span><span class="p">:</span> <span class="kc">null</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"JobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemId"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reflector@dwolla.com"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"DestinationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4938766</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"CreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-18T05:51:34Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"some meta data"</span><span class="p">:</span><span class="w">  </span><span class="s2">"hello world!"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"profound realization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cats"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"JobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"ItemId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-713-9234"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"DestinationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4938768</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"CreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-18T05:51:34Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> 
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve the items for a particular MassPay job.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Transactions</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/masspay/{id}/items</code></p>

<table><thead>
<tr>
<th>Optional Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>Retrieve up to <code class="prettyprint">limit</code> number of results</td>
</tr>
<tr>
<td>skip</td>
<td>Pagination marker.  Start retrieving results after <code class="prettyprint">skip</code> number of elements in the set of results.</td>
</tr>
<tr>
<td>status</td>
<td>Filter results on <a href="request.html#item-statuses">Item status</a>. Possible values: <code class="prettyprint">notrun</code>, <code class="prettyprint">success</code>, <code class="prettyprint">failed</code></td>
</tr>
</tbody></table>

<p>You can optionally provide the <code class="prettyprint">skip</code> and <code class="prettyprint">limit</code> querystring parameters to limit the number of results returned, and to offset the results by <code class="prettyprint">skip</code> number of items.  For example, to retrieve the first 20 results after the first 5 in the set of results:</p>

<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/masspay/{id}/items?limit=20&amp;skip=5</code></p>
<h3 id='item-statuses'>Item Statuses</h3>
<p>In the response, each <code class="prettyprint">Item</code> will contain an item <code class="prettyprint">Status</code> that corresponds to the success or fail of that particular transaction. A MassPay Job Item can contain a status of either <code class="prettyprint">notrun</code>, <code class="prettyprint">success</code>, or <code class="prettyprint">failed</code>.</p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid limit.</td>
<td>The value for limit is invalid.</td>
</tr>
<tr>
<td>Invalid skip.</td>
<td>The value for skip is invalid.</td>
</tr>
<tr>
<td>Invalid status.</td>
<td>The value for status is invalid.</td>
</tr>
</tbody></table>
<h2 id='retrieve-a-job39s-item'>Retrieve a Job&rsquo;s Item</h2><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">jobId</span> <span class="o">=</span> <span class="s1">'9ed0f61a-5cc9-4f36-a7c1-a37e0001c55e'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">itemId</span> <span class="o">=</span> <span class="s1">'424792'</span><span class="p">;</span>

<span class="nx">dwolla</span><span class="p">.</span><span class="nx">getMassPayJobItem</span><span class="p">(</span><span class="nx">jobId</span><span class="p">,</span> <span class="nx">itemId</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Retrieve item 43432 from job with ID aaad1324</span>

<span class="k">print</span><span class="p">(</span><span class="n">masspay</span><span class="o">.</span><span class="n">getitem</span><span class="p">(</span><span class="s">"aaad1324"</span><span class="p">,</span> <span class="s">"43432"</span><span class="p">)</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Retrieve item 17054 from Job 256f7554-9bcb-4399-97d8-a34c00bb20b1: </span>

<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">MassPay</span><span class="p">.</span><span class="nf">getItem</span><span class="p">(</span><span class="s1">'256f7554-9bcb-4399-97d8-a34c00bb20b1'</span><span class="p">,</span> <span class="s1">'17054'</span><span class="p">)</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$MassPay</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\MassPay</span><span class="p">();</span>
<span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$MassPay</span><span class="o">-&gt;</span><span class="na">getItem</span><span class="p">(</span><span class="s1">'8b116429-95c8-428f-be0f-a3ce017cba53'</span><span class="p">,</span> <span class="s1">'482765'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'JobId' =&gt; '8b116429-95c8-428f-be0f-a3ce017cba53',
  'ItemId' =&gt; 482765,
  'Destination' =&gt; '812-742-3301',
  'DestinationType' =&gt; 'dwolla',
  'Amount' =&gt; 12.4,
  'Status' =&gt; 'success',
  'TransactionId' =&gt; 347929,
  'Error' =&gt; NULL,
  'CreatedDate' =&gt; '2014-10-24T23:06:08Z',
  'Metadata' =&gt; NULL,
)
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
    <span class="s">"JobId"</span><span class="p">:</span> <span class="s">"aaad1324"</span><span class="p">,</span>
    <span class="s">"ItemId"</span><span class="p">:</span> <span class="mi">43432</span><span class="p">,</span>
    <span class="s">"Destination"</span><span class="p">:</span> <span class="s">"812-197-4121"</span><span class="p">,</span>
    <span class="s">"DestinationType"</span><span class="p">:</span> <span class="s">"dwolla"</span><span class="p">,</span>
    <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">1.00</span><span class="p">,</span>
    <span class="s">"Status"</span><span class="p">:</span> <span class="s">"success"</span><span class="p">,</span>
    <span class="s">"TransactionId"</span><span class="p">:</span> <span class="mi">4938766</span><span class="p">,</span>
    <span class="s">"Error"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s">"CreatedDate"</span><span class="p">:</span> <span class="s">"2014-04-18T05:51:34Z"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">JobId</span><span class="p">:</span> <span class="s1">'9ed0f61a-5cc9-4f36-a7c1-a37e0001c55e'</span><span class="p">,</span>
  <span class="nx">ItemId</span><span class="err">:</span> <span class="mi">424792</span><span class="p">,</span>
  <span class="nx">Destination</span><span class="err">:</span> <span class="s1">'a@example.com'</span><span class="p">,</span>
  <span class="nx">DestinationType</span><span class="err">:</span> <span class="s1">'email'</span><span class="p">,</span>
  <span class="nx">Amount</span><span class="err">:</span> <span class="mf">0.01</span><span class="p">,</span>
  <span class="nx">Status</span><span class="err">:</span> <span class="s1">'success'</span><span class="p">,</span>
  <span class="nx">TransactionId</span><span class="err">:</span> <span class="mi">290128</span><span class="p">,</span>
  <span class="nb">Error</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">CreatedDate</span><span class="err">:</span> <span class="s1">'2014-08-05T00:06:26Z'</span><span class="p">,</span>
  <span class="nx">Metadata</span><span class="err">:</span> <span class="kc">null</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"JobId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"643f2db9-5b45-4755-a881-a3100178b6d7"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ItemId"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-713-9234"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DestinationType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dwolla"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4938768</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-04-18T05:51:34Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"some meta data"</span><span class="p">:</span><span class="w">  </span><span class="s2">"hello world!"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"profound realization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cats"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a particular MassPay Job Item, by the Job ID and Item ID.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Transactions</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/masspay/{job_id}/items/{item_id}</code></p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid job id.</td>
<td>The value for job id is invalid.</td>
</tr>
<tr>
<td>Invalid job item id.</td>
<td>The value for item id is invalid.</td>
</tr>
</tbody></table>

          <h1 id='refund'>Refund</h1><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">11.25</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fundsSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Balance"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pin"</span><span class="p">:</span><span class="w"> </span><span class="mi">9999</span><span class="p">,</span><span class="w">
  </span><span class="nt">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2427171</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight javascript"><code><span class="cm">/**
 * Process a refund for transaction '123456',
 * funding the refund from funding source ID '7654321'
 * for amount $10.00
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">refund</span><span class="p">(</span><span class="nx">pin</span><span class="p">,</span> <span class="s1">'12345'</span><span class="p">,</span> <span class="s1">'7654321'</span><span class="p">,</span> <span class="mf">10.00</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight ruby"><code><span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Transactions</span><span class="p">.</span><span class="nf">refund</span><span class="p">({</span>
  <span class="ss">:transactionId</span> <span class="o">=&gt;</span> <span class="s2">"341617"</span><span class="p">,</span>
  <span class="ss">:fundsSource</span> <span class="o">=&gt;</span> <span class="s2">"Balance"</span><span class="p">,</span>
  <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="s2">"9999"</span><span class="p">,</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">20</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="cm">/*
 * Refund transaction ID 347940 for the amount of $20.00,
 * and fund the refund with the merchant's account balance.
 */</span>

<span class="nv">$Transactions</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Transactions</span><span class="p">();</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
<span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">pin</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>

<span class="nv">$transactionId</span> <span class="o">=</span> <span class="s1">'347940'</span><span class="p">;</span>
<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="s1">'Balance'</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Transactions</span><span class="o">-&gt;</span><span class="na">refund</span><span class="p">(</span><span class="nv">$transactionId</span><span class="p">,</span> <span class="nv">$fundingSource</span><span class="p">,</span> <span class="mf">20.00</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Refund $2 from "Balance" from transaction</span>
<span class="c"># '123456'</span>

<span class="k">print</span><span class="p">(</span><span class="n">transactions</span><span class="o">.</span><span class="n">refund</span><span class="p">(</span><span class="s">'3452346'</span><span class="p">,</span> <span class="s">'Balance'</span><span class="p">,</span> <span class="mf">2.00</span><span class="p">))</span>
</code></pre>

<blockquote>
<p>Response: </p>
</blockquote>
<pre class="highlight php"><code>array (
  'TransactionId' =&gt; 347944,
  'RefundDate' =&gt; '10/24/2014 23:23:20',
  'Amount' =&gt; 20,
)
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
    <span class="s">"TransactionId"</span><span class="p">:</span> <span class="mi">4532</span><span class="p">,</span>
    <span class="s">"RefundDate"</span><span class="p">:</span> <span class="s">"2014-12-10T12:01:09Z"</span><span class="p">,</span>
    <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">2.00</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"TransactionId"</span> <span class="o">=&gt;</span> <span class="mi">341621</span><span class="p">,</span>
  <span class="s2">"RefundDate"</span>    <span class="o">=&gt;</span> <span class="s2">"10/20/2014 05:51:43"</span><span class="p">,</span>
  <span class="s2">"Amount"</span>        <span class="o">=&gt;</span> <span class="mi">20</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"TransactionId"</span><span class="err">:</span> <span class="mi">123458</span><span class="p">,</span>
  <span class="s2">"RefundDate"</span><span class="err">:</span> <span class="s2">"2014-01-22T17:47:04Z"</span><span class="p">,</span>
  <span class="s2">"Amount"</span><span class="err">:</span> <span class="mi">10</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">8522</span><span class="p">,</span><span class="w">
        </span><span class="nt">"RefundDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-22T17:47:04Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Commercial, Non-Profit, and Government type accounts can refund payments that have been received.  There is no limit on the window of time in which a payment can be refunded.  Individual accounts currently cannot refund payments.</p>

<p>A refund creates a new transaction. The refund amount can be up to the total payment amount, plus any facilitator fees assumed by the sender.</p>

<p>The Refund API requires the <a href="request.html#how-transactions-work"><em>Recipient&rsquo;s</em> Transaction ID</a> to be provided.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Send</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/transactions/refund</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Param</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fundsSource</td>
<td>no</td>
<td>ID of <a href="request.html#funding-sources">funding source</a> from which to fund the payments</td>
</tr>
<tr>
<td>pin</td>
<td>no</td>
<td>User account PIN</td>
</tr>
<tr>
<td>transactionId</td>
<td>no</td>
<td><a href="request.html#how-transactions-work"><em>Recipient&rsquo;s</em> Transaction ID</a> of the payment to be refunded.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Note to attach to the refund.  Visible to refunder and recipient of refund.  Max 250 chars.</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>An optional <a href="request.html#metadata">metadata</a> object.</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response Parameters</h3>
<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TransactionId</td>
<td>Transaction ID of the newly created refund payment</td>
</tr>
<tr>
<td>RefundDate</td>
<td>Timestamp when refund was created</td>
</tr>
<tr>
<td>Amount</td>
<td>Amount refunded</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid access token.</td>
<td>Access token not valid.</td>
</tr>
<tr>
<td>Transaction ineligible for refund.</td>
<td>Cannot refund the transaction, for one of the following reasons: user is not recipient of a transaction, user is not a Commercial or Non-Profit type account</td>
</tr>
<tr>
<td>Invalid refund amount.</td>
<td>Refund amount is either less than 0.01 or not equal to or less than the original transaction amount.</td>
</tr>
</tbody></table>

          <h1 id='money-requests'>Money Requests</h1><pre class="highlight plaintext"><code>    __  ___                      
   /  |/  /___  ____  ___  __  __
  / /|_/ / __ \/ __ \/ _ \/ / / /
 / /  / / /_/ / / / /  __/ /_/ / 
/_/  /_/\____/_/ /_/\___/\__, /  
                        /____/   
    ____                             __      
   / __ \___  ____ ___  _____  _____/ /______
  / /_/ / _ \/ __ `/ / / / _ \/ ___/ __/ ___/
 / _, _/  __/ /_/ / /_/ /  __(__  ) /_(__  ) 
/_/ |_|\___/\__, /\__,_/\___/____/\__/____/  
              /_/      
</code></pre>
<pre class="highlight shell"><code><span class="o">{</span>
    <span class="s2">"Id"</span>: 1636,
    <span class="s2">"Source"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-742-8722"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Cafe Kubal"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
        <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
    <span class="o">}</span>,
    <span class="s2">"Destination"</span>: <span class="o">{</span>
        <span class="s2">"Id"</span>: <span class="s2">"812-742-3301"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"Gordon Zheng"</span>,
        <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
        <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-742-3301"</span>
    <span class="o">}</span>,
    <span class="s2">"Amount"</span>: 0.01,
    <span class="s2">"Notes"</span>: <span class="s2">""</span>,
    <span class="s2">"DateRequested"</span>: <span class="s2">"2014-10-01T19:50:54Z"</span>,
    <span class="s2">"Status"</span>: <span class="s2">"Paid"</span>,
    <span class="s2">"Transaction"</span>: <span class="o">{</span>
        <span class="s2">"RequestId"</span>: 1636,
        <span class="s2">"Id"</span>: 335741,
        <span class="s2">"Source"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-742-3301"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Gordon Zheng"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
            <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-742-3301"</span>
        <span class="o">}</span>,
        <span class="s2">"Destination"</span>: <span class="o">{</span>
            <span class="s2">"Id"</span>: <span class="s2">"812-742-8722"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Cafe Kubal"</span>,
            <span class="s2">"Type"</span>: <span class="s2">"Dwolla"</span>,
            <span class="s2">"Image"</span>: <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
        <span class="o">}</span>,
        <span class="s2">"Amount"</span>: 0.01,
        <span class="s2">"SentDate"</span>: <span class="s2">"2014-10-01T19:51:52Z"</span>,
        <span class="s2">"ClearingDate"</span>: <span class="s2">"2014-10-01T19:51:52Z"</span>,
        <span class="s2">"Status"</span>: <span class="s2">"processed"</span>
    <span class="o">}</span>,
    <span class="s2">"CancelledBy"</span>: null,
    <span class="s2">"DateCancelled"</span>: <span class="s2">""</span>,
    <span class="s2">"SenderAssumeAdditionalFees"</span>: <span class="nb">false</span>,
    <span class="s2">"AdditionalFees"</span>: <span class="o">[]</span>,
    <span class="s2">"Metadata"</span>: null
<span class="o">}</span>
</code></pre>

<p>Money Requests are sent from a Dwolla user to another Dwolla user, phone number or email address.  A Money Request is essentially an invoice, requesting payment from the recipient of the request.</p>

<p>Money Requests can be fulfilled for the amount of the request or greater whenever the payer decides to do so.  When fulfilled, a RequestFulfilled webhook notification is sent.  Money Requests can also be cancelled by either the sender of the request or the recipient of the request.  When cancelled, a RequestCancelled webhook notification is sent.</p>

<p>Money requests do not expire.</p>
<h3 id='money-request-statuses'>Money Request Statuses</h3>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Pending</td>
<td>Intitial state upon creation.  Not yet fulfilled.</td>
</tr>
<tr>
<td>Paid</td>
<td>Payer has fulfilled the request and a payment has been sent for the request amount or greater.</td>
</tr>
<tr>
<td>Cancelled</td>
<td>Request was cancelled by either payer or requester.</td>
</tr>
</tbody></table>
<h3 id='money-request-resource'>Money Request Resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Id</td>
<td>Unique Request ID</td>
</tr>
<tr>
<td>Source</td>
<td>JSON object describing the requester: Dwolla ID, full name, user type (will always be <code class="prettyprint">Dwolla</code>, since only Dwolla user accounts can request money), and profile avatar URL</td>
</tr>
<tr>
<td>Destination</td>
<td>JSON object describing the payer: DestinationId (a Dwolla ID, email, or phone number), full name (if Dwolla account, otherwise, the email or phone number), user type, and profile avatar URL (<code class="prettyprint">null</code> if not a user yet)</td>
</tr>
<tr>
<td>Amount</td>
<td>Amount of funds requested</td>
</tr>
<tr>
<td>Notes</td>
<td>Optional notes attached to Money Request</td>
</tr>
<tr>
<td>DateRequested</td>
<td>Date and time when Money Request was created</td>
</tr>
<tr>
<td>Status</td>
<td>Status of Money Request.  <a href="request.html#money-request-statuses">See statuses</a>.</td>
</tr>
<tr>
<td>Transaction</td>
<td>If fulfilled, a JSON object representing the resulting Transaction.  Otherwise, <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>CancelledBy</td>
<td>If cancelled, a JSON object representing the user who cancelled the request.  Otherwise, <code class="prettyprint">null</code>.</td>
</tr>
<tr>
<td>DateCancelled</td>
<td>If cancelled, the date and time when the request was cancelled.  Otherwise, empty string: <code class="prettyprint">&quot;&quot;</code>.</td>
</tr>
<tr>
<td>SenderAssumeFee</td>
<td>Boolean.  Deprecated</td>
</tr>
<tr>
<td>SenderAssumeAdditionalFees</td>
<td>Boolean.  <code class="prettyprint">true</code> if sender will assume all facilitator fees.</td>
</tr>
<tr>
<td>AdditionalFees</td>
<td>Any additional facilitator fees attached to the request.</td>
</tr>
<tr>
<td>Metadata</td>
<td>An optional <a href="request.html#metadata">metadata</a> object.</td>
</tr>
</tbody></table>
<h2 id='create-money-request'>Create Money Request</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>

<span class="c1">// Request $20 from email gordon@dwolla.com
</span>
<span class="nv">$Requests</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Requests</span><span class="p">();</span>
<span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">'gordon@dwolla.com'</span><span class="p">,</span> <span class="mf">20.00</span><span class="p">,</span> <span class="p">[</span>
  <span class="s1">'sourceType'</span> <span class="o">=&gt;</span> <span class="s1">'Email'</span><span class="p">,</span>
  <span class="s1">'notes'</span> <span class="o">=&gt;</span> <span class="s1">'You owe me money!'</span>
<span class="p">]);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Request 1.00 from a Dwolla ID</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Requests</span><span class="p">.</span><span class="nf">create</span><span class="p">({</span><span class="ss">:sourceId</span><span class="o">=&gt;</span> <span class="s1">'812-742-8722'</span><span class="p">,</span> <span class="ss">:amount</span><span class="o">=&gt;</span> <span class="s1">'1.00'</span><span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Request $5 from 812-740-3809</span>

<span class="k">print</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s">'812-740-3809'</span><span class="p">,</span> <span class="mf">5.00</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * Request $5 from Source ID '812-111-1111'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="s1">'812-111-1111'</span><span class="p">,</span> <span class="s1">'5.00'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>1670        // request ID
</code></pre>
<pre class="highlight python"><code><span class="mi">1470</span> <span class="c"># Request ID</span>
</code></pre>
<pre class="highlight ruby"><code><span class="mi">1652</span>      <span class="c1"># request ID</span>
</code></pre>
<pre class="highlight javascript"><code><span class="mi">1288</span>        <span class="c1">// Request ID</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="mi">996</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Send a Money Request from the authorized user to a destination Dwolla user, email address or phone number.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Request</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/requests/</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sourceId</td>
<td>no</td>
<td>ID of user to request funds from. Must be either a Dwolla ID, phone number, or email address.</td>
</tr>
<tr>
<td>amount</td>
<td>no</td>
<td>Amount of funds to request</td>
</tr>
<tr>
<td>sourceType</td>
<td>yes</td>
<td>Type of source user (either <code class="prettyprint">Dwolla</code>, <code class="prettyprint">Email</code> or <code class="prettyprint">Phone</code>).  Defaults to <code class="prettyprint">Dwolla</code>.</td>
</tr>
<tr>
<td>facilitatorAmount</td>
<td>yes</td>
<td>Amount of the facilitator feeto override. Only applicable if the facilitator fee feature is enabled for your API application. If set to 0, facilitator fee is disabled for transaction. Cannot exceed 50% of the <code class="prettyprint">amount</code>.</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Note to attach to request (250 character limit).</td>
</tr>
<tr>
<td>senderAssumeCosts</td>
<td>yes</td>
<td>Deprecated</td>
</tr>
<tr>
<td>senderAssumeAdditionalFees</td>
<td>yes</td>
<td>Set to <code class="prettyprint">true</code> if the fulfilling user is to assume all facilitator fees. Defaults to <code class="prettyprint">false</code>; does not include the Dwolla transaction fee.</td>
</tr>
<tr>
<td>additionalFees</td>
<td>yes</td>
<td>Array of additional facilitator fee objects.  <code class="prettyprint">[{&quot;destinationId&quot;: &quot;&quot;, &quot;amount&quot;: 0.01}, ...]</code></td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>Optional JSON object of a maximum of 10 key-value pairs (each key and value must be less than 255 characters).  <a href="request.html#metadata">Read more</a></td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Notes length is too long. Maximum of 250 character is allowed.</td>
<td>The &lsquo;notes&rsquo; parameter is too long. See requests parameters for further details.</td>
</tr>
<tr>
<td>The user to send to could not be found.</td>
<td>Could not find the speicified source user + source type combination.</td>
</tr>
<tr>
<td>You can only send money to one of your Twitter followers.</td>
<td>You can only request money from one of your Twitter followers.</td>
</tr>
<tr>
<td>Invalid facilitator user.</td>
<td></td>
</tr>
<tr>
<td>Facilitator fee too large.</td>
<td>Facilitator fee cannot exceed 50% of the amount.</td>
</tr>
<tr>
<td>Facilitator fee too small.</td>
<td></td>
</tr>
<tr>
<td>Money request failed. {..}</td>
<td>An unexpecetd error occured while trying to request funds. See additional response message.</td>
</tr>
</tbody></table>
<h2 id='list-money-requests'>List Money Requests</h2><pre class="highlight php"><code>/**
 * EXAMPLE 1: 
 *   Get list of pending requests
 **/
$requests = $Dwolla-&gt;requests();
if(!$requests) { echo "Error: {$Dwolla-&gt;getError()} \n"; } // Check for errors
else { print_r($requests); }
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Get all pending requests</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="n">requests</span><span class="p">.</span><span class="nf">get</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get all pending requests from the user</span>
<span class="c"># associated with the current OAuth token.</span>
<span class="k">print</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * List pending money requests for the authorized user
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">requests</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Requests</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Requests</span><span class="p">();</span>
<span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  0 =&gt;
  array (
    'Id' =&gt; 1452,
    'Source' =&gt;
    array (
      'Id' =&gt; '812-742-8722',
      'Name' =&gt; 'Cafe Kubal',
      'Type' =&gt; 'Dwolla',
      'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
    ),
    'Destination' =&gt;
    array (
      'Id' =&gt; '812-443-2936',
      'Name' =&gt; ' ',
      'Type' =&gt; 'Dwolla',
      'Image' =&gt; 'http://uat.dwolla.com/avatars/812-443-2936',
    ),
    'Amount' =&gt; 1,
    'Notes' =&gt; '',
    'DateRequested' =&gt; '2014-08-27T03:47:39Z',
    'Status' =&gt; 'Pending',
    'Transaction' =&gt; NULL,
    'CancelledBy' =&gt; NULL,
    'DateCancelled' =&gt; '',
    'SenderAssumeAdditionalFees' =&gt; false,
    'AdditionalFees' =&gt;
    array (
    ),
    'Metadata' =&gt; NULL,
  ),
  1 =&gt; array ( ... ),
  2 =&gt; array ( ... ),
  ...
)
</code></pre>
<pre class="highlight python"><code><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span>
            <span class="s">"Source"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-693-9484"</span><span class="p">,</span>
                <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Spencer Hunter"</span><span class="p">,</span>
                <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
                <span class="s">"Image"</span><span class="p">:</span> <span class="n">null</span>
            <span class="p">},</span>
            <span class="s">"Destination"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-706-1396"</span><span class="p">,</span>
                <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Jane Doe"</span><span class="p">,</span>
                <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
                <span class="s">"Image"</span><span class="p">:</span> <span class="n">null</span>
            <span class="p">},</span>
            <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">5.00</span><span class="p">,</span>
            <span class="s">"Notes"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
            <span class="s">"DateRequested"</span><span class="p">:</span> <span class="s">"2014-07-23T21:49:06Z"</span><span class="p">,</span>
            <span class="s">"Status"</span><span class="p">:</span> <span class="s">"Pending"</span> <span class="p">,</span>
            <span class="s">"Transaction"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"CancelledBy"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"DateCancelled"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
            <span class="s">"SenderAssumeAdditionalFees"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s">"AdditionalFees"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"Metadata"</span><span class="p">:</span> <span class="n">null</span> 
        <span class="p">},</span>
        <span class="o">...</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span>                         <span class="o">=&gt;</span> <span class="mi">1452</span><span class="p">,</span>
    <span class="s2">"Source"</span>                     <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
    <span class="p">},</span>
    <span class="s2">"Destination"</span>                <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-443-2936"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">" "</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-443-2936"</span>
    <span class="p">},</span>
    <span class="s2">"Amount"</span>                     <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"Notes"</span>                      <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"DateRequested"</span>              <span class="o">=&gt;</span> <span class="s2">"2014-08-27T03:47:39Z"</span><span class="p">,</span>
    <span class="s2">"Status"</span>                     <span class="o">=&gt;</span> <span class="s2">"Pending"</span><span class="p">,</span>
    <span class="s2">"Transaction"</span>                <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"CancelledBy"</span>                <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"DateCancelled"</span>              <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"SenderAssumeAdditionalFees"</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
    <span class="s2">"AdditionalFees"</span>             <span class="o">=&gt;</span> <span class="p">[],</span>
    <span class="s2">"Metadata"</span>                   <span class="o">=&gt;</span> <span class="kp">nil</span>
  <span class="p">},</span>
  <span class="p">{</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span> <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Id"</span><span class="p">:</span> <span class="mi">640</span><span class="p">,</span>
    <span class="s2">"Source"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"Id"</span><span class="p">:</span> <span class="s2">"812-693-9484"</span><span class="p">,</span>
      <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"Spencer Hunter"</span><span class="p">,</span>
      <span class="s2">"Type"</span><span class="p">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">},</span>
    <span class="s2">"Destination"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"Id"</span><span class="err">:</span> <span class="s2">"812-706-1396"</span><span class="p">,</span>
      <span class="s2">"Name"</span><span class="err">:</span> <span class="s2">"Jane Doe"</span><span class="p">,</span>
      <span class="s2">"Type"</span><span class="err">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span><span class="err">:</span> <span class="kc">null</span>
    <span class="p">},</span>
    <span class="s2">"Amount"</span><span class="err">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="s2">"Notes"</span><span class="err">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"DateRequested"</span><span class="err">:</span> <span class="s2">"2014-07-23T21:49:06Z"</span><span class="p">,</span>
    <span class="s2">"Status"</span><span class="err">:</span> <span class="s2">"Pending"</span> <span class="p">,</span>
    <span class="s2">"Transaction"</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"CancelledBy"</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="s2">"DateCancelled"</span><span class="err">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"SenderAssumeAdditionalFees"</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"AdditionalFees"</span><span class="err">:</span> <span class="p">[],</span>
    <span class="s2">"Metadata"</span><span class="err">:</span> <span class="kc">null</span> 
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">640</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-693-9484"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spencer Hunter"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-706-1396"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"DateRequested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-23T21:49:06Z"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="w"> </span><span class="p">,</span><span class="w">
            </span><span class="nt">"Transaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"CancelledBy"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nt">"DateCancelled"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"SenderAssumeAdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"AdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> 
        </span><span class="p">},</span><span class="w">

        </span><span class="err">...</span><span class="w">

    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List the authorized user&rsquo;s pending requests.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Request</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/requests/</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startDate</td>
<td>yes</td>
<td>Earliest date and time for which to retrieve pending requests (defaults to 0300 UTC for current day)</td>
</tr>
<tr>
<td>endDate</td>
<td>yes</td>
<td>Latest date and time for which to retrieve pending requests (defaults to UTC current date/time)</td>
</tr>
<tr>
<td>limit</td>
<td>yes</td>
<td>Number of pending requests to retrieve (defaults to 20, must be in range of 1-200)</td>
</tr>
</tbody></table>
<h2 id='retrieve-money-request'>Retrieve Money Request</h2><pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nv">$Requests</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Requests</span><span class="p">();</span>
<span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$requestId</span> <span class="o">=</span> <span class="s1">'1452'</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="nv">$requestId</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Example 1: Get request details for request '12345'</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s1">'12345'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get info regarding a pending money request.</span>
<span class="k">print</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="mi">1470</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * Fetch a money request by id '12345678'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">requestById</span><span class="p">(</span><span class="s1">'12345678'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'Id' =&gt; 1452,
  'Source' =&gt;
  array (
    'Id' =&gt; '812-742-8722',
    'Name' =&gt; 'Cafe Kubal',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
  ),
  'Destination' =&gt;
  array (
    'Id' =&gt; '812-443-2936',
    'Name' =&gt; ' ',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-443-2936',
  ),
  'Amount' =&gt; 1,
  'Notes' =&gt; '',
  'DateRequested' =&gt; '2014-08-27T03:47:39Z',
  'Status' =&gt; 'Pending',
  'Transaction' =&gt; NULL,
  'CancelledBy' =&gt; NULL,
  'DateCancelled' =&gt; '',
  'SenderAssumeAdditionalFees' =&gt; false,
  'AdditionalFees' =&gt;
  array (
  ),
  'Metadata' =&gt; NULL,
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
    <span class="s2">"Id"</span>                         <span class="o">=&gt;</span> <span class="mi">12345</span><span class="p">,</span>
    <span class="s2">"Source"</span>                     <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
    <span class="p">},</span>
    <span class="s2">"Destination"</span>                <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-443-2936"</span><span class="p">,</span>
      <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">" "</span><span class="p">,</span>
      <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
      <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-443-2936"</span>
    <span class="p">},</span>
    <span class="s2">"Amount"</span>                     <span class="o">=&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">"Notes"</span>                      <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"DateRequested"</span>              <span class="o">=&gt;</span> <span class="s2">"2014-08-27T03:47:39Z"</span><span class="p">,</span>
    <span class="s2">"Status"</span>                     <span class="o">=&gt;</span> <span class="s2">"Pending"</span><span class="p">,</span>
    <span class="s2">"Transaction"</span>                <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"CancelledBy"</span>                <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span>
    <span class="s2">"DateCancelled"</span>              <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"SenderAssumeAdditionalFees"</span> <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
    <span class="s2">"AdditionalFees"</span>             <span class="o">=&gt;</span> <span class="p">[],</span>
    <span class="s2">"Metadata"</span>                   <span class="o">=&gt;</span> <span class="kp">nil</span>
  <span class="p">}</span>
</code></pre>
<pre class="highlight python"><code>        <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="mi">1470</span><span class="p">,</span>
            <span class="s">"Source"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-693-9484"</span><span class="p">,</span>
                <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Spencer Hunter"</span><span class="p">,</span>
                <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
                <span class="s">"Image"</span><span class="p">:</span> <span class="n">null</span>
            <span class="p">},</span>
            <span class="s">"Destination"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-706-1396"</span><span class="p">,</span>
                <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Jane Doe"</span><span class="p">,</span>
                <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
                <span class="s">"Image"</span><span class="p">:</span> <span class="n">null</span>
            <span class="p">},</span>
            <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">5.00</span><span class="p">,</span>
            <span class="s">"Notes"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
            <span class="s">"DateRequested"</span><span class="p">:</span> <span class="s">"2014-07-23T21:49:06Z"</span><span class="p">,</span>
            <span class="s">"Status"</span><span class="p">:</span> <span class="s">"Pending"</span> <span class="p">,</span>
            <span class="s">"Transaction"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"CancelledBy"</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
            <span class="s">"DateCancelled"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
            <span class="s">"SenderAssumeAdditionalFees"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
            <span class="s">"AdditionalFees"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"Metadata"</span><span class="p">:</span> <span class="n">null</span> 
        <span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"Id"</span><span class="err">:</span> <span class="mi">660</span><span class="p">,</span>
  <span class="s2">"Source"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"Id"</span><span class="err">:</span> <span class="s2">"812-693-9484"</span><span class="p">,</span>
    <span class="s2">"Name"</span><span class="err">:</span> <span class="s2">"Spencer Hunter"</span><span class="p">,</span>
    <span class="s2">"Type"</span><span class="err">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span><span class="err">:</span> <span class="kc">null</span>
  <span class="p">},</span>
  <span class="s2">"Destination"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"Id"</span><span class="err">:</span> <span class="s2">"812-706-1396"</span><span class="p">,</span>
    <span class="s2">"Name"</span><span class="err">:</span> <span class="s2">"Jane Doe"</span><span class="p">,</span>
    <span class="s2">"Type"</span><span class="err">:</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span><span class="err">:</span> <span class="kc">null</span>
  <span class="p">},</span>
  <span class="s2">"Amount"</span><span class="err">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="s2">"Notes"</span><span class="err">:</span> <span class="s2">""</span><span class="p">,</span>
  <span class="s2">"DateRequested"</span><span class="err">:</span> <span class="s2">"2014-07-25T17:38:26Z"</span><span class="p">,</span>
  <span class="s2">"Status"</span><span class="err">:</span> <span class="s2">"Pending"</span> <span class="p">,</span>
  <span class="s2">"Transaction"</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"CancelledBy"</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"DateCancelled"</span><span class="err">:</span> <span class="s2">""</span><span class="p">,</span>
  <span class="s2">"SenderAssumeAdditionalFees"</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"AdditionalFees"</span><span class="err">:</span> <span class="p">[],</span>
  <span class="s2">"Metadata"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"InvoiceDate"</span><span class="err">:</span> <span class="s2">"12-06-2014"</span><span class="p">,</span>
    <span class="s2">"Priority"</span><span class="err">:</span> <span class="s2">"High"</span><span class="p">,</span>
    <span class="s2">"TShirtSize"</span><span class="err">:</span> <span class="s2">"Small"</span><span class="p">,</span>
    <span class="s2">"blah"</span><span class="err">:</span> <span class="s2">"blah"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">660</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-693-9484"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spencer Hunter"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-706-1396"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DateRequested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-25T17:38:26Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="w"> </span><span class="p">,</span><span class="w">
        </span><span class="nt">"Transaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"CancelledBy"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"DateCancelled"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"SenderAssumeAdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"AdditionalFees"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"Metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"InvoiceDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12-06-2014"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Priority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"TShirtSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Small"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"blah"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blah"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a single Money Request by its ID.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Request</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/requests/{id}</code></p>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>No verified funding sources.</td>
<td>Could not find any funding sources for the given OAuth token.</td>
</tr>
</tbody></table>
<h2 id='fulfill-money-request'>Fulfill Money Request</h2><pre class="highlight php"><code>/**
 *   Fulfill request ID 1671 for $29.99
 **/
<span class="cp">&lt;?php</span>
<span class="nv">$Requests</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Requests</span><span class="p">();</span>
<span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
<span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">pin</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>

<span class="nv">$requestId</span> <span class="o">=</span> <span class="s1">'1671'</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">fulfill</span><span class="p">(</span><span class="nv">$requestId</span><span class="p">,</span> <span class="s1">'29.99'</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Example 1: Fulfill a request, ID 1653, of amount 20.00</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Requests</span><span class="p">.</span><span class="nf">fulfill</span><span class="p">(</span><span class="s1">'1653'</span><span class="p">,</span> <span class="p">{</span>
  <span class="ss">:pin</span> <span class="o">=&gt;</span> <span class="mi">9999</span><span class="p">,</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="o">.</span><span class="mo">00</span><span class="p">,</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Fulfill a pending money request.</span>

<span class="k">print</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">fulfill</span><span class="p">(</span><span class="mi">1475</span><span class="p">,</span> <span class="mf">10.00</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * Fulfill money request ID '12345678'.  Pay '10.00'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">fulfillRequest</span><span class="p">(</span><span class="nx">pin</span><span class="p">,</span> <span class="s1">'12345678'</span><span class="p">,</span> <span class="s1">'10.00'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll receive this response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'RequestId' =&gt; 1671,
  'Id' =&gt; 347947,
  'Source' =&gt;
  array (
    'Id' =&gt; '812-742-8722',
    'Name' =&gt; 'Cafe Kubal',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-8722',
  ),
  'Destination' =&gt;
  array (
    'Id' =&gt; '812-742-3301',
    'Name' =&gt; 'Gordon Zheng',
    'Type' =&gt; 'Dwolla',
    'Image' =&gt; 'http://uat.dwolla.com/avatars/812-742-3301',
  ),
  'Amount' =&gt; 29.989999999999998,
  'SentDate' =&gt; '2014-10-24T23:37:18Z',
  'ClearingDate' =&gt; '2014-10-24T23:37:18Z',
  'Status' =&gt; 'processed',
)
</code></pre>
<pre class="highlight python"><code><span class="p">{</span>
        <span class="s">"Id"</span><span class="p">:</span> <span class="mi">147659</span><span class="p">,</span>
        <span class="s">"RequestId"</span><span class="p">:</span> <span class="mi">1475</span><span class="p">,</span>
        <span class="s">"Amount"</span><span class="p">:</span> <span class="mf">10.00</span><span class="p">,</span>
        <span class="s">"SentDate"</span><span class="p">:</span> <span class="s">"2014-01-22T13:11:10Z"</span><span class="p">,</span>
        <span class="s">"ClearingDate"</span><span class="p">:</span> <span class="s">"2014-01-22T13:11:10Z"</span><span class="p">,</span>
        <span class="s">"Status"</span><span class="p">:</span> <span class="s">"processed"</span> <span class="p">,</span>
        <span class="s">"Source"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-693-9484"</span><span class="p">,</span>
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Michael Schonfeld"</span><span class="p">,</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
            <span class="s">"Image"</span><span class="p">:</span> <span class="n">null</span>
        <span class="p">},</span>
        <span class="s">"Destination"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"Id"</span><span class="p">:</span> <span class="s">"812-600-6705"</span><span class="p">,</span>
            <span class="s">"Name"</span><span class="p">:</span> <span class="s">"Michael Schonfeld"</span><span class="p">,</span>
            <span class="s">"Type"</span><span class="p">:</span> <span class="s">"Dwolla"</span><span class="p">,</span>
            <span class="s">"Image"</span><span class="p">:</span> <span class="n">null</span>
        <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"RequestId"</span>    <span class="o">=&gt;</span> <span class="mi">1653</span><span class="p">,</span>
  <span class="s2">"Id"</span>           <span class="o">=&gt;</span> <span class="mi">341624</span><span class="p">,</span>
  <span class="s2">"Source"</span>       <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-8722"</span><span class="p">,</span>
    <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Cafe Kubal"</span><span class="p">,</span>
    <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-8722"</span>
  <span class="p">},</span>
  <span class="s2">"Destination"</span>  <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"Id"</span>    <span class="o">=&gt;</span> <span class="s2">"812-742-3301"</span><span class="p">,</span>
    <span class="s2">"Name"</span>  <span class="o">=&gt;</span> <span class="s2">"Gordon Zheng"</span><span class="p">,</span>
    <span class="s2">"Type"</span>  <span class="o">=&gt;</span> <span class="s2">"Dwolla"</span><span class="p">,</span>
    <span class="s2">"Image"</span> <span class="o">=&gt;</span> <span class="s2">"http://uat.dwolla.com/avatars/812-742-3301"</span>
  <span class="p">},</span>
  <span class="s2">"Amount"</span>       <span class="o">=&gt;</span> <span class="mi">20</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span>
  <span class="s2">"SentDate"</span>     <span class="o">=&gt;</span> <span class="s2">"2014-10-20T06:00:02Z"</span><span class="p">,</span>
  <span class="s2">"ClearingDate"</span> <span class="o">=&gt;</span> <span class="s2">"2014-10-20T06:00:02Z"</span><span class="p">,</span>
  <span class="s2">"Status"</span>       <span class="o">=&gt;</span> <span class="s2">"processed"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span> 
  <span class="nl">RequestId</span><span class="p">:</span> <span class="mi">12345678</span><span class="p">,</span>
  <span class="nx">Id</span><span class="err">:</span> <span class="mi">328969</span><span class="p">,</span>
  <span class="nx">Source</span><span class="err">:</span> <span class="p">{</span> 
    <span class="nl">Id</span><span class="p">:</span> <span class="s1">'812-740-4294'</span><span class="p">,</span>
    <span class="nx">Name</span><span class="err">:</span> <span class="s1">'GORDCORP'</span><span class="p">,</span>
    <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
    <span class="nx">Image</span><span class="err">:</span> <span class="s1">'http://uat.dwolla.com/avatars/812-740-4294'</span> 
  <span class="p">},</span>
  <span class="nx">Destination</span><span class="err">:</span> <span class="p">{</span> 
    <span class="nl">Id</span><span class="p">:</span> <span class="s1">'812-742-8722'</span><span class="p">,</span>
    <span class="nx">Name</span><span class="err">:</span> <span class="s1">'Cafe Kubal'</span><span class="p">,</span>
    <span class="nx">Type</span><span class="err">:</span> <span class="s1">'Dwolla'</span><span class="p">,</span>
    <span class="nx">Image</span><span class="err">:</span> <span class="s1">'http://uat.dwolla.com/avatars/812-742-8722'</span>
  <span class="p">},</span>
  <span class="nx">Amount</span><span class="err">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nx">SentDate</span><span class="err">:</span> <span class="s1">'2014-09-09T04:30:46Z'</span><span class="p">,</span>
  <span class="nx">ClearingDate</span><span class="err">:</span> <span class="s1">'2014-09-09T04:30:46Z'</span><span class="p">,</span>
  <span class="nx">Status</span><span class="err">:</span> <span class="s1">'processed'</span> 
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="mi">147659</span><span class="p">,</span><span class="w">
        </span><span class="nt">"RequestId"</span><span class="p">:</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"SentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-22T13:11:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ClearingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-22T13:11:10Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="w"> </span><span class="p">,</span><span class="w">
        </span><span class="nt">"Source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-693-9484"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Schonfeld"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"Destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"812-600-6705"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Michael Schonfeld"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dwolla"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"Image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Fulfill an authorized user&rsquo;s pending money request.  Request must have a status of <code class="prettyprint">Pending</code>.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Send</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/requests/{request_id}/fulfill</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pin</td>
<td>no</td>
<td>The authorized user&rsquo;s PIN.</td>
</tr>
<tr>
<td>amount</td>
<td>no</td>
<td>Amount to pay for request (must be greater than or equal to the request amount).</td>
</tr>
<tr>
<td>notes</td>
<td>yes</td>
<td>Note to attach to transaction (250 character limit).</td>
</tr>
<tr>
<td>fundsSource</td>
<td>yes</td>
<td>ID of funding source to use for transaction (defaults to <code class="prettyprint">Balance</code>).</td>
</tr>
<tr>
<td>assumeCosts</td>
<td>yes</td>
<td>Deprecated</td>
</tr>
<tr>
<td>metadata</td>
<td>yes</td>
<td>An optional <a href="request.html#metadata">metadata</a> object.</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid request ID.</td>
<td>The specific request ID is either empty or invalid.</td>
</tr>
<tr>
<td>Request not found for account.</td>
<td>Could not find a request with the specified ID for the given OAuth token.</td>
</tr>
<tr>
<td>Account can not pay their own request.</td>
<td>Account can not pay their own request.</td>
</tr>
<tr>
<td>Request has already been paid</td>
<td>Request has already been paid</td>
</tr>
<tr>
<td>Amount may not be less than request amount of {0}</td>
<td>The fulfilled amount cannot be less than the requested amount.</td>
</tr>
<tr>
<td>Notes length is too long. Maximum of 250 character is allowed.</td>
<td>The &#39;notes&rsquo; parameter is too long. See requests parameters for further details.</td>
</tr>
<tr>
<td>Invalid funding source provided: {..}</td>
<td>The specified funding source is missing, empty, or invalid.</td>
</tr>
<tr>
<td>Insufficient funds.</td>
<td>The are not enough funds in the specified funding source to fulfill this transaction.</td>
</tr>
</tbody></table>
<h2 id='cancel-a-money-request'>Cancel a Money Request</h2>
<p>Cancel a money request which the authorized user created or received.  Request must have a status of <code class="prettyprint">Pending</code>.</p>
<pre class="highlight php"><code>/**
 *   Cancel request with ID 1672
 **/
<span class="cp">&lt;?php</span>
<span class="nv">$Requests</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Requests</span><span class="p">();</span>
<span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$requestId</span> <span class="o">=</span> <span class="s1">'1672'</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Requests</span><span class="o">-&gt;</span><span class="na">cancel</span><span class="p">(</span><span class="nv">$requestId</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># Cancel request with ID '12345'</span>
<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Requests</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="s1">'1652'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Cancel a pending money request.</span>

<span class="k">print</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">cancel</span><span class="p">(</span><span class="mi">1470</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * Cancel money request with ID '12345678'
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">cancelRequest</span><span class="p">(</span><span class="s1">'12345678'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If successful, you&rsquo;ll recieve this response:</p>
</blockquote>
<pre class="highlight plaintext"><code>''      // empty string
</code></pre>
<pre class="highlight javascript"><code><span class="kc">true</span>    <span class="c1">// boolean.</span>
</code></pre>
<pre class="highlight ruby"><code><span class="s2">""</span>      <span class="o">/</span><span class="sr">/ empty string
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>Request</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/requests/{request_id}/cancel</code></p>

<table><thead>
<tr>
<th>Error String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid request ID.</td>
<td>The specific request ID is either empty or invalid.</td>
</tr>
<tr>
<td>Request not found for account.</td>
<td>Could not find a request with the specified ID for the given OAuth token.</td>
</tr>
<tr>
<td>Request is not in Pending status.</td>
<td>You may only cancel requests that are in the &#39;pending&rsquo; state.</td>
</tr>
</tbody></table>

          <h1 id='account-settings'>Account Settings</h1>
<p>With the <code class="prettyprint">ManageAccount</code> OAuth scope, you can set and retrieve a user&rsquo;s account preferences.  </p>

<p>Currently, the only account feature you can enable or disable for a user via the API is Auto Withdrawal.  When Auto Withdrawal is enabled for a user, any payments received by the user will be automatically withdrawn to a bank funding source of their choice.</p>
<h2 id='get-auto-withdrawal-status'>Get Auto Withdrawal Status</h2><pre class="highlight php"><code>/**
 * Example 1:
 * Get autowithdrawal status for the 
 * account associted with the OAuth token
 */

<span class="cp">&lt;?php</span>
<span class="nv">$Account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Account</span><span class="p">();</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">getAutoWithdrawalStatus</span><span class="p">();</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1">#   Get autowithdrawal status of the user</span>
<span class="c1">#   associated with the current OAuth token</span>

<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Accounts</span><span class="p">.</span><span class="nf">get_auto_withdrawal_status</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Get the auto-withdrawal status of the user</span>
<span class="c"># associated with the current OAuth token.</span>

<span class="k">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">autowithdrawalstatus</span><span class="p">())</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * Find out whether or not auto-withdrawal is enabled for the 
 * authorized user
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">getAutoWithdrawalStatus</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If enabled, you&rsquo;ll get:</p>
</blockquote>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Enabled"</span>   <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span>
  <span class="s2">"FundingId"</span> <span class="o">=&gt;</span> <span class="s2">"5da016f7769bcb1de9938a30d194d5a7"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span><span class="s">u'Enabled'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">u'FundingId'</span><span class="p">:</span> <span class="s">u'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"Enabled"</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"FundingId"</span><span class="err">:</span> <span class="s2">"5da016f7769bcb1de9938a30d194d5a7"</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"FundingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5da016f7769bcb1de9938a30d194d5a7"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight php"><code>array (
  'Enabled' =&gt; true,
  'FundingId' =&gt; '5da016f7769bcb1de9938a30d194d5a7',
)
</code></pre>

<blockquote>
<p>If disabled, you&rsquo;ll get this response:</p>
</blockquote>
<pre class="highlight php"><code>array (
  'Enabled' =&gt; false,
  'FundingId' =&gt; '',
)
</code></pre>
<pre class="highlight ruby"><code><span class="p">{</span>
  <span class="s2">"Enabled"</span>   <span class="o">=&gt;</span> <span class="kp">false</span><span class="p">,</span>
  <span class="s2">"FundingId"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight python"><code><span class="p">{</span><span class="s">u'Enabled'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">u'FundingId'</span><span class="p">:</span> <span class="s">u''</span><span class="p">}</span>
</code></pre>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"Enabled"</span><span class="err">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"FundingId"</span><span class="err">:</span> <span class="s2">""</span>
<span class="p">}</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"Enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"FundingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Determine whether the Auto Withdrawal is enabled for the authorized user.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>ManageAccount</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://www.dwolla.com/oauth/rest/accounts/features/auto_withdrawl</code></p>
<h2 id='enabledisable-auto-withdrawal'>Enable/Disable Auto Withdrawal</h2><pre class="highlight python"><code><span class="c"># Toggle the auto-withdrawal status of an account</span>
<span class="c"># under the Dwolla user associated with the current OAuth token.</span>

<span class="k">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">toggleautowithdrawalstatus</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">'12345678'</span><span class="p">))</span>
</code></pre>
<pre class="highlight php"><code>/**
 * Example 1:
 * Enable autowithdraw for funding source '12345' under the
 * account associted with the OAuth token
 */

<span class="cp">&lt;?php</span>
<span class="nv">$Account</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dwolla\Account</span><span class="p">();</span>
<span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">settings</span><span class="o">-&gt;</span><span class="na">oauth_token</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="s1">'5da016f7769bcb1de9938a30d194d5a7'</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$Account</span><span class="o">-&gt;</span><span class="na">toggleAutoWithdrawalStatus</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nv">$fundingSource</span><span class="p">);</span>

<span class="nb">var_export</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight ruby"><code><span class="c1"># EXAMPLE 1:</span>
<span class="c1">#   Enable autowithdraw for funding source '12345' under the</span>
<span class="c1">#   associated with the current OAuth token</span>

<span class="nb">puts</span> <span class="no">Dwolla</span><span class="o">::</span><span class="no">Accounts</span><span class="p">.</span><span class="nf">toggle_auto_withdrawl</span><span class="p">(</span><span class="kp">true</span><span class="p">,</span> <span class="s1">'12345'</span><span class="p">)</span>
</code></pre>
<pre class="highlight python"><code><span class="c"># Toggle the auto-withdrawal status of an account</span>
<span class="c"># under the Dwolla user associated with the current OAuth token.</span>

<span class="k">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">toggleautowithdrawalstatus</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">'12345678'</span><span class="p">))</span>
</code></pre>
<pre class="highlight javascript"><code><span class="cm">/***
 * Enable auto-withdraw for the user associated with the OAuth token,
 * for the funding source ID '1234567'.
 */</span>

<span class="nx">Dwolla</span><span class="p">.</span><span class="nx">toggleAutoWithdraw</span><span class="p">(</span><span class="s1">'true'</span><span class="p">,</span> <span class="s1">'1234567'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>If enabled, you&rsquo;ll get this response:</p>
</blockquote>
<pre class="highlight php"><code>'Enabled'
</code></pre>
<pre class="highlight ruby"><code><span class="s2">"Enabled"</span>
</code></pre>
<pre class="highlight python"><code><span class="s">"Enabled"</span>
</code></pre>
<pre class="highlight javascript"><code><span class="s2">"Enabled"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"Success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Response"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Enable or disable Auto Withdrawal for the authorized user.</p>
<aside class="reminder"><p>This endpoint <a href="request.html#authentication">requires</a> an OAuth access token with the <code>ManageAccount</code> scope.</p>
</aside><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://www.dwolla.com/oauth/rest/accounts/features/auto_withdrawl</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>enabled</td>
<td>Boolean value of autowithdrawal feature.</td>
</tr>
<tr>
<td>fundingId</td>
<td><a href="request.html#funding-sources">Funding source</a> ID of account to autowithdraw funds to.</td>
</tr>
</tbody></table>

          
          <h1 id='changelog'>Changelog</h1>
<p>Track our changes on <a href="https://github.com/Dwolla/slate/commits/master">Github</a>!</p>

<table><thead>
<tr>
<th>Date</th>
<th>Changes</th>
</tr>
</thead><tbody>
<tr>
<td>10/15/2014</td>
<td>Initial docs + code samples written</td>
</tr>
<tr>
<td>12/03/2014</td>
<td>Temporarily removed Scheduled Transactions documentation, which is currently not available while we work on making some improvements to it.</td>
</tr>
<tr>
<td>03/17/2015</td>
<td>Add new parameters <code class="prettyprint">processingTypes</code> and <code class="prettyprint">verified</code> to the <a href="request.html#list-funding-sources">List Funding Sources</a> endpoint.</td>
</tr>
<tr>
<td>4/1/2015</td>
<td>Added Python example code</td>
</tr>
<tr>
<td>4/28/2015</td>
<td>Add Scheduled Payments documentation. Introduce Scheduled scope. Add Catalog endpoint. Update sample code for scheduled and catalog.</td>
</tr>
<tr>
<td>8/7/2015</td>
<td>Add <code class="prettyprint">dwolla_landing</code> parameter to the initial OAuth authorization request.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="request.html#" data-language-name="json">json</a>
                <a href="request.html#" data-language-name="php">php</a>
                <a href="request.html#" data-language-name="ruby">ruby</a>
                <a href="request.html#" data-language-name="python">python</a>
                <a href="request.html#" data-language-name="javascript">node.js</a>
          </div>
      </div>
    </div>
  </body>
</html>
